(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){var has=require("@f/has");var defaultUnits=require("@f/css-default-units");module.exports=applyStyles;var floatProp="cssFloat";var emptyObj={};function applyStyles(node,styles,prevStyles){var nodeStyle=node.style;styles=styles||emptyObj;if(prevStyles){for(var key in prevStyles){if(has(key,prevStyles)&&!has(key,styles)){if(key==="float")key=floatProp;nodeStyle[key]=""}}}for(var key in styles){if(has(key,styles)){var val=defaultUnits(key,styles[key]);if(key==="float")key=floatProp;nodeStyle[key]=val===null||val===undefined?"":val}}}},{"@f/css-default-units":16,"@f/has":44}],2:[function(require,module,exports){module.exports=equal["default"]=equal;function equal(a,b){var aLen=a.length;var bLen=b.length;if(aLen===bLen){for(var i=0;i<aLen;++i){if(a[i]!==b[i]){return false}}return true}return false}},{}],3:[function(require,module,exports){module.exports=arrayToPromise["default"]=arrayToPromise;function arrayToPromise(obj){return Promise.all(obj)}},{}],4:[function(require,module,exports){var reduce=require("@f/reduce-array");var has=require("@f/has");module.exports=brackets;function brackets(obj,path,value){return reduce(function(acc,key,idx,parts){if(idx===parts.length-1){if(key==="")acc.push(value);else acc[key]=value;return obj}else if(key===""){var end=acc[acc.length-1];if(!end||hasPath(end,parts,idx+1)){end={};acc.push(end)}return end}else{return has(key,acc)?acc[key]:acc[key]=isArrayKey(parts[idx+1])?[]:{}}},obj,parse(path))}function hasPath(obj,keys,n){var p=obj;for(var i=n;i<keys.length;i++){var key=keys[i];if(!has(key,p))return false;p=p[key]}return true}function isArrayKey(key){return key===""||typeof key==="number"}function parse(path){var parts=path.split("[");for(var i=0;i<parts.length;i++){var s=parts[i];parts[i]=s[s.length-1]==="]"?s.slice(0,-1):s;parts[i]=/^\d+$/.test(parts[i])?Number(parts[i]):parts[i]}return parts}},{"@f/has":44,"@f/reduce-array":86}],5:[function(require,module,exports){module.exports=canSelectText["default"]=canSelectText;var selectable=/^text|search|password|tel|url$/;function canSelectText(node){return node.tagName==="INPUT"&&selectable.test(node.type)}},{}],6:[function(require,module,exports){module.exports=capitalize;function capitalize(str){return str[0].toUpperCase()+str.slice(1)}},{}],7:[function(require,module,exports){var forEach=require("@f/foreach");module.exports=cloneObj["default"]=cloneObj;function cloneObj(obj){var newObj={};forEach(function(val,key){newObj[key]=val},obj);return newObj}},{"@f/foreach":36}],8:[function(require,module,exports){var cloneObj=require("@f/clone-obj");var cloneArray=require("@f/slice");var isArray=require("@f/is-array");module.exports=cloneShallow;function cloneShallow(a){return isArray()?cloneArray(a):cloneObj(a)}},{"@f/clone-obj":7,"@f/is-array":52,"@f/slice":95}],9:[function(require,module,exports){var clone=require("@f/clone-shallow");var composeReducers=require("@f/compose-reducers");module.exports=combineReducers["default"]=combineReducers;function combineReducers(reducers,defaultState){defaultState=defaultState||{};return composeReducers.apply(null,Object.keys(reducers).map(function(key){return scopeReducer(reducers[key],key,defaultState)}))}function scopeReducer(reducer,prop,defaultState){return function(state,action){if(state===undefined)state=defaultState;var childState=reducer(state[prop],action);if(childState!==state[prop]){state=clone(state);state[prop]=childState}return state}}},{"@f/clone-shallow":8,"@f/compose-reducers":10}],10:[function(require,module,exports){var toArray=require("@f/to-array");module.exports=composeReducers["default"]=composeReducers;function composeReducers(){var args=toArray(arguments);var len=args.length;return function(state,action){for(var i=0;i<len;++i){state=args[i](state,action)}return state}}},{"@f/to-array":104}],11:[function(require,module,exports){var reduce=require("@f/reduce-array");var identity=require("@f/identity");module.exports=compose;function compose(){var args=new Array(arguments.length===0?0:arguments.length-1);for(var i=1;i<arguments.length;i++){args[i-1]=arguments[i]}return reduce(composeTwo,arguments[0]||identity,args)}function composeTwo(f,g){return function(){return f.call(this,g.apply(this,arguments))}}},{"@f/identity":48,"@f/reduce-array":86}],12:[function(require,module,exports){module.exports=computePlacement;function computePlacement(placement,nodeDims,nearRect,opts){opts=opts||{};var relative=opts.relative;var space=opts.space||0;var width=nodeDims.width;var height=nodeDims.height;var top=relative?0:nearRect.top;var left=relative?0:nearRect.left;var vmid=top+(nearRect.height/2-height/2);var hmid=left+(nearRect.width/2-width/2);switch(placement){case"left":return{left:left-(width+space),top:vmid};case"right":return{left:left+nearRect.width+space,top:vmid};case"top":return{left:hmid,top:top-(height+space)};case"bottom":return{left:hmid,top:top+nearRect.height+space}}}},{}],13:[function(require,module,exports){module.exports=containsElement;function containsElement(parent,child){while(child&&child!==parent)child=child.parentNode;return!!child}},{}],14:[function(require,module,exports){module.exports=createAction["default"]=createAction;function createAction(type,payload,meta){function actionCreator(){return{type:type,payload:payload?payload.apply(this,arguments):arguments[0],meta:meta?meta.apply(this,arguments):meta}}actionCreator.type=type;actionCreator.toString=toString;return actionCreator}function toString(){return this.type}},{}],15:[function(require,module,exports){var isSvg=require("@f/is-svg");var svgNs=require("@f/svg-namespace");module.exports=createElement;function createElement(tag){return isSvg(tag)?document.createElementNS(svgNs,tag):document.createElement(tag)}},{"@f/is-svg":63,"@f/svg-namespace":100}],16:[function(require,module,exports){var unitless=require("@f/css-unitless");module.exports=cssDefaultUnits;function cssDefaultUnits(key,value){if(unitless[key])return value;if(isNaN(value)||value===""||value===null)return value;return value+"px"}},{"@f/css-unitless":17}],17:[function(require,module,exports){var hyphenate=require("@f/hyphenate");var props=["animationIterationCount","boxFlex","boxFlexGroup","boxOrdinalGroup","columns","columnCount","fillOpacity","flex","flexGrow","flexPositive","flexNegative","flexOrder","flexShrink","fontWeight","lineHeight","lineClamp","opacity","order","orphans","stopOpacity","strokeDashOffset","strokeOpacity","strokeWidth","tabSize","widows","zIndex","zoom"];module.exports=props.reduce(function(acc,prop){acc[prop]=true;acc[hyphenate(prop)]=true;return acc},{})},{"@f/hyphenate":47}],18:[function(require,module,exports){var slice=require("@f/slice");module.exports=curry;function curry(fn){var self=this;return function(){var preArgs=new Array(arguments.length);for(var i=0;i<preArgs.length;i++){preArgs[i]=arguments[i]}return function(){var args=slice(preArgs);for(var i=0;i<arguments.length;i++){args.push(arguments[i])}return fn.apply(self,args)}}}},{"@f/slice":95}],19:[function(require,module,exports){module.exports=debounce;function debounce(fn,time,leading){var lead=false;var pending=false;return function(){if(!pending){if(leading&&!lead){lead=true;fn();return}pending=true;setTimeout(run,time)}};function run(){lead=false;pending=false;fn()}}},{}],20:[function(require,module,exports){var forEach=require("@f/foreach");function defaults(obj,def){forEach(maybeSetProp,def);return obj;function maybeSetProp(val,key){if(obj[key]===undefined){obj[key]=val}}}module.exports=defaults},{"@f/foreach":36}],21:[function(require,module,exports){var domEvents=["abort","animationend","animationiteration","animationstart","blur","canplay","canplaythrough","change","click","contextmenu","copy","cut","dblclick","drag","dragend","dragenter","dragexit","dragleave","dragover","dragstart","drop","durationchange","emptied","encrypted","ended","error","focus","focusin","focusout","hashchange","input","invalid","keydown","keypress","keyup","load","loadeddata","loadedmetadata","loadstart","mousedown","mouseenter","mouseleave","mousemove","mouseout","mouseover","mouseup","paste","pause","play","playing","popstate","progress","ratechange","reset","resize","scroll","seeked","seeking","select","stalled","submit","suspend","timeupdate","touchcancel","touchend","touchmove","touchstart","transitionend","unload","volumechange","waiting","wheel"];module.exports=domEvents},{}],22:[function(require,module,exports){var isDomLoaded=require("@f/is-dom-loaded");module.exports=domready;var fns=[];if(!isDomLoaded()){document.addEventListener("DOMContentLoaded",function listener(){document.removeEventListener("DOMContentLoaded",listener);if(!isDomLoaded()){window.addEventListener("load",function loadListener(){onLoad();window.removeEventListener("load",loadListener)})}else{onLoad()}})}function onLoad(){fns.forEach(function(fn){fn()});fns.length=0}function domready(fn){isDomLoaded()?setTimeout(fn):fns.push(fn)}},{"@f/is-dom-loaded":54}],23:[function(require,module,exports){module.exports=elementRect;function elementRect(node,offsetParent){if(offsetParent===true)offsetParent=node.offsetParent;var rect=node.getBoundingClientRect();var prect=offsetParent?offsetParent.getBoundingClientRect():{left:0,top:0};return{left:rect.left-prect.left,top:rect.top-prect.top,width:rect.width,height:rect.height}}},{}],24:[function(require,module,exports){module.exports=emptyElement;function emptyElement(el){var node;while(node=el.firstChild){el.removeChild(node)}return el}},{}],25:[function(require,module,exports){arguments[4][2][0].apply(exports,arguments)},{dup:2}],26:[function(require,module,exports){module.exports=equal["default"]=equal;function equal(a,b){var aKeys=Object.keys(a);var bKeys=Object.keys(b);var aLen=aKeys.length;var bLen=bKeys.length;if(aLen===bLen){for(var i=0;i<aLen;++i){var key=aKeys[i];if(!a.hasOwnProperty(key)||!b.hasOwnProperty(key)||a[key]!==b[key]){return false}}return true}return false}},{}],27:[function(require,module,exports){var isObject=require("@f/is-object");var isArray=require("@f/is-array");var equalArray=require("@f/equal-array");var equalObj=require("@f/equal-obj");module.exports=equal;function equal(a,b){if(isObject(a)&&isObject(b))return equalObj(a,b);if(isArray(a)&&isArray(b))return equalArray(a,b);return a===b}},{"@f/equal-array":25,"@f/equal-obj":26,"@f/is-array":52,"@f/is-object":60}],28:[function(require,module,exports){var isFunction=require("@f/is-function");var isObject=require("@f/is-object");var keychord=require("@f/keychord");var isArray=require("@f/is-array");var over=require("@f/maybe-over");var map=require("@f/map");module.exports=eventHandler;function eventHandler(fn){if(isFunction(fn))return fn;if(isArray(fn))return combine(map(eventHandler,fn));if(isObject(fn))return match(map(eventHandler,fn))}function match(obj){return function(e){var chord=eventKey(e);var fn=obj[chord];if(isFunction(fn)){return fn(e)}}}function combine(fns){return function(e){return over(e,fns)}}function eventKey(e){return keychord(e)}},{"@f/is-array":52,"@f/is-function":56,"@f/is-object":60,"@f/keychord":67,"@f/map":75,"@f/maybe-over":76}],29:[function(require,module,exports){var forEach=require("@f/foreach-obj");module.exports=extend;function extend(dst){for(var i=1;i<arguments.length;i++){extendTwo(dst,arguments[i])}return dst}function extendTwo(dst,src){forEach(function(val,key){dst[key]=val},src)}},{"@f/foreach-obj":35}],30:[function(require,module,exports){module.exports=filterArray["default"]=filterArray;function filterArray(fn,arr){var newArray=[];for(var i=0,len=arr.length;i<len;++i){var val=arr[i];if(fn(val,i)){newArray.push(val)}}return newArray}},{}],31:[function(require,module,exports){module.exports=filterObj["default"]=filterObj;function filterObj(fn,obj){var keys=Object.keys(obj);var newObj={};for(var i=0,len=keys.length;i<len;++i){var key=keys[i];var val=obj[key];if(fn(val,key)){newObj[key]=val}}return newObj}},{}],32:[function(require,module,exports){var isArray=require("@f/is-array");var isObject=require("@f/is-object");var filterObj=require("@f/filter-obj");var filterArr=require("@f/filter-array");module.exports=filter["default"]=filter;function filter(fn,val){if(isObject(val))return filterObj(fn,val);if(isArray(val))return filterArr(fn,val)}},{"@f/filter-array":30,"@f/filter-obj":31,"@f/is-array":52,"@f/is-object":60}],33:[function(require,module,exports){module.exports=focusElement;function focusElement(node){if(node.ownerDocument.activeElement!==node){node.focus()}}},{}],34:[function(require,module,exports){module.exports=forEach["default"]=forEach;function forEach(fn,arr){if(!arr)return;for(var i=0,len=arr.length;i<len;++i){fn.call(this,arr[i],i)}}},{}],35:[function(require,module,exports){module.exports=forEach;function forEach(fn,obj){if(!obj)return;var keys=Object.keys(obj);for(var i=0,len=keys.length;i<len;++i){var key=keys[i];fn.call(this,obj[key],key,i)}}},{}],36:[function(require,module,exports){var isObject=require("@f/is-object");var isArray=require("@f/is-array");var forEachObj=require("@f/foreach-obj");var forEachArr=require("@f/foreach-array");module.exports=forEach["default"]=forEach;function forEach(fn,a){if(isArray(a))return forEachArr.call(this,fn,a);if(isObject(a))return forEachObj.call(this,fn,a)}},{"@f/foreach-array":34,"@f/foreach-obj":35,"@f/is-array":52,"@f/is-object":60}],37:[function(require,module,exports){var formElements=require("@f/form-elements");var slice=require("@f/slice");var selector=formElements.join(",");module.exports=formControls;function formControls(form){return slice(form.elements||form.querySelectorAll(selector))}},{"@f/form-elements":38,"@f/slice":95}],38:[function(require,module,exports){var formElements=["button","fieldset","input","keygen","object","output","select","textarea"];module.exports=formElements},{}],39:[function(require,module,exports){var isDefer=require("@f/is-defer");var isFunction=require("@f/is-function");var isPromise=require("@f/is-promise");var isIterator=require("@f/is-iterator");var slice=require("@f/slice");module.exports=toPromise;function toPromise(gen){var self=this;var args=slice(arguments,1);return new Promise(function(resolve,reject){if(isFunction(gen)){gen=gen.apply(self,args)}if(!isIterator(gen)){return resolve(gen)}var onFulfilled=iter("next");var onRejected=iter("throw");onFulfilled();function next(ret){var val=ret.value;if(ret.done)return resolve(val);if(isPromise(val)){return val.then(onFulfilled,onRejected)}else if(isDefer(val)){val=val.promise}return onFulfilled(val)}function iter(attr){return function(res){var ret;try{ret=gen[attr](res)}catch(e){return reject(e)}next(ret)}}})}},{"@f/is-defer":53,"@f/is-function":56,"@f/is-iterator":59,"@f/is-promise":61,"@f/slice":95}],40:[function(require,module,exports){var iteratorSymbol=require("@f/iterator-symbol");exports.Object=Generator;exports.Function=GeneratorFunction;exports.FunctionPrototype=GeneratorFunctionPrototype;function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var Gp=GeneratorFunctionPrototype.prototype=Generator.prototype;GeneratorFunction.prototype=Gp.constructor=GeneratorFunctionPrototype;GeneratorFunctionPrototype.constructor=GeneratorFunction;GeneratorFunction.displayName="GeneratorFunction";Gp[iteratorSymbol]=function(){return this};Gp.toString=function(){return"[object Generator]"}},{"@f/iterator-symbol":66}],41:[function(require,module,exports){var isString=require("@f/is-string");module.exports=getProp["default"]=getProp;function getProp(path,obj){if(isString(path)){path=path.split(".")}for(var i=0,len=path.length;i<len&&obj;++i){obj=obj[path[i]]}return obj}},{"@f/is-string":62}],42:[function(require,module,exports){module.exports=getValue;function getValue(el){switch(type(el)){case"checkbox":case"radio":return el.checked?checkValue(el.getAttribute("value")):false;case"select":for(var i=0,len=el.options.length;i<len;i++){var opt=el.options[i];if(opt.selected)return opt.value}default:return el.value}}function checkValue(value){return null===value?true:value}function type(el){return el.nodeName==="INPUT"?el.type:el.nodeName.toLowerCase()}},{}],43:[function(require,module,exports){var composeReducers=require("@f/compose-reducers");var isUndefined=require("@f/is-undefined");module.exports=handleActions["default"]=handleActions;function handleActions(map,defaultState){return composeReducers.apply(null,Object.keys(map).map(function(type){if(!type)throw new Error("@f/handle-actions: null/undefined passed as an action type. Did you declare your action types below the reducer map?");return scopeReducer(type,map[type],defaultState)}))}function scopeReducer(type,reducer,defaultState){return function(state,action){return action.type===type?reducer(state,action.payload):isUndefined(state)?defaultState:state}}},{"@f/compose-reducers":10,"@f/is-undefined":64}],44:[function(require,module,exports){module.exports=has;var hasOwn=Object.prototype.hasOwnProperty;function has(prop,obj){return hasOwn.call(obj,prop)}},{}],45:[function(require,module,exports){module.exports=hashStr;function hashStr(str){var hash=0;for(var i=0,len=str.length;i<len;++i){var c=str.charCodeAt(i);hash=(hash<<5)-hash+c;hash|=0}return hash}},{}],46:[function(require,module,exports){var t=true;module.exports={abbr:t,accept:t,"accept-charset":t,acceptCharset:t,accesskey:t,accessKey:t,action:t,allowfullscreen:t,allowFullscreen:t,allowtransparency:t,allowTransparency:t,alt:t,async:t,autocomplete:t,autofocus:t,autoplay:t,cellpadding:t,cellspacing:t,challenge:t,charset:t,checked:t,cite:t,"class":t,cols:t,colspan:t,command:t,content:t,contenteditable:t,contentEditable:t,contextmenu:t,contextMenu:t,controls:t,coords:t,crossorigin:t,data:t,datetime:t,"default":t,defaultValue:t,defaultChecked:t,defer:t,dir:t,disabled:t,download:t,draggable:t,dropzone:t,enctype:t,"for":t,form:t,formaction:t,formenctype:t,formmethod:t,formnovalidate:t,formtarget:t,frameBorder:t,headers:t,height:t,hidden:t,high:t,href:t,hreflang:t,"for":t,"http-equiv":t,icon:t,id:t,inputmode:t,ismap:t,itemid:t,itemprop:t,itemref:t,itemscope:t,itemtype:t,kind:t,label:t,lang:t,list:t,loop:t,manifest:t,max:t,maxlength:t,media:t,mediagroup:t,method:t,min:t,minlength:t,multiple:t,muted:t,name:t,novalidate:t,open:t,optimum:t,pattern:t,ping:t,placeholder:t,poster:t,preload:t,radiogroup:t,readonly:t,rel:t,required:t,role:t,rows:t,rowspan:t,sandbox:t,scope:t,scoped:t,scrolling:t,seamless:t,selected:t,shape:t,size:t,sizes:t,sortable:t,span:t,spellcheck:t,src:t,srcdoc:t,srcset:t,start:t,step:t,style:t,tabindex:t,target:t,title:t,translate:t,type:t,typemustmatch:t,usemap:t,value:t,width:t,wmode:t,wrap:t}},{}],47:[function(require,module,exports){module.exports=hyphenate;var upperCasePattern=/([A-Z])/g;function hyphenate(str){return str.replace(upperCasePattern,dashLower)}function dashLower(c){return"-"+c.toLowerCase()}},{}],48:[function(require,module,exports){module.exports=identity["default"]=identity;function identity(val){return val}},{}],49:[function(require,module,exports){var reduce=require("@f/reduce-array");var identity=require("@f/identity");module.exports=index;function index(keyFn,itemFn,list){if(arguments.length===2){list=itemFn;itemFn=identity}if(arguments.length===1){list=keyFn;keyFn=identity;itemFn=identity}return reduce(function(map,item,idx){map[keyFn(item)]=itemFn(item,idx);return map},{},list)}},{"@f/identity":48,"@f/reduce-array":86}],50:[function(require,module,exports){module.exports=["type","accept","accesskey","autocapitalize","autocomplete","autocorrect","autofocus","autosave","checked","disabled","form","formaction","formenctype","formmethod","formnovalidate","formtarget","height","incremental","inputmode","list","max","maxlength","min","minlength","multiple","name","pattern","placeholder","readonly","required","results","selectionDirection","size","spellcheck","src","step","tabindex","usemap","value","width"]},{}],51:[function(require,module,exports){module.exports=insertElement["default"]=insertElement;function insertElement(parent,node,pos){return parent.insertBefore(node,parent.childNodes[pos]||null)}},{}],52:[function(require,module,exports){module.exports=isArray["default"]=isArray;function isArray(val){return Array.isArray(val)}},{}],53:[function(require,module,exports){var isPromise=require("@f/is-promise");module.exports=isDefer;function isDefer(val,strict){return!!val&&isPromise(val.promise)&&(!strict||val.resolve&&val.reject)}},{"@f/is-promise":61}],54:[function(require,module,exports){module.exports=isDomLoaded;function isDomLoaded(){return document.readyState==="complete"||document.readyState!=="loading"&&!document.documentElement.doScroll}},{}],55:[function(require,module,exports){var types=/^(?:submit|button|image|reset|file)$/i;var names=/^(?:input|select|textarea|keygen)$/i;var check=/^(?:checkbox|radio)$/i;module.exports=isSubmittable;function isSubmittable(el){return!el.disabled&&el.name&&!types.test(el.type)&&names.test(el.nodeName)&&(!check.test(el.type)||el.checked)}},{}],56:[function(require,module,exports){module.exports=isFunction["default"]=isFunction;function isFunction(value){return typeof value==="function"}},{}],57:[function(require,module,exports){var isFunction=require("@f/is-function");module.exports=isFunctor;function isFunctor(val){return val&&isFunction(val.map)}},{"@f/is-function":56}],58:[function(require,module,exports){var isFunction=require("@f/is-function");module.exports=isGenerator["default"]=isGenerator;function isGenerator(fn){var ctor=isFunction(fn)&&fn.constructor;if(!ctor)return false;return ctor.name==="GeneratorFunction"||ctor.displayName==="GeneratorFunction"}},{"@f/is-function":56}],59:[function(require,module,exports){var isFunction=require("@f/is-function");module.exports=isIterator["default"]=isIterator;function isIterator(obj,strict){return!!obj&&isFunction(obj.next)&&(obj.throw?isFunction(obj.throw):!strict)}},{"@f/is-function":56}],60:[function(require,module,exports){var isFunction=require("@f/is-function");module.exports=isObject;var objString=toString(Object);function isObject(val){return!!val&&(val.constructor===Object||isObjectString(val.constructor))}function isObjectString(val){return!!val&&isFunction(val)&&toString(val)===objString}function toString(val){return Function.prototype.toString.call(val)}},{"@f/is-function":56}],61:[function(require,module,exports){module.exports=isPromise["default"]=isPromise;function isPromise(val){return!!val&&typeof val.then==="function"}},{}],62:[function(require,module,exports){module.exports=isString["default"]=isString;function isString(value){return typeof value==="string"}},{}],63:[function(require,module,exports){var svgElements=require("@f/svg-elements");var has=require("@f/has");module.exports=isSvg["default"]=isSvg;var svgMap=svgElements.reduce(function(acc,name){acc[name]=true;return acc},{});function isSvg(name){return has(name,svgMap)}},{"@f/has":44,"@f/svg-elements":99}],64:[function(require,module,exports){module.exports=isUndefined["default"]=isUndefined;function isUndefined(value){return typeof value==="undefined"}},{}],65:[function(require,module,exports){module.exports=isValidAttr;function isValidAttr(val){switch(typeof val){case"string":case"number":return true;case"boolean":return val;default:return false}}},{}],66:[function(require,module,exports){module.exports=typeof Symbol==="function"&&Symbol.iterator||"@@iterator"},{}],67:[function(require,module,exports){var keycodes=require("@f/keycodes");module.exports=keychord["default"]=keychord;function keychord(e){var chord=[];if(e.ctrlKey)chord.push("ctrl");if(e.altKey)chord.push("alt");if(e.metaKey)chord.push("command");if(e.shiftKey)chord.push("shift");var name=keycodes[e.which];if(chord.indexOf(name)===-1){chord.push(name)}return chord.join("+")}},{"@f/keycodes":68}],68:[function(require,module,exports){var keycodes=module.exports={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",19:"pause",20:"caps_lock",27:"esc",32:"space",33:"page_up",34:"page_down",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"delete",91:"command",93:"right_click",106:"numpad_*",107:"numpad_+",109:"numpad_-",110:"numpad_.",111:"numpad_/",144:"num_lock",145:"scroll_lock",182:"my_computer",183:"my_calculator",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"};for(var i=97;i<123;i++){keycodes[i-32]=String.fromCharCode(i)}for(var j=48;j<58;j++){keycodes[j]=j-48}for(var k=1;k<13;k++){keycodes[k+111]="f"+k}for(var l=0;l<10;l++){keycodes[l+96]="numpad_"+l}},{}],69:[function(require,module,exports){module.exports=loadImage;function loadImage(url){return new Promise(function(resolve,reject){var img=new Image;img.src=url;img.addEventListener("load",resolve);img.addEventListener("error",reject)})}},{}],70:[function(require,module,exports){module.exports=logError;function logError(err){var msg=err.stack||err.toString();console.error();console.error(msg.replace(/^/gm,"  "));console.error()}},{}],71:[function(require,module,exports){module.exports=map["default"]=map;function map(fn,arr){var len=arr.length;var result=new Array(len);var self=this;for(var i=0;i<len;++i){result[i]=fn.call(self,arr[i],i)}return result}},{}],72:[function(require,module,exports){var toGenerator=require("@f/to-generator");var slice=require("@f/slice");var isFunction=require("@f/is-function");var isIterator=require("@f/is-iterator");module.exports=map["default"]=map;function map(fn,gen){var ctx=this;return toGenerator(function(){var self=this;var it=isFunction(gen)?gen.apply(ctx,slice(arguments)):gen;var i=0;if(!isIterator(it,true)){throw TypeError("`gen` must return an iterator or be an iterator.")}self.next=next;self.throw=error;function next(arg){return map(it.next(arg))}function error(err){return map(it.throw(err))}function map(next){if(next.done)return next;try{next.value=fn.call(ctx,next.value,i++)}catch(e){return error(e)}return next}})}},{"@f/is-function":56,"@f/is-iterator":59,"@f/slice":95,"@f/to-generator":105}],73:[function(require,module,exports){module.exports=map;function map(fn,obj){var result={};var keys=Object.keys(obj);for(var i=0,len=keys.length;i<len;++i){var key=keys[i];result[key]=fn.call(this,obj[key],key)}return result}},{}],74:[function(require,module,exports){module.exports=mapValues;function mapValues(fn,obj){var keys=Object.keys(obj);var len=keys.length;var result=new Array(len);for(var i=0;i<len;++i){var key=keys[i];result[i]=fn.call(this,obj[key],key)}return result}},{}],75:[function(require,module,exports){var isArray=require("@f/is-array");var mapArray=require("@f/map-array");var isObject=require("@f/is-object");var mapObj=require("@f/map-obj");var isGenerator=require("@f/is-generator");var mapGen=require("@f/map-gen");var isIterator=require("@f/is-iterator");var isFunctor=require("@f/is-functor");module.exports=map["default"]=map;function map(fn,val){if(isFunctor(val)){if(isArray(val)&&val.map===Array.prototype.map){return mapArray(fn,val)}else{return val.map(fn)}}if(isGenerator(val)||isIterator(val))return mapGen(fn,val);if(isObject(val))return mapObj(fn,val);throw new TypeError('You may only map an array, an object, a generator, or a functor, but the following `val` was passed: "'+String(val)+'"')}},{"@f/is-array":52,"@f/is-functor":57,"@f/is-generator":58,"@f/is-iterator":59,"@f/is-object":60,"@f/map-array":71,"@f/map-gen":72,"@f/map-obj":73}],76:[function(require,module,exports){var isFunction=require("@f/is-function");var map=require("@f/map-array");module.exports=maybeOver;function maybeOver(value,fns){return map(function(maybeFn){return isFunction(maybeFn)?maybeFn(value):maybeFn},fns)}},{"@f/is-function":56,"@f/map-array":71}],77:[function(require,module,exports){module.exports=noop["default"]=noop;function noop(){}},{}],78:[function(require,module,exports){var zip=require("@f/zip-obj");var values=require("@f/values");var curry=require("@f/curry-once");module.exports=objectToPromise;function objectToPromise(obj){var keys=Object.keys(obj);var promises=values(obj,keys);return Promise.all(promises).then(curry(zip)(keys))}},{"@f/curry-once":18,"@f/values":107,"@f/zip-obj":108}],79:[function(require,module,exports){function objectEqual(a,b){var aKeys=Object.keys(a);var bKeys=Object.keys(b);var aLen=aKeys.length;var bLen=bKeys.length;if(aLen===bLen){for(var i=0;i<aLen;++i){var key=aKeys[i];if(!a.hasOwnProperty(key)||!b.hasOwnProperty(key)||a[key]!==b[key]){return false}}return true}return false}module.exports=objectEqual},{}],80:[function(require,module,exports){module.exports=offsetParent;function offsetParent(node){while((node=node.parentNode)&&node!==document.body){var pos=node.style.position;if(pos==="relative"||pos==="fixed"||pos==="absolute"){break}}return node}},{}],81:[function(require,module,exports){var isFunction=require("@f/is-function");var forEach=require("@f/foreach-obj");var isObject=require("@f/is-object");var identity=require("@f/identity");var isArray=require("@f/is-array");var index=require("@f/index");function omit(keys,obj){if(arguments.length===1){if(isArray(keys)){keys=index(identity,T,keys)}return function(obj){return internalOmit.call(this,keys,obj)}}return internalOmit.call(this,keys,obj)}function internalOmit(keys,obj){var result={};if(isArray(keys)){forEach(function(val,key){if(keys.indexOf(key)===-1){result[key]=val}},obj)}else if(isObject(keys)){forEach(function(val,key){if(!keys[key]){result[key]=val}},obj)}else if(isFunction(keys)){var self=this;forEach(function(val,key){if(!keys.call(self,key)){result[key]=val}},obj)}else{forEach(function(val,key){if(keys!==key){result[key]=val}},obj)}return result}function T(){return true}module.exports=omit},{"@f/foreach-obj":35,"@f/identity":48,"@f/index":49,"@f/is-array":52,"@f/is-function":56,"@f/is-object":60}],82:[function(require,module,exports){module.exports=pick;function pick(keys,obj){if("function"===typeof keys)return pickPredicate(keys,obj);if(Array.isArray(keys))return pickList.apply(null,arguments)}function pickPredicate(fn,obj){var copy={};var keys=Object.keys(obj);for(var i=0,len=keys.length;i<len;++i){var key=keys[i];var val=obj[key];if(fn(val,key)){copy[key]=val}}return copy}function pickList(keys,a,b,c,d,e){if(arguments.length>6)return pickListLong.apply(null,arguments);var copy={};for(var i=0;i<keys.length;++i){var key=keys[i];if(typeof a[key]!=="undefined")copy[key]=a[key];else if(b&&typeof b[key]!=="undefined")copy[key]=b[key];else if(c&&typeof c[key]!=="undefined")copy[key]=c[key];else if(d&&typeof d[key]!=="undefined")copy[key]=d[key];else if(e&&typeof e[key]!=="undefined")copy[key]=e[key]}return copy}function pickListLong(keys){var objs=[];for(var i=1;i<arguments.length;i++){objs.push(arguments[i])}var copy={};for(var j=0;j<keys.length;j++){var key=keys[j];for(var k=0;k<objs.length;k++){var obj=objs[k];var val=obj[key];if(typeof val!=="undefined"){copy[key]=obj[key];break}}}return copy}},{}],83:[function(require,module,exports){module.exports=popcount;function popcount(x,n){if(n!==undefined){x&=(1<<n)-1}x-=x>>1&1431655765;x=(x&858993459)+(x>>2&858993459);x=x+(x>>4)&252645135;x+=x>>8;x+=x>>16;return x&127}},{}],84:[function(require,module,exports){var getRect=require("@f/element-rect");var applyStyles=require("@f/apply-styles");var offsetParent=require("@f/offset-parent");var computePlacement=require("@f/compute-placement");module.exports=positionElement;function positionElement(node,placement,opts){opts=opts||{};var parent=offsetParent(node);var near=opts.near||parent;var nodeDims=getRect(node);var nearRect=getRect(near,true);var pos=computePlacement(placement,nodeDims,nearRect,{
relative:near===parent,space:opts.space});applyStyles(node,pos)}},{"@f/apply-styles":1,"@f/compute-placement":12,"@f/element-rect":23,"@f/offset-parent":80}],85:[function(require,module,exports){var map=require("@f/map-array");module.exports=queue;function queue(){var fns=[];return{add:function(fn){fns.push(fn)},flush:function(){var result=map(function(fn){return fn()},fns);fns=[];return result}}}},{"@f/map-array":71}],86:[function(require,module,exports){module.exports=reduceArray["default"]=reduceArray;function reduceArray(cb,init,arr){var len=arr.length;var acc=init;if(!arr.length)return init;for(var i=0;i<len;i++){acc=cb(acc,arr[i],i,arr)}return acc}},{}],87:[function(require,module,exports){module.exports=reduceObj;function reduceObj(fn,acc,obj){if(!obj)return acc;var keys=Object.keys(obj);for(var i=0,len=keys.length;i<len;++i){var key=keys[i];acc=fn(acc,obj[key],key,obj)}return acc}},{}],88:[function(require,module,exports){var reduceArray=require("@f/reduce-array");var reduceObj=require("@f/reduce-obj");var isObject=require("@f/is-object");var isArray=require("@f/is-array");module.exports=reduce;function reduce(fn,acc,container){if(isArray(container))return reduceArray(fn,acc,container);if(isObject(container))return reduceObj(fn,acc,container);return acc}},{"@f/is-array":52,"@f/is-object":60,"@f/reduce-array":86,"@f/reduce-obj":87}],89:[function(require,module,exports){module.exports=removeElement["default"]=removeElement;function removeElement(node){return node.parentNode.removeChild(node)}},{}],90:[function(require,module,exports){module.exports=replaceElement["default"]=replaceElement;function replaceElement(newNode,oldNode){return oldNode.parentNode.replaceChild(newNode,oldNode)}},{}],91:[function(require,module,exports){var brackets=require("@f/brackets");var getValue=require("@f/get-value");var reduce=require("@f/reduce-array");var controls=require("@f/form-controls");var submittable=require("@f/is-element-submittable");module.exports=serialize;function serialize(form){return reduce(function(acc,ctrl){return submittable(ctrl)?brackets(acc,ctrl.name,getValue(ctrl)):acc},{},controls(form))}},{"@f/brackets":4,"@f/form-controls":37,"@f/get-value":42,"@f/is-element-submittable":55,"@f/reduce-array":86}],92:[function(require,module,exports){var svgAttributeNamespace=require("@f/svg-attribute-namespace");module.exports=setAttribute["default"]=setAttribute;function setAttribute(node,name,value){var ns=svgAttributeNamespace(name);return ns?node.setAttributeNS(ns,name,value):node.setAttribute(name,value)}},{"@f/svg-attribute-namespace":97}],93:[function(require,module,exports){var extend=require("@f/extend");module.exports=setProto["default"]=setProto;function setProto(proto,obj){if(!hasProto(obj)){extend(obj,proto)}else if(Object.setPrototypeOf){Object.setPrototypeOf(obj,proto)}else{obj.__proto__=proto}return obj}function hasProto(obj){return"__proto__"in obj}},{"@f/extend":29}],94:[function(require,module,exports){var canSelectText=require("@f/can-select-text");module.exports=setValue["default"]=setValue;function setValue(node,value){if(node.ownerDocument.activeElement===node&&canSelectText(node)){var start=node.selectionStart;var end=node.selectionEnd;node.value=value;node.setSelectionRange(start,end)}else{node.value=value}}},{"@f/can-select-text":5}],95:[function(require,module,exports){module.exports=slice;function slice(array,begin,end){begin=begin||0;end=end||array.length;var arr=new Array(array.length);for(var i=begin;i<end;++i){arr[i-begin]=array[i]}return arr}},{}],96:[function(require,module,exports){module.exports=splice;function splice(arr,idx,n){var result=[];var nItems=arguments.length-3;if(idx<0)idx=arr.length+idx;if(idx>arr.length)idx=arr.length;for(var i=0;i<idx;++i){result.push(arr[i])}for(var j=0;j<nItems;j++){result.push(arguments[j+3])}for(var k=idx+n;k<arr.length;++k){result.push(arr[k])}return result}},{}],97:[function(require,module,exports){var namespaces=require("@f/svg-attribute-namespaces");module.exports=svgAttributeNamespace["default"]=svgAttributeNamespace;function svgAttributeNamespace(attributeName){if(attributeName.indexOf(":")===-1)return null;var prefix=attributeName.split(":",1)[0];if(namespaces.hasOwnProperty(prefix)){return namespaces[prefix]}else{throw new Error('svg-attribute-namespace: prefix "'+prefix+'" is not supported by SVG.')}}},{"@f/svg-attribute-namespaces":98}],98:[function(require,module,exports){var svgAttributeNamespaces={ev:"http://www.w3.org/2001/xml-events",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};module.exports=svgAttributeNamespaces},{}],99:[function(require,module,exports){var svgElements="animate circle defs ellipse g line linearGradient mask path pattern polygon polyline radialGradient rect stop svg text tspan".split(" ");module.exports=svgElements["default"]=svgElements},{}],100:[function(require,module,exports){var svgNamespace="http://www.w3.org/2000/svg";module.exports=svgNamespace["default"]=svgNamespace},{}],101:[function(require,module,exports){var noop=require("@f/noop");var slice=require("@f/slice");module.exports=Switch;function Switch(cases){cases=cases||{};return function(switchOn){var args=new Array(arguments.length);for(var i=0;i<args.length;i++){args[i]=arguments[i]}return cases[switchOn]?cases[switchOn].apply(null,slice(args,1)):(cases.default||noop).apply(null,args)}}},{"@f/noop":77,"@f/slice":95}],102:[function(require,module,exports){var slice=require("@f/slice");module.exports=thunkToPromise["default"]=thunkToPromise;function thunkToPromise(fn){var ctx=this;return new Promise(function(resolve,reject){fn.call(ctx,function(err,res){if(err)return reject(err);if(arguments.length>2)res=slice(arguments,1);resolve(res)})})}},{"@f/slice":95}],103:[function(require,module,exports){module.exports=times;function times(n,fn){var arr=new Array(n);for(var i=0;i<n;++i){arr[i]=fn.call(this,i)}return arr}},{}],104:[function(require,module,exports){module.exports=toArray["default"]=toArray;function toArray(arr){var len=arr.length;var idx=-1;var array=new Array(len);while(++idx<len){array[idx]=arr[idx]}return array}},{}],105:[function(require,module,exports){var slice=require("@f/slice");var setProto=require("@f/set-proto");var isFunction=require("@f/is-function");var Generator=require("@f/generator");var isGenerator=require("@f/is-generator");var bind=Function.prototype.bind;module.exports=toGenerator["default"]=toGenerator;function toGenerator(fn){if(isGenerator(fn))return fn;if(!isFunction(fn))throw new TypeError("`fn` must be a function, got: "+String(fn));function Gen(){var args=slice(arguments);if(!(this instanceof Gen)){return new(bind.apply(Gen,[null].concat(args)))}return fn.apply(this,args)}setProto(Generator.FunctionPrototype,Gen);Gen.prototype=Object.create(Generator.Object.prototype);return Gen}},{"@f/generator":40,"@f/is-function":56,"@f/is-generator":58,"@f/set-proto":93,"@f/slice":95}],106:[function(require,module,exports){var isArray=require("@f/is-array");var isObject=require("@f/is-object");var isFunction=require("@f/is-function");var isPromise=require("@f/is-promise");var arrayToPromise=require("@f/array-to-promise");var objToPromise=require("@f/obj-to-promise");var thunkToPromise=require("@f/thunk-to-promise");var isGenerator=require("@f/is-generator");var isIterator=require("@f/is-iterator");var genToPromise=require("@f/gen-to-promise");module.exports=toPromise;function toPromise(val,dontForce){if(isPromise(val))return val;if(isArray(val))return arrayToPromise(val);if(isObject(val))return objToPromise(val);if(isGenerator(val)||isIterator(val))return genToPromise(val);if(isFunction(val))return thunkToPromise(val);if(!dontForce)return Promise.resolve(val);return val}},{"@f/array-to-promise":3,"@f/gen-to-promise":39,"@f/is-array":52,"@f/is-function":56,"@f/is-generator":58,"@f/is-iterator":59,"@f/is-object":60,"@f/is-promise":61,"@f/obj-to-promise":78,"@f/thunk-to-promise":102}],107:[function(require,module,exports){var forEach=require("@f/foreach-array");module.exports=values;function values(obj,keys){keys=keys||Object.keys(obj);var arr=[];forEach(push,keys);return arr;function push(key){arr.push(obj[key])}}},{"@f/foreach-array":34}],108:[function(require,module,exports){module.exports=zipObj["default"]=zipObj;function zipObj(keys,values){var obj={};for(var i=0;i<keys.length;i++){obj[keys[i]]=values[i]}return obj}},{}],109:[function(require,module,exports){var typeOf=require("component-type");var base=require("./lib/base");var array=require("./lib/array");var number=require("./lib/number");var string=require("./lib/string");var object=require("./lib/object");module.exports=schema;function schema(type,json){if(typeOf(type)==="object"){json=type;type=json.type}if(!type){type="object"}switch(type){case"array":return array(json);case"object":return object(json);case"number":case"integer":return number(json);case"string":return string(json);default:return base(json)}}},{"./lib/array":110,"./lib/base":111,"./lib/number":112,"./lib/object":113,"./lib/string":114,"component-type":217}],110:[function(require,module,exports){var inherits=require("component-inherit");var typeOf=require("component-type");var Base=require("./base");var toJSON=require("./utils").toJSON;module.exports=Schema;function Schema(json){if(!(this instanceof Schema))return new Schema(json);Base.call(this,json);this.schema.type="array"}inherits(Schema,Base);Schema.prototype.items=function(items){if(typeOf(items)==="array"){items=items.map(toJSON)}else{items=toJSON(items)}return this.extend({items:items})};Schema.prototype.item=function(schema){var items=this.schema.items||[];items.push(schema);return this.items(items)};Schema.prototype.others=function(allowedOrSchema){return this.extend({additionalItems:toJSON(allowedOrSchema)})};Schema.prototype.max=function(maxItems,message){return this.extend({maxItems:maxItems,messages:{maxItems:message}})};Schema.prototype.min=function(minItems,message){return this.extend({minItems:minItems,messages:{minItems:message}})};Schema.prototype.unique=function(uniqueItems,message){return this.extend({uniqueItems:uniqueItems,messages:{uniqueItems:message}})}},{"./base":111,"./utils":115,"component-inherit":216,"component-type":217}],111:[function(require,module,exports){var clone=require("@f/clone-shallow");var assign=require("object-assign");var toJSON=require("./utils").toJSON;module.exports=exports=Schema;function Schema(json){if(!(this instanceof Schema))return new Schema(json);this.schema=json||{}}Schema.prototype.toJSON=function(){return clone(this.schema)};Schema.prototype.extend=function(schema){var json=this.toJSON();schema=schema.toJSON?schema.toJSON():schema;var messages=assign({},json.messages,schema.messages);json=assign({},json,schema,{messages:messages});return new this.constructor(json)};Schema.prototype.title=function(title,message){return this.extend({title:title,messages:{title:message}})};Schema.prototype.description=function(description,message){return this.extend({description:description,messages:{description:message}})};Schema.prototype.default=function(def,message){return this.extend({"default":def,messages:{"default":message}})};Schema.prototype.required=function(required,message){return this.extend({required:required,messages:{required:message}})};Schema.prototype.enum=function(en,message){return this.extend({"enum":en,messages:{"enum":message}})};Schema.prototype.not=function(schema,message){schema=schema.toJSON?schema.toJSON():schema;return this.extend({not:schema,messages:{not:message}})};Schema.prototype.all=metaSchema("allOf");Schema.prototype.any=metaSchema("anyOf");Schema.prototype.one=metaSchema("oneOf");function metaSchema(condition){return function(schemas){var json={};schemas=schemas.map(toJSON);json[condition]=schemas;return this.extend(json)}}},{"./utils":115,"@f/clone-shallow":8,"object-assign":244}],112:[function(require,module,exports){var inherits=require("component-inherit");var assert=require("assert");var Base=require("./base");module.exports=Schema;function Schema(json){if(!(this instanceof Schema))return new Schema(json);Base.call(this,json);this.schema.type=this.schema.type||"number";assert(this.schema.type==="number"||this.schema.type==="integer")}inherits(Schema,Base);Schema.prototype.max=function(maximum,message){return this.extend({maximum:maximum,messages:{maximum:message}})};Schema.prototype.min=function(minimum,message){return this.extend({minimum:minimum,messages:{minimum:message}})};Schema.prototype.multiple=function(multipleOf,message){return this.extend({multipleOf:multipleOf,messages:{multipleOf:message}})};Schema.prototype.exclusiveMax=function(nonInclusive,message){return this.extend({exclusiveMaximum:nonInclusive,messages:{exclusiveMaximum:message}})};Schema.prototype.openRight=Schema.prototype.exclusiveMax;Schema.prototype.exclusiveMin=function(nonInclusive,message){return this.extend({exclusiveMinimum:nonInclusive,messages:{exclusiveMinimum:message}})};Schema.prototype.openLeft=Schema.prototype.exclusiveMin},{"./base":111,assert:121,"component-inherit":216}],113:[function(require,module,exports){var inherits=require("component-inherit");var typeOf=require("component-type");var sliced=require("sliced");var Base=require("./base");var toJSON=require("./utils").toJSON;module.exports=Schema;function Schema(json){if(!(this instanceof Schema))return new Schema(json);Base.call(this,json);this.schema.type="object"}inherits(Schema,Base);Schema.prototype.prop=function(name,schema){var json=this.toJSON();schema=toJSON(schema);var key="properties";if(typeOf(name)==="regexp"){key="patternProperties";name=name.source}json[key]=json[key]||{};json[key][name]=schema;return new Schema(json)};Schema.prototype.others=function(allowedOrSchema){return this.extend({additionalProperties:toJSON(allowedOrSchema)})};Schema.prototype.omit=function(){var names=sliced(arguments);var json=this.toJSON();for(var i=0;i<names.length;i++){delete json.properties[names[i]]}return new this.constructor(json)};Schema.prototype.remove=Schema.prototype.omit;Schema.prototype.pick=function(){var names=sliced(arguments);var json=this.toJSON();var props=json.properties;json.properties={};for(var i=0;i<names.length;i++){json.properties[names[i]]=props[names[i]]}return new Schema(json)}},{"./base":111,"./utils":115,"component-inherit":216,"component-type":217,sliced:274}],114:[function(require,module,exports){var inherits=require("component-inherit");var Base=require("./base");module.exports=Schema;function Schema(json){if(!(this instanceof Schema))return new Schema(json);Base.call(this,json);this.schema.type="string"}inherits(Schema,Base);Schema.prototype.max=function(maxLength,message){return this.extend({maxLength:maxLength,messages:{maxLength:message}})};Schema.prototype.min=function(minLength,message){return this.extend({minLength:minLength,messages:{minLength:message}})};Schema.prototype.pattern=function(pattern,message){if(pattern.source){pattern=pattern.source}return this.extend({pattern:pattern,messages:{pattern:message}})};Schema.prototype.format=function(format,message){return this.extend({format:format,messages:{format:message}})}},{"./base":111,"component-inherit":216}],115:[function(require,module,exports){var typeOf=require("component-type");exports.toJSON=function(jsonOrSchema){if(typeOf(jsonOrSchema)==="object"){return jsonOrSchema.toJSON&&jsonOrSchema.toJSON()||jsonOrSchema}else if(typeOf(jsonOrSchema)==="undefined"){return{}}else{return jsonOrSchema}}},{"component-type":217}],116:[function(require,module,exports){var compile=require("string-template/compile");var errors=exports;exports.messages={required:"is required",type:"is the wrong type",additionalItems:"has additonal items",format:"must be {format} format",uniqueItems:"must be uniqe","enum":"must be an enum value",dependencies:"dependencies not set",additionalProperties:"has additonal properties",$ref:"referenced schema does not match",not:"negative schema matches",pattern:"pattern mismatch",anyOf:"no schemas match",oneOf:"no (or more than one) schemas match",multipleOf:"has a remainder",maxProperties:"has more properties than allowed",minProperties:"has less properties than allowed",maxItems:"has more items than allowed",minItems:"has less items than allowed",maxLength:"has longer length than allowed",minLength:"has less length than allowed",minimum:"is less than minimum",maximum:"is greater than maximum"};exports.message=function(code,node){var msgFn=node.messages&&node.messages[code]||errors.messages[code];if(typeof msgFn==="string"){var msg=msgFn;try{msgFn=compile(msg)}catch(e){msgFn=function(){return msg}}errors.messages[code]=msgFn}return msgFn(node)}},{"string-template/compile":119}],117:[function(require,module,exports){exports["date-time"]=/^\d{4}-(?:0[0-9]{1}|1[0-2]{1})-[0-9]{2}[tT ]\d{2}:\d{2}:\d{2}(\.\d+)?([zZ]|[+-]\d{2}:\d{2})$/;exports["date"]=/^\d{4}-(?:0[0-9]{1}|1[0-2]{1})-[0-9]{2}$/;exports["time"]=/^\d{2}:\d{2}:\d{2}$/;exports["email"]=/^\S+@\S+$/;exports["ip-address"]=exports["ipv4"]=/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/;exports["ipv6"]=/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/;exports["uri"]=/^[a-zA-Z][a-zA-Z0-9+-.]*:[^\s]*$/;exports["color"]=/(#?([0-9A-Fa-f]{3,6})\b)|(aqua)|(black)|(blue)|(fuchsia)|(gray)|(green)|(lime)|(maroon)|(navy)|(olive)|(orange)|(purple)|(red)|(silver)|(teal)|(white)|(yellow)|(rgb\(\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*\))|(rgb\(\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*\))/;exports["hostname"]=/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9\-]{0,61}[a-zA-Z0-9])(\.([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9\-]{0,61}[a-zA-Z0-9]))*$/;exports["alpha"]=/^[a-zA-Z]+$/;exports["alphanumeric"]=/^[a-zA-Z0-9]+$/;exports["style"]=/\s*(.+?):\s*([^;]+);?/g;exports["phone"]=/^\+(?:[0-9] ?){6,14}[0-9]$/;exports["utc-millisec"]=/^[0-9]+(\.?[0-9]+)?$/},{}],118:[function(require,module,exports){var genobj=require("generate-object-property");var genfun=require("generate-function");var jsonpointer=require("jsonpointer");var xtend=require("xtend");var formats=require("./formats");var errors=require("./errors");var get=function(obj,additionalSchemas,ptr){if(/^https?:\/\//.test(ptr))return null;var visit=function(sub){if(sub&&sub.id===ptr)return sub;if(typeof sub!=="object"||!sub)return null;return Object.keys(sub).reduce(function(res,k){return res||visit(sub[k])},null)};var res=visit(obj);if(res)return res;ptr=ptr.replace(/^#/,"");ptr=ptr.replace(/\/$/,"");try{return jsonpointer.get(obj,decodeURI(ptr))}catch(err){var end=ptr.indexOf("#");var other;if(end!==0){if(end===-1){other=additionalSchemas[ptr]}else{var ext=ptr.slice(0,end);other=additionalSchemas[ext];var fragment=ptr.slice(end).replace(/^#/,"");try{return jsonpointer.get(other,fragment)}catch(err){}}}else{other=additionalSchemas[ptr]}return other||null}};var formatName=function(field){field=stripData(field);field=JSON.stringify(field);var pattern=/\[([^\[\]"]+)\]/;field=field.replace(/^\"\[([^\[\]"]+)\]/,'""+$1+"');while(pattern.test(field))field=field.replace(pattern,'."+$1+"');return field};var stripData=function(field){field=field.slice("data".length);if(field[0]==="."){field=field.slice(1)}return field};var types={};types.any=function(){return"true"};types.null=function(name){return name+" === null"};types.boolean=function(name){return"typeof "+name+' === "boolean"'};types.array=function(name){return"Array.isArray("+name+")"};types.object=function(name){return"typeof "+name+' === "object" && '+name+" && !Array.isArray("+name+")"};types.number=function(name){return"typeof "+name+' === "number"'};types.integer=function(name){return"typeof "+name+' === "number" && (Math.floor('+name+") === "+name+" || "+name+" > 9007199254740992 || "+name+" < -9007199254740992)"};types.string=function(name){return"typeof "+name+' === "string"'};var unique=function(array){var list=[];for(var i=0;i<array.length;i++){list.push(typeof array[i]==="object"?JSON.stringify(array[i]):array[i])}for(var j=1;j<list.length;j++){if(list.indexOf(list[j])!==j)return false}return true};var compile=function(schema,cache,root,reporter,opts){var fmts=opts?xtend(formats,opts.formats):formats;var scope={unique:unique,formats:fmts};var verbose=opts?!!opts.verbose:false;var greedy=opts&&opts.greedy!==undefined?opts.greedy:false;var syms={};var gensym=function(name){return name+(syms[name]=(syms[name]||0)+1)};var reversePatterns={};var patterns=function(p){if(reversePatterns[p])return reversePatterns[p];var n=gensym("pattern");scope[n]=new RegExp(p);reversePatterns[p]=n;return n};var vars=["i","j","k","l","m","n","o","p","q","r","s","t","u","v","x","y","z"];var genloop=function(){var v=vars.shift();vars.push(v+v[0]);return v};var visit=function(name,node,reporter,filter){var properties=node.properties;var type=node.type;var tuple=false;var i=0;var n=0;var keys=null;var prev=null;if(Array.isArray(node.items)){properties={};node.items.forEach(function(item,i){properties[i]=item});type="array";tuple=true}var indent=0;var error=function(code,node,prop,value){var msg=errors.message(code,node);validate("errors++");if(reporter===true){validate("if (validate.errors === null) validate.errors = []");if(verbose){validate("validate.errors.push({code:%s,field:%s,message:%s,value:%s})",JSON.stringify(code),formatName(prop||name),JSON.stringify(msg),value||name)}else{validate("validate.errors.push({code:%s,field:%s,message:%s})",JSON.stringify(code),formatName(prop||name),JSON.stringify(msg))}}};if(node.required===true){indent++;validate("if (%s === undefined) {",name);error("required",node);validate("} else {")}else{indent++;validate("if (%s !== undefined) {",name)}var valid=[].concat(type).map(function(t){return types[t||"any"](name)}).join(" || ")||"true";if(valid!=="true"){indent++;validate("if (!(%s)) {",valid);error("type",node);validate("} else {")}if(tuple){if(node.additionalItems===false){validate("if (%s.length > %d) {",name,node.items.length);error("additionalItems",node);validate("}")}else if(node.additionalItems){i=genloop();validate("for (var %s = %d; %s < %s.length; %s++) {",i,node.items.length,i,name,i);visit(name+"["+i+"]",node.additionalItems,reporter,filter);validate("}")}}if(node.format&&fmts[node.format]){if(type!=="string"&&formats[node.format])validate("if (%s) {",types.string(name));n=gensym("format");scope[n]=fmts[node.format];if(typeof scope[n]==="function")validate("if (!%s(%s)) {",n,name);else validate("if (!%s.test(%s)) {",n,name);error("format",node);validate("}");if(type!=="string"&&formats[node.format])validate("}")}if(Array.isArray(node.required)){var checkRequired=function(req){var prop=genobj(name,req);validate("if (%s === undefined) {",prop);error("required",node,prop);validate("missing++");validate("}")};validate("if ((%s)) {",type!=="object"?types.object(name):"true");validate("var missing = 0");node.required.map(checkRequired);validate("}");if(!greedy){validate("if (missing === 0) {");indent++}}if(node.uniqueItems){if(type!=="array")validate("if (%s) {",types.array(name));validate("if (!(unique(%s))) {",name);error("uniqueItems",node);validate("}");if(type!=="array")validate("}")}if(node.enum){var complex=node.enum.some(function(e){return typeof e==="object"});var compare=complex?function(e){return"JSON.stringify("+name+")"+" !== JSON.stringify("+JSON.stringify(e)+")"}:function(e){return name+" !== "+JSON.stringify(e)};validate("if (%s) {",node.enum.map(compare).join(" && ")||"false");error("enum",node);validate("}")}if(node.dependencies){if(type!=="object")validate("if (%s) {",types.object(name));Object.keys(node.dependencies).forEach(function(key){var deps=node.dependencies[key];if(typeof deps==="string")deps=[deps];var exists=function(k){return genobj(name,k)+" !== undefined"};if(Array.isArray(deps)){validate("if (%s !== undefined && !(%s)) {",genobj(name,key),deps.map(exists).join(" && ")||"true");error("dependencies",node);validate("}")}if(typeof deps==="object"){validate("if (%s !== undefined) {",genobj(name,key));visit(name,deps,reporter,filter);validate("}")}});if(type!=="object")validate("}")}if(node.additionalProperties||node.additionalProperties===false){if(type!=="object")validate("if (%s) {",types.object(name));i=genloop();keys=gensym("keys");var toCompare=function(p){return keys+"["+i+"] !== "+JSON.stringify(p)};var toTest=function(p){return"!"+patterns(p)+".test("+keys+"["+i+"])"};var additionalProp=Object.keys(properties||{}).map(toCompare).concat(Object.keys(node.patternProperties||{}).map(toTest)).join(" && ")||"true";validate("var %s = Object.keys(%s)",keys,name)("for (var %s = 0; %s < %s.length; %s++) {",i,i,keys,i)("if (%s) {",additionalProp);if(node.additionalProperties===false){if(filter)validate("delete %s",name+"["+keys+"["+i+"]]");error("additionalProperties",node,null,JSON.stringify(stripData(name+"."))+" + "+keys+"["+i+"]")}else{visit(name+"["+keys+"["+i+"]]",node.additionalProperties,reporter,filter)}validate("}")("}");if(type!=="object")validate("}")}if(node.$ref){var sub=get(root,opts&&opts.schemas||{},node.$ref);if(sub){var fn=cache[node.$ref];if(!fn){cache[node.$ref]=function proxy(data){return fn(data)};fn=compile(sub,cache,root,false,opts)}n=gensym("ref");scope[n]=fn;validate("if (!(%s(%s).valid)) {",n,name);error("$ref",node);validate("}")}}if(node.not){prev=gensym("prev");validate("var %s = errors",prev);visit(name,node.not,false,filter);validate("if (%s === errors) {",prev);error("not",node);validate("} else {")("errors = %s",prev)("}")}if(node.items&&!tuple){if(type!=="array")validate("if (%s) {",types.array(name));i=genloop();validate("for (var %s = 0; %s < %s.length; %s++) {",i,i,name,i);visit(name+"["+i+"]",node.items,reporter,filter);validate("}");if(type!=="array")validate("}")}if(node.patternProperties){if(type!=="object")validate("if (%s) {",types.object(name));keys=gensym("keys");i=genloop();validate("var %s = Object.keys(%s)",keys,name)("for (var %s = 0; %s < %s.length; %s++) {",i,i,keys,i);Object.keys(node.patternProperties).forEach(function(key){var p=patterns(key);validate("if (%s.test(%s)) {",p,keys+"["+i+"]");visit(name+"["+keys+"["+i+"]]",node.patternProperties[key],reporter,filter);validate("}")});validate("}");if(type!=="object")validate("}")}if(node.pattern){var p=patterns(node.pattern);if(type!=="string")validate("if (%s) {",types.string(name));validate("if (!(%s.test(%s))) {",p,name);error("pattern",node);validate("}");if(type!=="string")validate("}")}if(node.allOf){node.allOf.forEach(function(sch){visit(name,sch,reporter,filter)})}if(node.anyOf&&node.anyOf.length){prev=gensym("prev");node.anyOf.forEach(function(sch,i){if(i===0){validate("var %s = errors",prev)}else{validate("if (errors !== %s) {",prev)("errors = %s",prev)}visit(name,sch,false,false)});node.anyOf.forEach(function(sch,i){if(i)validate("}")});validate("if (%s !== errors) {",prev);error("anyOf",node);validate("}")}if(node.oneOf&&node.oneOf.length){prev=gensym("prev");var passes=gensym("passes");validate("var %s = errors",prev)("var %s = 0",passes);node.oneOf.forEach(function(sch,i){visit(name,sch,false,false);validate("if (%s === errors) {",prev)("%s++",passes)("} else {")("errors = %s",prev)("}")});validate("if (%s !== 1) {",passes);error("oneOf",node);validate("}")}if(node.multipleOf!==undefined){if(type!=="number"&&type!=="integer")validate("if (%s) {",types.number(name));var factor=(node.multipleOf|0)!==node.multipleOf?Math.pow(10,node.multipleOf.toString().split(".").pop().length):1;if(factor>1)validate("if ((%d*%s) % %d) {",factor,name,factor*node.multipleOf);else validate("if (%s % %d) {",name,node.multipleOf);error("multipleOf",node);validate("}");if(type!=="number"&&type!=="integer")validate("}")}if(node.maxProperties!==undefined){if(type!=="object")validate("if (%s) {",types.object(name));validate("if (Object.keys(%s).length > %d) {",name,node.maxProperties);error("maxProperties",node);validate("}");if(type!=="object")validate("}")}if(node.minProperties!==undefined){if(type!=="object")validate("if (%s) {",types.object(name));validate("if (Object.keys(%s).length < %d) {",name,node.minProperties);error("minProperties",node);validate("}");if(type!=="object")validate("}")}if(node.maxItems!==undefined){if(type!=="array")validate("if (%s) {",types.array(name));validate("if (%s.length > %d) {",name,node.maxItems);error("maxItems",node);validate("}");if(type!=="array")validate("}")}if(node.minItems!==undefined){if(type!=="array")validate("if (%s) {",types.array(name));validate("if (%s.length < %d) {",name,node.minItems);error("minItems",node);validate("}");if(type!=="array")validate("}")}if(node.maxLength!==undefined){if(type!=="string")validate("if (%s) {",types.string(name));validate("if (%s.length > %d) {",name,node.maxLength);error("maxLength",node);validate("}");if(type!=="string")validate("}")}if(node.minLength!==undefined){if(type!=="string")validate("if (%s) {",types.string(name));validate("if (%s.length < %d) {",name,node.minLength);error("minLength",node);validate("}");if(type!=="string")validate("}")}if(node.minimum!==undefined){validate("if (%s %s %d) {",name,node.exclusiveMinimum?"<=":"<",node.minimum);error("minimum",node);validate("}")}if(node.maximum!==undefined){validate("if (%s %s %d) {",name,node.exclusiveMaximum?">=":">",node.maximum);error("maximum",node);validate("}")}if(properties){Object.keys(properties).forEach(function(p){visit(genobj(name,p),properties[p],reporter,filter)})}while(indent--)validate("}")};var validate=genfun("function validate(data) {")("validate.errors = null")("var errors = 0");visit("data",schema,reporter,opts&&opts.filter);validate("return {valid: errors === 0, errors: validate.errors}")("}");validate=validate.toFunction(scope);validate.errors=null;validate.__defineGetter__("error",function(){if(!validate.errors)return"";return validate.errors.map(function(err){return err.field+" "+err.message}).join("\n")});validate.toJSON=function(){return schema};return validate};module.exports=function(schema,opts){if(typeof schema==="string")schema=JSON.parse(schema);else if(schema.toJSON)schema=schema.toJSON();return compile(schema,{},schema,true,opts)};module.exports.filter=function(schema,opts){var validate=module.exports(schema,xtend(opts,{filter:true}));return function(sch){validate(sch);return sch}}},{"./errors":116,"./formats":117,"generate-function":228,"generate-object-property":229,jsonpointer:237,xtend:362}],119:[function(require,module,exports){var template=require("./index");var whitespaceRegex=/["'\\\n\r\u2028\u2029]/g;var nargs=/\{[0-9a-zA-Z]+\}/g;var replaceTemplate="    var args\n"+"    var result\n"+'    if (arguments.length === 1 && typeof arguments[0] === "object") {\n'+"        args = arguments[0]\n"+"    } else {\n"+"        args = arguments"+"    }\n\n"+'    if (!args || !("hasOwnProperty" in args)) {\n'+"       args = {}\n"+"    }\n\n"+"    return {0}";

var literalTemplate='"{0}"';var argTemplate='(result = args.hasOwnProperty("{0}") ? '+'args["{0}"] : null, \n        '+'(result === null || result === undefined) ? "" : result)';module.exports=compile;function compile(string,inline){var replacements=string.match(nargs);var interleave=string.split(nargs);var replace=[];for(var i=0;i<interleave.length;i++){var current=interleave[i];var replacement=replacements[i];var escapeLeft=current.charAt(current.length-1);var escapeRight=(interleave[i+1]||"").charAt(0);if(replacement){replacement=replacement.substring(1,replacement.length-1)}if(escapeLeft==="{"&&escapeRight==="}"){replace.push(current+replacement)}else{replace.push(current);if(replacement){replace.push({name:replacement})}}}var prev=[""];for(var j=0;j<replace.length;j++){var curr=replace[j];if(String(curr)===curr){var top=prev[prev.length-1];if(String(top)===top){prev[prev.length-1]=top+curr}else{prev.push(curr)}}else{prev.push(curr)}}replace=prev;if(inline){for(var k=0;k<replace.length;k++){var token=replace[k];if(String(token)===token){replace[k]=template(literalTemplate,escape(token))}else{replace[k]=template(argTemplate,escape(token.name))}}var replaceCode=replace.join(" +\n    ");var compiledSource=template(replaceTemplate,replaceCode);return new Function(compiledSource)}return function template(){var args;if(arguments.length===1&&typeof arguments[0]==="object"){args=arguments[0]}else{args=arguments}if(!args||!("hasOwnProperty"in args)){args={}}var result=[];for(var i=0;i<replace.length;i++){if(i%2===0){result.push(replace[i])}else{var argName=replace[i].name;var arg=args.hasOwnProperty(argName)?args[argName]:null;if(arg!==null||arg!==undefined){result.push(arg)}}}return result.join("")}}function escape(string){string=""+string;return string.replace(whitespaceRegex,escapedWhitespace)}function escapedWhitespace(character){switch(character){case'"':case"'":case"\\":return"\\"+character;case"\n":return"\\n";case"\r":return"\\r";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029"}}},{"./index":120}],120:[function(require,module,exports){var nargs=/\{([0-9a-zA-Z]+)\}/g;var slice=Array.prototype.slice;module.exports=template;function template(string){var args;if(arguments.length===2&&typeof arguments[1]==="object"){args=arguments[1]}else{args=slice.call(arguments,1)}if(!args||!args.hasOwnProperty){args={}}return string.replace(nargs,function replaceArg(match,i,index){var result;if(string[index-1]==="{"&&string[index+match.length]==="}"){return i}else{result=args.hasOwnProperty(i)?args[i]:null;if(result===null||result===undefined){return""}return result}})}},{}],121:[function(require,module,exports){var util=require("util/");var pSlice=Array.prototype.slice;var hasOwn=Object.prototype.hasOwnProperty;var assert=module.exports=ok;assert.AssertionError=function AssertionError(options){this.name="AssertionError";this.actual=options.actual;this.expected=options.expected;this.operator=options.operator;if(options.message){this.message=options.message;this.generatedMessage=false}else{this.message=getMessage(this);this.generatedMessage=true}var stackStartFunction=options.stackStartFunction||fail;if(Error.captureStackTrace){Error.captureStackTrace(this,stackStartFunction)}else{var err=new Error;if(err.stack){var out=err.stack;var fn_name=stackStartFunction.name;var idx=out.indexOf("\n"+fn_name);if(idx>=0){var next_line=out.indexOf("\n",idx+1);out=out.substring(next_line+1)}this.stack=out}}};util.inherits(assert.AssertionError,Error);function replacer(key,value){if(util.isUndefined(value)){return""+value}if(util.isNumber(value)&&!isFinite(value)){return value.toString()}if(util.isFunction(value)||util.isRegExp(value)){return value.toString()}return value}function truncate(s,n){if(util.isString(s)){return s.length<n?s:s.slice(0,n)}else{return s}}function getMessage(self){return truncate(JSON.stringify(self.actual,replacer),128)+" "+self.operator+" "+truncate(JSON.stringify(self.expected,replacer),128)}function fail(actual,expected,message,operator,stackStartFunction){throw new assert.AssertionError({message:message,actual:actual,expected:expected,operator:operator,stackStartFunction:stackStartFunction})}assert.fail=fail;function ok(value,message){if(!value)fail(value,true,message,"==",assert.ok)}assert.ok=ok;assert.equal=function equal(actual,expected,message){if(actual!=expected)fail(actual,expected,message,"==",assert.equal)};assert.notEqual=function notEqual(actual,expected,message){if(actual==expected){fail(actual,expected,message,"!=",assert.notEqual)}};assert.deepEqual=function deepEqual(actual,expected,message){if(!_deepEqual(actual,expected)){fail(actual,expected,message,"deepEqual",assert.deepEqual)}};function _deepEqual(actual,expected){if(actual===expected){return true}else if(util.isBuffer(actual)&&util.isBuffer(expected)){if(actual.length!=expected.length)return false;for(var i=0;i<actual.length;i++){if(actual[i]!==expected[i])return false}return true}else if(util.isDate(actual)&&util.isDate(expected)){return actual.getTime()===expected.getTime()}else if(util.isRegExp(actual)&&util.isRegExp(expected)){return actual.source===expected.source&&actual.global===expected.global&&actual.multiline===expected.multiline&&actual.lastIndex===expected.lastIndex&&actual.ignoreCase===expected.ignoreCase}else if(!util.isObject(actual)&&!util.isObject(expected)){return actual==expected}else{return objEquiv(actual,expected)}}function isArguments(object){return Object.prototype.toString.call(object)=="[object Arguments]"}function objEquiv(a,b){if(util.isNullOrUndefined(a)||util.isNullOrUndefined(b))return false;if(a.prototype!==b.prototype)return false;if(util.isPrimitive(a)||util.isPrimitive(b)){return a===b}var aIsArgs=isArguments(a),bIsArgs=isArguments(b);if(aIsArgs&&!bIsArgs||!aIsArgs&&bIsArgs)return false;if(aIsArgs){a=pSlice.call(a);b=pSlice.call(b);return _deepEqual(a,b)}var ka=objectKeys(a),kb=objectKeys(b),key,i;if(ka.length!=kb.length)return false;ka.sort();kb.sort();for(i=ka.length-1;i>=0;i--){if(ka[i]!=kb[i])return false}for(i=ka.length-1;i>=0;i--){key=ka[i];if(!_deepEqual(a[key],b[key]))return false}return true}assert.notDeepEqual=function notDeepEqual(actual,expected,message){if(_deepEqual(actual,expected)){fail(actual,expected,message,"notDeepEqual",assert.notDeepEqual)}};assert.strictEqual=function strictEqual(actual,expected,message){if(actual!==expected){fail(actual,expected,message,"===",assert.strictEqual)}};assert.notStrictEqual=function notStrictEqual(actual,expected,message){if(actual===expected){fail(actual,expected,message,"!==",assert.notStrictEqual)}};function expectedException(actual,expected){if(!actual||!expected){return false}if(Object.prototype.toString.call(expected)=="[object RegExp]"){return expected.test(actual)}else if(actual instanceof expected){return true}else if(expected.call({},actual)===true){return true}return false}function _throws(shouldThrow,block,expected,message){var actual;if(util.isString(expected)){message=expected;expected=null}try{block()}catch(e){actual=e}message=(expected&&expected.name?" ("+expected.name+").":".")+(message?" "+message:".");if(shouldThrow&&!actual){fail(actual,expected,"Missing expected exception"+message)}if(!shouldThrow&&expectedException(actual,expected)){fail(actual,expected,"Got unwanted exception"+message)}if(shouldThrow&&actual&&expected&&!expectedException(actual,expected)||!shouldThrow&&actual){throw actual}}assert.throws=function(block,error,message){_throws.apply(this,[true].concat(pSlice.call(arguments)))};assert.doesNotThrow=function(block,message){_throws.apply(this,[false].concat(pSlice.call(arguments)))};assert.ifError=function(err){if(err){throw err}};var objectKeys=Object.keys||function(obj){var keys=[];for(var key in obj){if(hasOwn.call(obj,key))keys.push(key)}return keys}},{"util/":282}],122:[function(require,module,exports){(function(global,factory){if(typeof define==="function"&&define.amd){define(["exports","module"],factory)}else if(typeof exports!=="undefined"&&typeof module!=="undefined"){factory(exports,module)}else{var mod={exports:{}};factory(mod.exports,mod);global.autosize=mod.exports}})(this,function(exports,module){"use strict";var set=typeof Set==="function"?new Set:function(){var list=[];return{has:function has(key){return Boolean(list.indexOf(key)>-1)},add:function add(key){list.push(key)},"delete":function _delete(key){list.splice(list.indexOf(key),1)}}}();var createEvent=function createEvent(name){return new Event(name)};try{new Event("test")}catch(e){createEvent=function(name){var evt=document.createEvent("Event");evt.initEvent(name,true,false);return evt}}function assign(ta){var _ref=arguments[1]===undefined?{}:arguments[1];var _ref$setOverflowX=_ref.setOverflowX;var setOverflowX=_ref$setOverflowX===undefined?true:_ref$setOverflowX;var _ref$setOverflowY=_ref.setOverflowY;var setOverflowY=_ref$setOverflowY===undefined?true:_ref$setOverflowY;if(!ta||!ta.nodeName||ta.nodeName!=="TEXTAREA"||set.has(ta))return;var heightOffset=null;var overflowY=null;var clientWidth=ta.clientWidth;function init(){var style=window.getComputedStyle(ta,null);overflowY=style.overflowY;if(style.resize==="vertical"){ta.style.resize="none"}else if(style.resize==="both"){ta.style.resize="horizontal"}if(style.boxSizing==="content-box"){heightOffset=-(parseFloat(style.paddingTop)+parseFloat(style.paddingBottom))}else{heightOffset=parseFloat(style.borderTopWidth)+parseFloat(style.borderBottomWidth)}if(isNaN(heightOffset)){heightOffset=0}update()}function changeOverflow(value){{var width=ta.style.width;ta.style.width="0px";ta.offsetWidth;ta.style.width=width}overflowY=value;if(setOverflowY){ta.style.overflowY=value}resize()}function resize(){var htmlTop=window.pageYOffset;var bodyTop=document.body.scrollTop;var originalHeight=ta.style.height;ta.style.height="auto";var endHeight=ta.scrollHeight+heightOffset;if(ta.scrollHeight===0){ta.style.height=originalHeight;return}ta.style.height=endHeight+"px";clientWidth=ta.clientWidth;document.documentElement.scrollTop=htmlTop;document.body.scrollTop=bodyTop}function update(){var startHeight=ta.style.height;resize();var style=window.getComputedStyle(ta,null);if(style.height!==ta.style.height){if(overflowY!=="visible"){changeOverflow("visible")}}else{if(overflowY!=="hidden"){changeOverflow("hidden")}}if(startHeight!==ta.style.height){var evt=createEvent("autosize:resized");ta.dispatchEvent(evt)}}var pageResize=function pageResize(){if(ta.clientWidth!==clientWidth){update()}};var destroy=function(style){window.removeEventListener("resize",pageResize,false);ta.removeEventListener("input",update,false);ta.removeEventListener("keyup",update,false);ta.removeEventListener("autosize:destroy",destroy,false);ta.removeEventListener("autosize:update",update,false);set["delete"](ta);Object.keys(style).forEach(function(key){ta.style[key]=style[key]})}.bind(ta,{height:ta.style.height,resize:ta.style.resize,overflowY:ta.style.overflowY,overflowX:ta.style.overflowX,wordWrap:ta.style.wordWrap});ta.addEventListener("autosize:destroy",destroy,false);if("onpropertychange"in ta&&"oninput"in ta){ta.addEventListener("keyup",update,false)}window.addEventListener("resize",pageResize,false);ta.addEventListener("input",update,false);ta.addEventListener("autosize:update",update,false);set.add(ta);if(setOverflowX){ta.style.overflowX="hidden";ta.style.wordWrap="break-word"}init()}function destroy(ta){if(!(ta&&ta.nodeName&&ta.nodeName==="TEXTAREA"))return;var evt=createEvent("autosize:destroy");ta.dispatchEvent(evt)}function update(ta){if(!(ta&&ta.nodeName&&ta.nodeName==="TEXTAREA"))return;var evt=createEvent("autosize:update");ta.dispatchEvent(evt)}var autosize=null;if(typeof window==="undefined"||typeof window.getComputedStyle!=="function"){autosize=function(el){return el};autosize.destroy=function(el){return el};autosize.update=function(el){return el}}else{autosize=function(el,options){if(el){Array.prototype.forEach.call(el.length?el:[el],function(x){return assign(x,options)})}return el};autosize.destroy=function(el){if(el){Array.prototype.forEach.call(el.length?el:[el],destroy)}return el};autosize.update=function(el){if(el){Array.prototype.forEach.call(el.length?el:[el],update)}return el}}module.exports=autosize})},{}],123:[function(require,module,exports){module.exports={"default":require("core-js/library/fn/array/from"),__esModule:true}},{"core-js/library/fn/array/from":134}],124:[function(require,module,exports){module.exports={"default":require("core-js/library/fn/get-iterator"),__esModule:true}},{"core-js/library/fn/get-iterator":135}],125:[function(require,module,exports){module.exports={"default":require("core-js/library/fn/is-iterable"),__esModule:true}},{"core-js/library/fn/is-iterable":136}],126:[function(require,module,exports){module.exports={"default":require("core-js/library/fn/object/assign"),__esModule:true}},{"core-js/library/fn/object/assign":137}],127:[function(require,module,exports){module.exports={"default":require("core-js/library/fn/object/define-property"),__esModule:true}},{"core-js/library/fn/object/define-property":138}],128:[function(require,module,exports){module.exports={"default":require("core-js/library/fn/object/keys"),__esModule:true}},{"core-js/library/fn/object/keys":139}],129:[function(require,module,exports){"use strict";exports.__esModule=true;var _defineProperty=require("../core-js/object/define-property");var _defineProperty2=_interopRequireDefault(_defineProperty);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}exports.default=function(obj,key,value){if(key in obj){(0,_defineProperty2.default)(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}},{"../core-js/object/define-property":127}],130:[function(require,module,exports){"use strict";exports.__esModule=true;var _assign=require("../core-js/object/assign");var _assign2=_interopRequireDefault(_assign);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}exports.default=_assign2.default||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target}},{"../core-js/object/assign":126}],131:[function(require,module,exports){"use strict";exports.__esModule=true;exports.default=function(obj,keys){var target={};for(var i in obj){if(keys.indexOf(i)>=0)continue;if(!Object.prototype.hasOwnProperty.call(obj,i))continue;target[i]=obj[i]}return target}},{}],132:[function(require,module,exports){"use strict";exports.__esModule=true;var _isIterable2=require("../core-js/is-iterable");var _isIterable3=_interopRequireDefault(_isIterable2);var _getIterator2=require("../core-js/get-iterator");var _getIterator3=_interopRequireDefault(_getIterator2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}exports.default=function(){function sliceIterator(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=(0,_getIterator3.default)(arr),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"])_i["return"]()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr)){return arr}else if((0,_isIterable3.default)(Object(arr))){return sliceIterator(arr,i)}else{throw new TypeError("Invalid attempt to destructure non-iterable instance")}}}()},{"../core-js/get-iterator":124,"../core-js/is-iterable":125}],133:[function(require,module,exports){"use strict";exports.__esModule=true;var _from=require("../core-js/array/from");var _from2=_interopRequireDefault(_from);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}exports.default=function(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}else{return(0,_from2.default)(arr)}}},{"../core-js/array/from":123}],134:[function(require,module,exports){require("../../modules/es6.string.iterator");require("../../modules/es6.array.from");module.exports=require("../../modules/_core").Array.from},{"../../modules/_core":146,"../../modules/es6.array.from":197,"../../modules/es6.string.iterator":202}],135:[function(require,module,exports){require("../modules/web.dom.iterable");require("../modules/es6.string.iterator");module.exports=require("../modules/core.get-iterator")},{"../modules/core.get-iterator":195,"../modules/es6.string.iterator":202,"../modules/web.dom.iterable":203}],136:[function(require,module,exports){require("../modules/web.dom.iterable");require("../modules/es6.string.iterator");module.exports=require("../modules/core.is-iterable")},{"../modules/core.is-iterable":196,"../modules/es6.string.iterator":202,"../modules/web.dom.iterable":203}],137:[function(require,module,exports){require("../../modules/es6.object.assign");module.exports=require("../../modules/_core").Object.assign},{"../../modules/_core":146,"../../modules/es6.object.assign":199}],138:[function(require,module,exports){require("../../modules/es6.object.define-property");var $Object=require("../../modules/_core").Object;module.exports=function defineProperty(it,key,desc){return $Object.defineProperty(it,key,desc)}},{"../../modules/_core":146,"../../modules/es6.object.define-property":200}],139:[function(require,module,exports){require("../../modules/es6.object.keys");module.exports=require("../../modules/_core").Object.keys},{"../../modules/_core":146,"../../modules/es6.object.keys":201}],140:[function(require,module,exports){module.exports=function(it){if(typeof it!="function")throw TypeError(it+" is not a function!");return it}},{}],141:[function(require,module,exports){module.exports=function(){}},{}],142:[function(require,module,exports){var isObject=require("./_is-object");module.exports=function(it){if(!isObject(it))throw TypeError(it+" is not an object!");return it}},{"./_is-object":162}],143:[function(require,module,exports){var toIObject=require("./_to-iobject"),toLength=require("./_to-length"),toIndex=require("./_to-index");module.exports=function(IS_INCLUDES){return function($this,el,fromIndex){var O=toIObject($this),length=toLength(O.length),index=toIndex(fromIndex,length),value;if(IS_INCLUDES&&el!=el)while(length>index){value=O[index++];if(value!=value)return true}else for(;length>index;index++)if(IS_INCLUDES||index in O){if(O[index]===el)return IS_INCLUDES||index||0}return!IS_INCLUDES&&-1}}},{"./_to-index":186,"./_to-iobject":188,"./_to-length":189}],144:[function(require,module,exports){var cof=require("./_cof"),TAG=require("./_wks")("toStringTag"),ARG=cof(function(){return arguments}())=="Arguments";var tryGet=function(it,key){try{return it[key]}catch(e){}};module.exports=function(it){var O,T,B;return it===undefined?"Undefined":it===null?"Null":typeof(T=tryGet(O=Object(it),TAG))=="string"?T:ARG?cof(O):(B=cof(O))=="Object"&&typeof O.callee=="function"?"Arguments":B}},{"./_cof":145,"./_wks":193}],145:[function(require,module,exports){var toString={}.toString;module.exports=function(it){return toString.call(it).slice(8,-1)}},{}],146:[function(require,module,exports){var core=module.exports={version:"2.4.0"};if(typeof __e=="number")__e=core},{}],147:[function(require,module,exports){"use strict";var $defineProperty=require("./_object-dp"),createDesc=require("./_property-desc");module.exports=function(object,index,value){if(index in object)$defineProperty.f(object,index,createDesc(0,value));else object[index]=value}},{"./_object-dp":172,"./_property-desc":180}],148:[function(require,module,exports){var aFunction=require("./_a-function");module.exports=function(fn,that,length){aFunction(fn);if(that===undefined)return fn;switch(length){case 1:return function(a){return fn.call(that,a)};case 2:return function(a,b){return fn.call(that,a,b)};case 3:return function(a,b,c){return fn.call(that,a,b,c)}}return function(){return fn.apply(that,arguments)}}},{"./_a-function":140}],149:[function(require,module,exports){module.exports=function(it){if(it==undefined)throw TypeError("Can't call method on  "+it);return it}},{}],150:[function(require,module,exports){module.exports=!require("./_fails")(function(){return Object.defineProperty({},"a",{get:function(){return 7}}).a!=7})},{"./_fails":154}],151:[function(require,module,exports){var isObject=require("./_is-object"),document=require("./_global").document,is=isObject(document)&&isObject(document.createElement);module.exports=function(it){return is?document.createElement(it):{}}},{"./_global":155,"./_is-object":162}],152:[function(require,module,exports){module.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},{}],153:[function(require,module,exports){var global=require("./_global"),core=require("./_core"),ctx=require("./_ctx"),hide=require("./_hide"),PROTOTYPE="prototype";var $export=function(type,name,source){var IS_FORCED=type&$export.F,IS_GLOBAL=type&$export.G,IS_STATIC=type&$export.S,IS_PROTO=type&$export.P,IS_BIND=type&$export.B,IS_WRAP=type&$export.W,exports=IS_GLOBAL?core:core[name]||(core[name]={}),expProto=exports[PROTOTYPE],target=IS_GLOBAL?global:IS_STATIC?global[name]:(global[name]||{})[PROTOTYPE],key,own,out;if(IS_GLOBAL)source=name;for(key in source){own=!IS_FORCED&&target&&target[key]!==undefined;if(own&&key in exports)continue;out=own?target[key]:source[key];exports[key]=IS_GLOBAL&&typeof target[key]!="function"?source[key]:IS_BIND&&own?ctx(out,global):IS_WRAP&&target[key]==out?function(C){var F=function(a,b,c){if(this instanceof C){switch(arguments.length){case 0:return new C;case 1:return new C(a);case 2:return new C(a,b)}return new C(a,b,c)}return C.apply(this,arguments)};F[PROTOTYPE]=C[PROTOTYPE];return F}(out):IS_PROTO&&typeof out=="function"?ctx(Function.call,out):out;if(IS_PROTO){(exports.virtual||(exports.virtual={}))[key]=out;if(type&$export.R&&expProto&&!expProto[key])hide(expProto,key,out)}}};$export.F=1;$export.G=2;$export.S=4;$export.P=8;$export.B=16;$export.W=32;$export.U=64;$export.R=128;module.exports=$export},{"./_core":146,"./_ctx":148,"./_global":155,"./_hide":157}],154:[function(require,module,exports){module.exports=function(exec){try{return!!exec()}catch(e){return true}}},{}],155:[function(require,module,exports){var global=module.exports=typeof window!="undefined"&&window.Math==Math?window:typeof self!="undefined"&&self.Math==Math?self:Function("return this")();if(typeof __g=="number")__g=global},{}],156:[function(require,module,exports){var hasOwnProperty={}.hasOwnProperty;module.exports=function(it,key){return hasOwnProperty.call(it,key)}},{}],157:[function(require,module,exports){var dP=require("./_object-dp"),createDesc=require("./_property-desc");module.exports=require("./_descriptors")?function(object,key,value){return dP.f(object,key,createDesc(1,value))}:function(object,key,value){object[key]=value;return object}},{"./_descriptors":150,"./_object-dp":172,"./_property-desc":180}],158:[function(require,module,exports){module.exports=require("./_global").document&&document.documentElement},{"./_global":155}],159:[function(require,module,exports){module.exports=!require("./_descriptors")&&!require("./_fails")(function(){return Object.defineProperty(require("./_dom-create")("div"),"a",{get:function(){return 7}}).a!=7})},{"./_descriptors":150,"./_dom-create":151,"./_fails":154}],160:[function(require,module,exports){var cof=require("./_cof");module.exports=Object("z").propertyIsEnumerable(0)?Object:function(it){return cof(it)=="String"?it.split(""):Object(it)}},{"./_cof":145}],161:[function(require,module,exports){var Iterators=require("./_iterators"),ITERATOR=require("./_wks")("iterator"),ArrayProto=Array.prototype;module.exports=function(it){return it!==undefined&&(Iterators.Array===it||ArrayProto[ITERATOR]===it)}},{"./_iterators":168,"./_wks":193}],162:[function(require,module,exports){module.exports=function(it){return typeof it==="object"?it!==null:typeof it==="function"}},{}],163:[function(require,module,exports){var anObject=require("./_an-object");module.exports=function(iterator,fn,value,entries){try{return entries?fn(anObject(value)[0],value[1]):fn(value)}catch(e){var ret=iterator["return"];if(ret!==undefined)anObject(ret.call(iterator));throw e}}},{"./_an-object":142}],164:[function(require,module,exports){"use strict";var create=require("./_object-create"),descriptor=require("./_property-desc"),setToStringTag=require("./_set-to-string-tag"),IteratorPrototype={};require("./_hide")(IteratorPrototype,require("./_wks")("iterator"),function(){return this});module.exports=function(Constructor,NAME,next){Constructor.prototype=create(IteratorPrototype,{next:descriptor(1,next)});setToStringTag(Constructor,NAME+" Iterator")}},{"./_hide":157,"./_object-create":171,"./_property-desc":180,"./_set-to-string-tag":182,"./_wks":193}],165:[function(require,module,exports){"use strict";var LIBRARY=require("./_library"),$export=require("./_export"),redefine=require("./_redefine"),hide=require("./_hide"),has=require("./_has"),Iterators=require("./_iterators"),$iterCreate=require("./_iter-create"),setToStringTag=require("./_set-to-string-tag"),getPrototypeOf=require("./_object-gpo"),ITERATOR=require("./_wks")("iterator"),BUGGY=!([].keys&&"next"in[].keys()),FF_ITERATOR="@@iterator",KEYS="keys",VALUES="values";var returnThis=function(){return this};module.exports=function(Base,NAME,Constructor,next,DEFAULT,IS_SET,FORCED){$iterCreate(Constructor,NAME,next);var getMethod=function(kind){if(!BUGGY&&kind in proto)return proto[kind];switch(kind){case KEYS:return function keys(){return new Constructor(this,kind)};case VALUES:return function values(){return new Constructor(this,kind)}}return function entries(){return new Constructor(this,kind)}};var TAG=NAME+" Iterator",DEF_VALUES=DEFAULT==VALUES,VALUES_BUG=false,proto=Base.prototype,$native=proto[ITERATOR]||proto[FF_ITERATOR]||DEFAULT&&proto[DEFAULT],$default=$native||getMethod(DEFAULT),$entries=DEFAULT?!DEF_VALUES?$default:getMethod("entries"):undefined,$anyNative=NAME=="Array"?proto.entries||$native:$native,methods,key,IteratorPrototype;if($anyNative){IteratorPrototype=getPrototypeOf($anyNative.call(new Base));if(IteratorPrototype!==Object.prototype){setToStringTag(IteratorPrototype,TAG,true);if(!LIBRARY&&!has(IteratorPrototype,ITERATOR))hide(IteratorPrototype,ITERATOR,returnThis)}}if(DEF_VALUES&&$native&&$native.name!==VALUES){VALUES_BUG=true;$default=function values(){return $native.call(this)}}if((!LIBRARY||FORCED)&&(BUGGY||VALUES_BUG||!proto[ITERATOR])){hide(proto,ITERATOR,$default)}Iterators[NAME]=$default;Iterators[TAG]=returnThis;if(DEFAULT){methods={values:DEF_VALUES?$default:getMethod(VALUES),keys:IS_SET?$default:getMethod(KEYS),entries:$entries};if(FORCED)for(key in methods){if(!(key in proto))redefine(proto,key,methods[key])}else $export($export.P+$export.F*(BUGGY||VALUES_BUG),NAME,methods)}return methods}},{"./_export":153,"./_has":156,"./_hide":157,"./_iter-create":164,"./_iterators":168,"./_library":169,"./_object-gpo":175,"./_redefine":181,"./_set-to-string-tag":182,"./_wks":193}],166:[function(require,module,exports){var ITERATOR=require("./_wks")("iterator"),SAFE_CLOSING=false;try{var riter=[7][ITERATOR]();riter["return"]=function(){SAFE_CLOSING=true};Array.from(riter,function(){throw 2})}catch(e){}module.exports=function(exec,skipClosing){if(!skipClosing&&!SAFE_CLOSING)return false;var safe=false;try{var arr=[7],iter=arr[ITERATOR]();iter.next=function(){return{done:safe=true}};arr[ITERATOR]=function(){return iter};exec(arr)}catch(e){}return safe}},{"./_wks":193}],167:[function(require,module,exports){module.exports=function(done,value){return{value:value,done:!!done}}},{}],168:[function(require,module,exports){module.exports={}},{}],169:[function(require,module,exports){module.exports=true},{}],170:[function(require,module,exports){"use strict";var getKeys=require("./_object-keys"),gOPS=require("./_object-gops"),pIE=require("./_object-pie"),toObject=require("./_to-object"),IObject=require("./_iobject"),$assign=Object.assign;module.exports=!$assign||require("./_fails")(function(){var A={},B={},S=Symbol(),K="abcdefghijklmnopqrst";A[S]=7;K.split("").forEach(function(k){B[k]=k});return $assign({},A)[S]!=7||Object.keys($assign({},B)).join("")!=K})?function assign(target,source){var T=toObject(target),aLen=arguments.length,index=1,getSymbols=gOPS.f,isEnum=pIE.f;while(aLen>index){var S=IObject(arguments[index++]),keys=getSymbols?getKeys(S).concat(getSymbols(S)):getKeys(S),length=keys.length,j=0,key;while(length>j)if(isEnum.call(S,key=keys[j++]))T[key]=S[key]}return T}:$assign},{"./_fails":154,"./_iobject":160,"./_object-gops":174,"./_object-keys":177,"./_object-pie":178,"./_to-object":190}],171:[function(require,module,exports){var anObject=require("./_an-object"),dPs=require("./_object-dps"),enumBugKeys=require("./_enum-bug-keys"),IE_PROTO=require("./_shared-key")("IE_PROTO"),Empty=function(){},PROTOTYPE="prototype";var createDict=function(){var iframe=require("./_dom-create")("iframe"),i=enumBugKeys.length,gt=">",iframeDocument;iframe.style.display="none";require("./_html").appendChild(iframe);iframe.src="javascript:";iframeDocument=iframe.contentWindow.document;iframeDocument.open();iframeDocument.write("<script>document.F=Object</script"+gt);iframeDocument.close();createDict=iframeDocument.F;while(i--)delete createDict[PROTOTYPE][enumBugKeys[i]];return createDict()};module.exports=Object.create||function create(O,Properties){var result;if(O!==null){Empty[PROTOTYPE]=anObject(O);result=new Empty;Empty[PROTOTYPE]=null;result[IE_PROTO]=O}else result=createDict();return Properties===undefined?result:dPs(result,Properties)}},{"./_an-object":142,"./_dom-create":151,"./_enum-bug-keys":152,"./_html":158,"./_object-dps":173,"./_shared-key":183}],172:[function(require,module,exports){var anObject=require("./_an-object"),IE8_DOM_DEFINE=require("./_ie8-dom-define"),toPrimitive=require("./_to-primitive"),dP=Object.defineProperty;exports.f=require("./_descriptors")?Object.defineProperty:function defineProperty(O,P,Attributes){anObject(O);P=toPrimitive(P,true);anObject(Attributes);if(IE8_DOM_DEFINE)try{return dP(O,P,Attributes)}catch(e){}if("get"in Attributes||"set"in Attributes)throw TypeError("Accessors not supported!");if("value"in Attributes)O[P]=Attributes.value;return O}},{"./_an-object":142,"./_descriptors":150,"./_ie8-dom-define":159,"./_to-primitive":191}],173:[function(require,module,exports){var dP=require("./_object-dp"),anObject=require("./_an-object"),getKeys=require("./_object-keys");module.exports=require("./_descriptors")?Object.defineProperties:function defineProperties(O,Properties){anObject(O);var keys=getKeys(Properties),length=keys.length,i=0,P;while(length>i)dP.f(O,P=keys[i++],Properties[P]);return O}},{"./_an-object":142,"./_descriptors":150,"./_object-dp":172,"./_object-keys":177}],174:[function(require,module,exports){exports.f=Object.getOwnPropertySymbols},{}],175:[function(require,module,exports){var has=require("./_has"),toObject=require("./_to-object"),IE_PROTO=require("./_shared-key")("IE_PROTO"),ObjectProto=Object.prototype;module.exports=Object.getPrototypeOf||function(O){O=toObject(O);if(has(O,IE_PROTO))return O[IE_PROTO];if(typeof O.constructor=="function"&&O instanceof O.constructor){return O.constructor.prototype}return O instanceof Object?ObjectProto:null}},{"./_has":156,"./_shared-key":183,"./_to-object":190}],176:[function(require,module,exports){var has=require("./_has"),toIObject=require("./_to-iobject"),arrayIndexOf=require("./_array-includes")(false),IE_PROTO=require("./_shared-key")("IE_PROTO");module.exports=function(object,names){var O=toIObject(object),i=0,result=[],key;for(key in O)if(key!=IE_PROTO)has(O,key)&&result.push(key);while(names.length>i)if(has(O,key=names[i++])){~arrayIndexOf(result,key)||result.push(key)}return result}},{"./_array-includes":143,"./_has":156,"./_shared-key":183,"./_to-iobject":188
}],177:[function(require,module,exports){var $keys=require("./_object-keys-internal"),enumBugKeys=require("./_enum-bug-keys");module.exports=Object.keys||function keys(O){return $keys(O,enumBugKeys)}},{"./_enum-bug-keys":152,"./_object-keys-internal":176}],178:[function(require,module,exports){exports.f={}.propertyIsEnumerable},{}],179:[function(require,module,exports){var $export=require("./_export"),core=require("./_core"),fails=require("./_fails");module.exports=function(KEY,exec){var fn=(core.Object||{})[KEY]||Object[KEY],exp={};exp[KEY]=exec(fn);$export($export.S+$export.F*fails(function(){fn(1)}),"Object",exp)}},{"./_core":146,"./_export":153,"./_fails":154}],180:[function(require,module,exports){module.exports=function(bitmap,value){return{enumerable:!(bitmap&1),configurable:!(bitmap&2),writable:!(bitmap&4),value:value}}},{}],181:[function(require,module,exports){module.exports=require("./_hide")},{"./_hide":157}],182:[function(require,module,exports){var def=require("./_object-dp").f,has=require("./_has"),TAG=require("./_wks")("toStringTag");module.exports=function(it,tag,stat){if(it&&!has(it=stat?it:it.prototype,TAG))def(it,TAG,{configurable:true,value:tag})}},{"./_has":156,"./_object-dp":172,"./_wks":193}],183:[function(require,module,exports){var shared=require("./_shared")("keys"),uid=require("./_uid");module.exports=function(key){return shared[key]||(shared[key]=uid(key))}},{"./_shared":184,"./_uid":192}],184:[function(require,module,exports){var global=require("./_global"),SHARED="__core-js_shared__",store=global[SHARED]||(global[SHARED]={});module.exports=function(key){return store[key]||(store[key]={})}},{"./_global":155}],185:[function(require,module,exports){var toInteger=require("./_to-integer"),defined=require("./_defined");module.exports=function(TO_STRING){return function(that,pos){var s=String(defined(that)),i=toInteger(pos),l=s.length,a,b;if(i<0||i>=l)return TO_STRING?"":undefined;a=s.charCodeAt(i);return a<55296||a>56319||i+1===l||(b=s.charCodeAt(i+1))<56320||b>57343?TO_STRING?s.charAt(i):a:TO_STRING?s.slice(i,i+2):(a-55296<<10)+(b-56320)+65536}}},{"./_defined":149,"./_to-integer":187}],186:[function(require,module,exports){var toInteger=require("./_to-integer"),max=Math.max,min=Math.min;module.exports=function(index,length){index=toInteger(index);return index<0?max(index+length,0):min(index,length)}},{"./_to-integer":187}],187:[function(require,module,exports){var ceil=Math.ceil,floor=Math.floor;module.exports=function(it){return isNaN(it=+it)?0:(it>0?floor:ceil)(it)}},{}],188:[function(require,module,exports){var IObject=require("./_iobject"),defined=require("./_defined");module.exports=function(it){return IObject(defined(it))}},{"./_defined":149,"./_iobject":160}],189:[function(require,module,exports){var toInteger=require("./_to-integer"),min=Math.min;module.exports=function(it){return it>0?min(toInteger(it),9007199254740991):0}},{"./_to-integer":187}],190:[function(require,module,exports){var defined=require("./_defined");module.exports=function(it){return Object(defined(it))}},{"./_defined":149}],191:[function(require,module,exports){var isObject=require("./_is-object");module.exports=function(it,S){if(!isObject(it))return it;var fn,val;if(S&&typeof(fn=it.toString)=="function"&&!isObject(val=fn.call(it)))return val;if(typeof(fn=it.valueOf)=="function"&&!isObject(val=fn.call(it)))return val;if(!S&&typeof(fn=it.toString)=="function"&&!isObject(val=fn.call(it)))return val;throw TypeError("Can't convert object to primitive value")}},{"./_is-object":162}],192:[function(require,module,exports){var id=0,px=Math.random();module.exports=function(key){return"Symbol(".concat(key===undefined?"":key,")_",(++id+px).toString(36))}},{}],193:[function(require,module,exports){var store=require("./_shared")("wks"),uid=require("./_uid"),Symbol=require("./_global").Symbol,USE_SYMBOL=typeof Symbol=="function";var $exports=module.exports=function(name){return store[name]||(store[name]=USE_SYMBOL&&Symbol[name]||(USE_SYMBOL?Symbol:uid)("Symbol."+name))};$exports.store=store},{"./_global":155,"./_shared":184,"./_uid":192}],194:[function(require,module,exports){var classof=require("./_classof"),ITERATOR=require("./_wks")("iterator"),Iterators=require("./_iterators");module.exports=require("./_core").getIteratorMethod=function(it){if(it!=undefined)return it[ITERATOR]||it["@@iterator"]||Iterators[classof(it)]}},{"./_classof":144,"./_core":146,"./_iterators":168,"./_wks":193}],195:[function(require,module,exports){var anObject=require("./_an-object"),get=require("./core.get-iterator-method");module.exports=require("./_core").getIterator=function(it){var iterFn=get(it);if(typeof iterFn!="function")throw TypeError(it+" is not iterable!");return anObject(iterFn.call(it))}},{"./_an-object":142,"./_core":146,"./core.get-iterator-method":194}],196:[function(require,module,exports){var classof=require("./_classof"),ITERATOR=require("./_wks")("iterator"),Iterators=require("./_iterators");module.exports=require("./_core").isIterable=function(it){var O=Object(it);return O[ITERATOR]!==undefined||"@@iterator"in O||Iterators.hasOwnProperty(classof(O))}},{"./_classof":144,"./_core":146,"./_iterators":168,"./_wks":193}],197:[function(require,module,exports){"use strict";var ctx=require("./_ctx"),$export=require("./_export"),toObject=require("./_to-object"),call=require("./_iter-call"),isArrayIter=require("./_is-array-iter"),toLength=require("./_to-length"),createProperty=require("./_create-property"),getIterFn=require("./core.get-iterator-method");$export($export.S+$export.F*!require("./_iter-detect")(function(iter){Array.from(iter)}),"Array",{from:function from(arrayLike){var O=toObject(arrayLike),C=typeof this=="function"?this:Array,aLen=arguments.length,mapfn=aLen>1?arguments[1]:undefined,mapping=mapfn!==undefined,index=0,iterFn=getIterFn(O),length,result,step,iterator;if(mapping)mapfn=ctx(mapfn,aLen>2?arguments[2]:undefined,2);if(iterFn!=undefined&&!(C==Array&&isArrayIter(iterFn))){for(iterator=iterFn.call(O),result=new C;!(step=iterator.next()).done;index++){createProperty(result,index,mapping?call(iterator,mapfn,[step.value,index],true):step.value)}}else{length=toLength(O.length);for(result=new C(length);length>index;index++){createProperty(result,index,mapping?mapfn(O[index],index):O[index])}}result.length=index;return result}})},{"./_create-property":147,"./_ctx":148,"./_export":153,"./_is-array-iter":161,"./_iter-call":163,"./_iter-detect":166,"./_to-length":189,"./_to-object":190,"./core.get-iterator-method":194}],198:[function(require,module,exports){"use strict";var addToUnscopables=require("./_add-to-unscopables"),step=require("./_iter-step"),Iterators=require("./_iterators"),toIObject=require("./_to-iobject");module.exports=require("./_iter-define")(Array,"Array",function(iterated,kind){this._t=toIObject(iterated);this._i=0;this._k=kind},function(){var O=this._t,kind=this._k,index=this._i++;if(!O||index>=O.length){this._t=undefined;return step(1)}if(kind=="keys")return step(0,index);if(kind=="values")return step(0,O[index]);return step(0,[index,O[index]])},"values");Iterators.Arguments=Iterators.Array;addToUnscopables("keys");addToUnscopables("values");addToUnscopables("entries")},{"./_add-to-unscopables":141,"./_iter-define":165,"./_iter-step":167,"./_iterators":168,"./_to-iobject":188}],199:[function(require,module,exports){var $export=require("./_export");$export($export.S+$export.F,"Object",{assign:require("./_object-assign")})},{"./_export":153,"./_object-assign":170}],200:[function(require,module,exports){var $export=require("./_export");$export($export.S+$export.F*!require("./_descriptors"),"Object",{defineProperty:require("./_object-dp").f})},{"./_descriptors":150,"./_export":153,"./_object-dp":172}],201:[function(require,module,exports){var toObject=require("./_to-object"),$keys=require("./_object-keys");require("./_object-sap")("keys",function(){return function keys(it){return $keys(toObject(it))}})},{"./_object-keys":177,"./_object-sap":179,"./_to-object":190}],202:[function(require,module,exports){"use strict";var $at=require("./_string-at")(true);require("./_iter-define")(String,"String",function(iterated){this._t=String(iterated);this._i=0},function(){var O=this._t,index=this._i,point;if(index>=O.length)return{value:undefined,done:true};point=$at(O,index);this._i+=point.length;return{value:point,done:false}})},{"./_iter-define":165,"./_string-at":185}],203:[function(require,module,exports){require("./es6.array.iterator");var global=require("./_global"),hide=require("./_hide"),Iterators=require("./_iterators"),TO_STRING_TAG=require("./_wks")("toStringTag");for(var collections=["NodeList","DOMTokenList","MediaList","StyleSheetList","CSSRuleList"],i=0;i<5;i++){var NAME=collections[i],Collection=global[NAME],proto=Collection&&Collection.prototype;if(proto&&!proto[TO_STRING_TAG])hide(proto,TO_STRING_TAG,NAME);Iterators[NAME]=Iterators.Array}},{"./_global":155,"./_hide":157,"./_iterators":168,"./_wks":193,"./es6.array.iterator":198}],204:[function(require,module,exports){module.exports=require("regenerator-runtime")},{"regenerator-runtime":271}],205:[function(require,module,exports){var BigEval=function(){this.err=0;this.errMsg="";this.errBR="IMPROPER_BRACKETS";this.errMS="MISSING_OPERATOR_AT_";this.errMN="MISSING_OPERAND_AT_";this.errIC="INVALID_CHAR_AT_";this.errFN="INVALID_FUNCTION_";this.errVD="UNDEFINED_VARIABLE_";this.errFL="FUNCTION_LIMIT_EXCEEDED_BY_";this.order=["!","@","\\/*%","+-","&","^","|"];var a=this.CONSTANT={};a.PI=Math.PI;a.PI_2=a.PI/2;a.LOG2E=Math.LOG2E;a.DEG=a.PI/180;a.E=Math.E;a.INFINITY="Infinity";a.NaN="NaN"};BigEval.prototype.exec=function(s){this.err=0;this.errMsg="";this.validate(s);if(this.err)return this.errMsg;s=s.replace(/\*\*/g,"@");var misOperator=/[a-z0-9][ \t]+[a-z0-9\.]/gi,p;if(misOperator.exec(s)){this.err=1;return this.errMsg=this.errMS+misOperator.lastIndex}var misOperands=/[\+\-\\\/\*\@\%\&\^\|][ \t]*([\\\/\*\@\!\%\&\^\|\)]|$)/g;if(misOperands.exec(s)){this.err=1;return this.errMsg=this.errMN+misOperands.lastIndex}s=this.plusMinus(s.replace(/[ \t]/g,""));s=this.solve(s);if(s.charAt(0)=="+")s=s.slice(1);return s};BigEval.prototype.solve=function(s){var fc=s.charAt(0);if(!fc.match(/[a-z0-9\.\+\-\(]/i)){this.err=1;return this.errMsg=this.errIC}s=this.addPlusSign(s);var ob=s.indexOf("("),cb,fname,freturn;while(ob!=-1){var obct=1;for(var i=ob+1;i<s.length;i++){if(s[i]=="(")obct++;else if(s[i]==")"){obct--;if(obct==0){cb=i;break}}}if(s.charAt(ob-1).match(/[a-z0-9_]/i)){fname=s.slice(0,ob).match(/[a-z0-9_]+$/i);freturn=this.solve(s.slice(ob+1,cb));freturn=this.solveFunc(freturn,fname[0])+"";s=s.slice(0,ob-fname[0].length)+freturn+s.slice(cb+1)}else{s=s.slice(0,ob)+this.solve(s.slice(ob+1,cb))+s.slice(cb+1)}if(this.err)return this.errMsg;ob=s.indexOf("(")}if(s.indexOf(",")!=-1)return this.addPlusSign(s);var p,bp,ap,seg,c,cs,isAddOn=0,b,a;for(var i=0;i<this.order.length;i++){cs=this.order[i];if(cs=="+-"){s=this.plusMinus(s);isAddOn=1}p=this.leastIndexOf(s,cs,1);while(p>0){bp=s.slice(0,p).match(/[\-\+]*(\de\-|\de\+|[a-z0-9_\.])+$/i);ap=s.slice(p+1).match(/[\-\+]*(\de\-|\de\+|[a-z0-9_\.])+/i);if(ap==null)ap=[""];if(bp==null){p=this.leastIndexOf(s,cs,p+1);continue}if(!isAddOn)if(bp[0].match(/[\-\+]/))bp[0]=bp[0].slice(1);if(isAddOn)if(bp[0].charAt(bp[0].length-1)=="e")if(bp[0].charAt(bp[0].length-2).match(/\d/)){p=this.leastIndexOf(s,cs,p+1);continue}c=s.charAt(p);b=this.parseVar(this.plusMinus(bp[0]));a=this.parseVar(this.plusMinus(ap[0]));if(this.err)return this.errMsg;if(c=="!"){if(bp[0].charAt(0)=="+"||bp[0].charAt(0)=="-")bp[0]=bp[0].slice(1);b=this.parseVar(bp[0]);seg=this.fac(b)+"";ap=[""]}else{if(c=="/"||c=="\\")seg=this.div(b,a);else if(c=="*")seg=this.mul(b,a);else if(c=="+")seg=this.add(b,a);else if(c=="-")seg=this.sub(b,a);else if(c=="@")seg=this.pow(b,a);else if(c=="%")seg=this.mod(b,a);else if(c=="&")seg=this.and(b,a);else if(c=="^")seg=this.xor(b,a);else if(c=="|")seg=this.or(b,a);seg=this.addPlusSign(seg+"")}s=s.slice(0,p-bp[0].length)+seg+s.slice(p+ap[0].length+1);p=this.leastIndexOf(s,cs,1)}}s=this.addPlusSign(s);return this.parseVar(s)};BigEval.prototype.validate=function(s){var stack=[],err=0;for(var i=0;i<s.length;i++){if(s[i]=="(")stack.push(0);else if(s[i]==")"){if(stack.length>0)stack.pop();else{this.makeError(this.errBR);break}}}if(this.err==0)if(stack.length!=0)this.makeError(this.errBR)};BigEval.prototype.solveFunc=function(s,fname){var arr=s.split(","),f,isMath=0,isBigEval=0;if(typeof this[fname]=="function"){isBigEval=1}else if(typeof Math[fname]=="function"){f=Math[fname];isMath=1}else if(typeof window[fname]=="function")f=window[fname];else{this.makeError(this.errFN+fname);return 0}for(var i=0;i<arr.length;i++)arr[i]=isMath?Number(this.solve(arr[i])):this.solve(arr[i]);if(arr.length==1)return isBigEval?this[fname].call(this,arr[0]):f(arr[0]);else if(arr.length==2)return isBigEval?this[fname].call(this,arr[0],arr[1]):f(arr[0],arr[1]);else if(arr.length==3)return isBigEval?this[fname].call(this,arr[0],arr[1],arr[2]):f(arr[0],arr[1],arr[2]);else if(arr.length==4)return isBigEval?this[fname].call(this,arr[0],arr[1],arr[2],arr[3]):f(arr[0],arr[1],arr[2],arr[3]);else return this.makeError(this.errFL+fname)};BigEval.prototype.parseVar=function(s){var z;if(z=s.match(/^[\+\-]?[a-z][a-z0-9_]*$/i)){var zs="";if(z[0].charAt(0)=="-"||z[0].charAt(0)=="+"){zs=z[0].slice(0,1);z[0]=z[0].slice(1)}if(typeof this.CONSTANT[z[0].toUpperCase()]!=="undefined")return zs+this.CONSTANT[z[0].toUpperCase()];else if(typeof this.CONSTANT[z[0]]!=="undefined")return zs+this.CONSTANT[z[0]];else return this.makeError(this.errVD+z[0])}else return s};BigEval.prototype.leastIndexOf=function(s,cs,sp){var l=-1,p;for(var i=0;i<cs.length;i++){p=s.indexOf(cs[i],sp);if(p==-1)continue;if(l==-1)l=p;else if(p<l)l=p}return l};BigEval.prototype.plusMinus=function(s){return s.replace(/\+\+/g,"+").replace(/\+\-/g,"-").replace(/\-\+/g,"-").replace(/\-\-/g,"+")};BigEval.prototype.addPlusSign=function(s){if(s.charAt(0)!="-"&&s.charAt(0)!="+")s="+"+s;return s};BigEval.prototype.makeError=function(msg){this.err=1;return this.errMsg=msg};BigEval.prototype.add=function(a,b){return Number(a)+Number(b)};BigEval.prototype.sub=function(a,b){return Number(a)-Number(b)};BigEval.prototype.mul=function(a,b){return Number(a)*Number(b)};BigEval.prototype.div=function(a,b){return Number(a)/Number(b)};BigEval.prototype.pow=function(a,b){return Math.pow(Number(a),Number(b))};BigEval.prototype.fac=function(n){var s="1";n=Number(n);for(var i=2;i<=n;i++)s=this.mul(s,i);return s};BigEval.prototype.mod=function(a,b){return Number(a)%Number(b)};BigEval.prototype.and=function(a,b){return Number(a)&Number(b)};BigEval.prototype.xor=function(a,b){return Number(a)^Number(b)};BigEval.prototype.or=function(a,b){return Number(a)|Number(b)};if(typeof module!=="undefined"&&module.exports&&typeof exports!=="undefined"){module.exports=BigEval}},{}],206:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _catchLinks=require("catch-links");var _catchLinks2=_interopRequireDefault(_catchLinks);function bindUrl(_ref,cb){var wnd=_ref.wnd;var root=_ref.root;if(root===undefined){root=wnd}(0,_catchLinks2["default"])(root,pushState);wnd.addEventListener("popstate",update);update();function update(){var _wnd$location=wnd.location;var pathname=_wnd$location.pathname;var search=_wnd$location.search;cb([pathname,search].filter(Boolean).join(""))}function pushState(url){wnd.history.pushState({},"",url);cb(url)}}exports["default"]=bindUrl;module.exports=exports["default"]},{"catch-links":208}],207:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var FastArray=typeof Uint32Array==="undefined"?Array:Uint32Array;function createBv(sizeInBits){return new FastArray(Math.ceil(sizeInBits/32))}function setBit(v,idx){var r=idx%32;var pos=(idx-r)/32;v[pos]|=1<<r}function clearBit(v,idx){var r=idx%32;var pos=(idx-r)/32;v[pos]&=~(1<<r)}function getBit(v,idx){var r=idx%32;var pos=(idx-r)/32;return!!(v[pos]&1<<r)}exports.createBv=createBv;exports.setBit=setBit;exports.clearBit=clearBit;exports.getBit=getBit},{}],208:[function(require,module,exports){var url=require("url");module.exports=function(root,cb){root.addEventListener("click",function(ev){if(ev.altKey||ev.ctrlKey||ev.metaKey||ev.shiftKey||ev.defaultPrevented){return true}var anchor=null;for(var n=ev.target;n.parentNode;n=n.parentNode){if(n.nodeName==="A"){anchor=n;break}}if(!anchor)return true;var href=anchor.getAttribute("href");var u=url.parse(anchor.getAttribute("href"));if(u.host&&u.host!==location.host)return true;ev.preventDefault();var base=location.protocol+"//"+location.host;cb(url.resolve(location.pathname,u.path||"")+(u.hash||""));return false})}},{url:279}],209:[function(require,module,exports){(function(){"use strict";var hasOwn={}.hasOwnProperty;function classNames(){var classes=[];for(var i=0;i<arguments.length;i++){var arg=arguments[i];if(!arg)continue;var argType=typeof arg;if(argType==="string"||argType==="number"){classes.push(arg)}else if(Array.isArray(arg)){classes.push(classNames.apply(null,arg))}else if(argType==="object"){for(var key in arg){if(hasOwn.call(arg,key)&&arg[key]){classes.push(key)}}}}return classes.join(" ")}if(typeof module!=="undefined"&&module.exports){module.exports=classNames}else if(typeof define==="function"&&typeof define.amd==="object"&&define.amd){define("classnames",[],function(){return classNames})}else{window.classNames=classNames}})()},{}],210:[function(require,module,exports){module.exports={rgb2hsl:rgb2hsl,rgb2hsv:rgb2hsv,rgb2hwb:rgb2hwb,rgb2cmyk:rgb2cmyk,rgb2keyword:rgb2keyword,rgb2xyz:rgb2xyz,rgb2lab:rgb2lab,rgb2lch:rgb2lch,hsl2rgb:hsl2rgb,hsl2hsv:hsl2hsv,hsl2hwb:hsl2hwb,hsl2cmyk:hsl2cmyk,hsl2keyword:hsl2keyword,hsv2rgb:hsv2rgb,hsv2hsl:hsv2hsl,hsv2hwb:hsv2hwb,hsv2cmyk:hsv2cmyk,hsv2keyword:hsv2keyword,hwb2rgb:hwb2rgb,hwb2hsl:hwb2hsl,hwb2hsv:hwb2hsv,hwb2cmyk:hwb2cmyk,hwb2keyword:hwb2keyword,cmyk2rgb:cmyk2rgb,cmyk2hsl:cmyk2hsl,cmyk2hsv:cmyk2hsv,cmyk2hwb:cmyk2hwb,cmyk2keyword:cmyk2keyword,keyword2rgb:keyword2rgb,keyword2hsl:keyword2hsl,keyword2hsv:keyword2hsv,keyword2hwb:keyword2hwb,keyword2cmyk:keyword2cmyk,keyword2lab:keyword2lab,keyword2xyz:keyword2xyz,xyz2rgb:xyz2rgb,xyz2lab:xyz2lab,xyz2lch:xyz2lch,lab2xyz:lab2xyz,lab2rgb:lab2rgb,lab2lch:lab2lch,lch2lab:lch2lab,lch2xyz:lch2xyz,lch2rgb:lch2rgb};function rgb2hsl(rgb){var r=rgb[0]/255,g=rgb[1]/255,b=rgb[2]/255,min=Math.min(r,g,b),max=Math.max(r,g,b),delta=max-min,h,s,l;if(max==min)h=0;else if(r==max)h=(g-b)/delta;else if(g==max)h=2+(b-r)/delta;else if(b==max)h=4+(r-g)/delta;h=Math.min(h*60,360);if(h<0)h+=360;l=(min+max)/2;if(max==min)s=0;else if(l<=.5)s=delta/(max+min);else s=delta/(2-max-min);return[h,s*100,l*100]}function rgb2hsv(rgb){var r=rgb[0],g=rgb[1],b=rgb[2],min=Math.min(r,g,b),max=Math.max(r,g,b),delta=max-min,h,s,v;if(max==0)s=0;else s=delta/max*1e3/10;if(max==min)h=0;else if(r==max)h=(g-b)/delta;else if(g==max)h=2+(b-r)/delta;else if(b==max)h=4+(r-g)/delta;h=Math.min(h*60,360);if(h<0)h+=360;v=max/255*1e3/10;return[h,s,v]}function rgb2hwb(rgb){var r=rgb[0],g=rgb[1],b=rgb[2],h=rgb2hsl(rgb)[0],w=1/255*Math.min(r,Math.min(g,b)),b=1-1/255*Math.max(r,Math.max(g,b));return[h,w*100,b*100]}function rgb2cmyk(rgb){var r=rgb[0]/255,g=rgb[1]/255,b=rgb[2]/255,c,m,y,k;k=Math.min(1-r,1-g,1-b);c=(1-r-k)/(1-k)||0;m=(1-g-k)/(1-k)||0;y=(1-b-k)/(1-k)||0;return[c*100,m*100,y*100,k*100]}function rgb2keyword(rgb){return reverseKeywords[JSON.stringify(rgb)]}function rgb2xyz(rgb){var r=rgb[0]/255,g=rgb[1]/255,b=rgb[2]/255;r=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92;g=g>.04045?Math.pow((g+.055)/1.055,2.4):g/12.92;b=b>.04045?Math.pow((b+.055)/1.055,2.4):b/12.92;var x=r*.4124+g*.3576+b*.1805;var y=r*.2126+g*.7152+b*.0722;var z=r*.0193+g*.1192+b*.9505;return[x*100,y*100,z*100]}function rgb2lab(rgb){var xyz=rgb2xyz(rgb),x=xyz[0],y=xyz[1],z=xyz[2],l,a,b;x/=95.047;y/=100;z/=108.883;x=x>.008856?Math.pow(x,1/3):7.787*x+16/116;y=y>.008856?Math.pow(y,1/3):7.787*y+16/116;z=z>.008856?Math.pow(z,1/3):7.787*z+16/116;l=116*y-16;a=500*(x-y);b=200*(y-z);return[l,a,b]}function rgb2lch(args){return lab2lch(rgb2lab(args))}function hsl2rgb(hsl){var h=hsl[0]/360,s=hsl[1]/100,l=hsl[2]/100,t1,t2,t3,rgb,val;if(s==0){val=l*255;return[val,val,val]}if(l<.5)t2=l*(1+s);else t2=l+s-l*s;t1=2*l-t2;rgb=[0,0,0];for(var i=0;i<3;i++){t3=h+1/3*-(i-1);t3<0&&t3++;t3>1&&t3--;if(6*t3<1)val=t1+(t2-t1)*6*t3;else if(2*t3<1)val=t2;else if(3*t3<2)val=t1+(t2-t1)*(2/3-t3)*6;else val=t1;rgb[i]=val*255}return rgb}function hsl2hsv(hsl){var h=hsl[0],s=hsl[1]/100,l=hsl[2]/100,sv,v;if(l===0){return[0,0,0]}l*=2;s*=l<=1?l:2-l;v=(l+s)/2;sv=2*s/(l+s);return[h,sv*100,v*100]}function hsl2hwb(args){return rgb2hwb(hsl2rgb(args))}function hsl2cmyk(args){return rgb2cmyk(hsl2rgb(args))}function hsl2keyword(args){return rgb2keyword(hsl2rgb(args))}function hsv2rgb(hsv){var h=hsv[0]/60,s=hsv[1]/100,v=hsv[2]/100,hi=Math.floor(h)%6;var f=h-Math.floor(h),p=255*v*(1-s),q=255*v*(1-s*f),t=255*v*(1-s*(1-f)),v=255*v;switch(hi){case 0:return[v,t,p];case 1:return[q,v,p];case 2:return[p,v,t];case 3:return[p,q,v];case 4:return[t,p,v];case 5:return[v,p,q]}}function hsv2hsl(hsv){var h=hsv[0],s=hsv[1]/100,v=hsv[2]/100,sl,l;l=(2-s)*v;sl=s*v;sl/=l<=1?l:2-l;sl=sl||0;l/=2;return[h,sl*100,l*100]}function hsv2hwb(args){return rgb2hwb(hsv2rgb(args))}function hsv2cmyk(args){return rgb2cmyk(hsv2rgb(args))}function hsv2keyword(args){return rgb2keyword(hsv2rgb(args))}function hwb2rgb(hwb){var h=hwb[0]/360,wh=hwb[1]/100,bl=hwb[2]/100,ratio=wh+bl,i,v,f,n;if(ratio>1){wh/=ratio;bl/=ratio}i=Math.floor(6*h);v=1-bl;f=6*h-i;if((i&1)!=0){f=1-f}n=wh+f*(v-wh);switch(i){default:case 6:case 0:r=v;g=n;b=wh;break;case 1:r=n;g=v;b=wh;break;case 2:r=wh;g=v;b=n;break;case 3:r=wh;g=n;b=v;break;case 4:r=n;g=wh;b=v;break;case 5:r=v;g=wh;b=n;break}return[r*255,g*255,b*255]}function hwb2hsl(args){return rgb2hsl(hwb2rgb(args))}function hwb2hsv(args){return rgb2hsv(hwb2rgb(args))}function hwb2cmyk(args){return rgb2cmyk(hwb2rgb(args))}function hwb2keyword(args){return rgb2keyword(hwb2rgb(args))}function cmyk2rgb(cmyk){var c=cmyk[0]/100,m=cmyk[1]/100,y=cmyk[2]/100,k=cmyk[3]/100,r,g,b;r=1-Math.min(1,c*(1-k)+k);g=1-Math.min(1,m*(1-k)+k);b=1-Math.min(1,y*(1-k)+k);return[r*255,g*255,b*255]}function cmyk2hsl(args){return rgb2hsl(cmyk2rgb(args))}function cmyk2hsv(args){return rgb2hsv(cmyk2rgb(args))}function cmyk2hwb(args){return rgb2hwb(cmyk2rgb(args))}function cmyk2keyword(args){return rgb2keyword(cmyk2rgb(args))}function xyz2rgb(xyz){var x=xyz[0]/100,y=xyz[1]/100,z=xyz[2]/100,r,g,b;r=x*3.2406+y*-1.5372+z*-.4986;g=x*-.9689+y*1.8758+z*.0415;b=x*.0557+y*-.204+z*1.057;r=r>.0031308?1.055*Math.pow(r,1/2.4)-.055:r=r*12.92;g=g>.0031308?1.055*Math.pow(g,1/2.4)-.055:g=g*12.92;b=b>.0031308?1.055*Math.pow(b,1/2.4)-.055:b=b*12.92;r=Math.min(Math.max(0,r),1);g=Math.min(Math.max(0,g),1);b=Math.min(Math.max(0,b),1);return[r*255,g*255,b*255]}function xyz2lab(xyz){var x=xyz[0],y=xyz[1],z=xyz[2],l,a,b;x/=95.047;y/=100;z/=108.883;x=x>.008856?Math.pow(x,1/3):7.787*x+16/116;y=y>.008856?Math.pow(y,1/3):7.787*y+16/116;z=z>.008856?Math.pow(z,1/3):7.787*z+16/116;l=116*y-16;a=500*(x-y);b=200*(y-z);return[l,a,b]}function xyz2lch(args){return lab2lch(xyz2lab(args))}function lab2xyz(lab){var l=lab[0],a=lab[1],b=lab[2],x,y,z,y2;if(l<=8){y=l*100/903.3;y2=7.787*(y/100)+16/116}else{y=100*Math.pow((l+16)/116,3);y2=Math.pow(y/100,1/3)}x=x/95.047<=.008856?x=95.047*(a/500+y2-16/116)/7.787:95.047*Math.pow(a/500+y2,3);z=z/108.883<=.008859?z=108.883*(y2-b/200-16/116)/7.787:108.883*Math.pow(y2-b/200,3);return[x,y,z]}function lab2lch(lab){var l=lab[0],a=lab[1],b=lab[2],hr,h,c;hr=Math.atan2(b,a);h=hr*360/2/Math.PI;if(h<0){h+=360}c=Math.sqrt(a*a+b*b);return[l,c,h]}function lab2rgb(args){return xyz2rgb(lab2xyz(args))}function lch2lab(lch){var l=lch[0],c=lch[1],h=lch[2],a,b,hr;hr=h/360*2*Math.PI;a=c*Math.cos(hr);b=c*Math.sin(hr);return[l,a,b]}function lch2xyz(args){return lab2xyz(lch2lab(args))}function lch2rgb(args){return lab2rgb(lch2lab(args))}function keyword2rgb(keyword){return cssKeywords[keyword]}function keyword2hsl(args){return rgb2hsl(keyword2rgb(args))}function keyword2hsv(args){return rgb2hsv(keyword2rgb(args))}function keyword2hwb(args){return rgb2hwb(keyword2rgb(args))}function keyword2cmyk(args){return rgb2cmyk(keyword2rgb(args))}function keyword2lab(args){return rgb2lab(keyword2rgb(args))}function keyword2xyz(args){return rgb2xyz(keyword2rgb(args))}var cssKeywords={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};var reverseKeywords={};for(var key in cssKeywords){reverseKeywords[JSON.stringify(cssKeywords[key])]=key}},{}],211:[function(require,module,exports){var conversions=require("./conversions");var convert=function(){return new Converter};for(var func in conversions){convert[func+"Raw"]=function(func){return function(arg){if(typeof arg=="number")arg=Array.prototype.slice.call(arguments);return conversions[func](arg)}}(func);var pair=/(\w+)2(\w+)/.exec(func),from=pair[1],to=pair[2];convert[from]=convert[from]||{};convert[from][to]=convert[func]=function(func){return function(arg){if(typeof arg=="number")arg=Array.prototype.slice.call(arguments);var val=conversions[func](arg);if(typeof val=="string"||val===undefined)return val;for(var i=0;i<val.length;i++)val[i]=Math.round(val[i]);return val}}(func)}var Converter=function(){this.convs={}};Converter.prototype.routeSpace=function(space,args){var values=args[0];if(values===undefined){return this.getValues(space)}if(typeof values=="number"){values=Array.prototype.slice.call(args)}return this.setValues(space,values)};Converter.prototype.setValues=function(space,values){this.space=space;this.convs={};this.convs[space]=values;return this};Converter.prototype.getValues=function(space){var vals=this.convs[space];if(!vals){var fspace=this.space,from=this.convs[fspace];vals=convert[fspace][space](from);this.convs[space]=vals}return vals};["rgb","hsl","hsv","cmyk","keyword"].forEach(function(space){Converter.prototype[space]=function(vals){return this.routeSpace(space,arguments)}});module.exports=convert},{"./conversions":210}],212:[function(require,module,exports){module.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],
olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},{}],213:[function(require,module,exports){var colorNames=require("color-name");module.exports={getRgba:getRgba,getHsla:getHsla,getRgb:getRgb,getHsl:getHsl,getHwb:getHwb,getAlpha:getAlpha,hexString:hexString,rgbString:rgbString,rgbaString:rgbaString,percentString:percentString,percentaString:percentaString,hslString:hslString,hslaString:hslaString,hwbString:hwbString,keyword:keyword};function getRgba(string){if(!string){return}var abbr=/^#([a-fA-F0-9]{3})$/,hex=/^#([a-fA-F0-9]{6})$/,rgba=/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/,per=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/,keyword=/(\D+)/;var rgb=[0,0,0],a=1,match=string.match(abbr);if(match){match=match[1];for(var i=0;i<rgb.length;i++){rgb[i]=parseInt(match[i]+match[i],16)}}else if(match=string.match(hex)){match=match[1];for(var i=0;i<rgb.length;i++){rgb[i]=parseInt(match.slice(i*2,i*2+2),16)}}else if(match=string.match(rgba)){for(var i=0;i<rgb.length;i++){rgb[i]=parseInt(match[i+1])}a=parseFloat(match[4])}else if(match=string.match(per)){for(var i=0;i<rgb.length;i++){rgb[i]=Math.round(parseFloat(match[i+1])*2.55)}a=parseFloat(match[4])}else if(match=string.match(keyword)){if(match[1]=="transparent"){return[0,0,0,0]}rgb=colorNames[match[1]];if(!rgb){return}}for(var i=0;i<rgb.length;i++){rgb[i]=scale(rgb[i],0,255)}if(!a&&a!=0){a=1}else{a=scale(a,0,1)}rgb[3]=a;return rgb}function getHsla(string){if(!string){return}var hsl=/^hsla?\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/;var match=string.match(hsl);if(match){var alpha=parseFloat(match[4]);var h=scale(parseInt(match[1]),0,360),s=scale(parseFloat(match[2]),0,100),l=scale(parseFloat(match[3]),0,100),a=scale(isNaN(alpha)?1:alpha,0,1);return[h,s,l,a]}}function getHwb(string){if(!string){return}var hwb=/^hwb\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/;var match=string.match(hwb);if(match){var alpha=parseFloat(match[4]);var h=scale(parseInt(match[1]),0,360),w=scale(parseFloat(match[2]),0,100),b=scale(parseFloat(match[3]),0,100),a=scale(isNaN(alpha)?1:alpha,0,1);return[h,w,b,a]}}function getRgb(string){var rgba=getRgba(string);return rgba&&rgba.slice(0,3)}function getHsl(string){var hsla=getHsla(string);return hsla&&hsla.slice(0,3)}function getAlpha(string){var vals=getRgba(string);if(vals){return vals[3]}else if(vals=getHsla(string)){return vals[3]}else if(vals=getHwb(string)){return vals[3]}}function hexString(rgb){return"#"+hexDouble(rgb[0])+hexDouble(rgb[1])+hexDouble(rgb[2])}function rgbString(rgba,alpha){if(alpha<1||rgba[3]&&rgba[3]<1){return rgbaString(rgba,alpha)}return"rgb("+rgba[0]+", "+rgba[1]+", "+rgba[2]+")"}function rgbaString(rgba,alpha){if(alpha===undefined){alpha=rgba[3]!==undefined?rgba[3]:1}return"rgba("+rgba[0]+", "+rgba[1]+", "+rgba[2]+", "+alpha+")"}function percentString(rgba,alpha){if(alpha<1||rgba[3]&&rgba[3]<1){return percentaString(rgba,alpha)}var r=Math.round(rgba[0]/255*100),g=Math.round(rgba[1]/255*100),b=Math.round(rgba[2]/255*100);return"rgb("+r+"%, "+g+"%, "+b+"%)"}function percentaString(rgba,alpha){var r=Math.round(rgba[0]/255*100),g=Math.round(rgba[1]/255*100),b=Math.round(rgba[2]/255*100);return"rgba("+r+"%, "+g+"%, "+b+"%, "+(alpha||rgba[3]||1)+")"}function hslString(hsla,alpha){if(alpha<1||hsla[3]&&hsla[3]<1){return hslaString(hsla,alpha)}return"hsl("+hsla[0]+", "+hsla[1]+"%, "+hsla[2]+"%)"}function hslaString(hsla,alpha){if(alpha===undefined){alpha=hsla[3]!==undefined?hsla[3]:1}return"hsla("+hsla[0]+", "+hsla[1]+"%, "+hsla[2]+"%, "+alpha+")"}function hwbString(hwb,alpha){if(alpha===undefined){alpha=hwb[3]!==undefined?hwb[3]:1}return"hwb("+hwb[0]+", "+hwb[1]+"%, "+hwb[2]+"%"+(alpha!==undefined&&alpha!==1?", "+alpha:"")+")"}function keyword(rgb){return reverseNames[rgb.slice(0,3)]}function scale(num,min,max){return Math.min(Math.max(min,num),max)}function hexDouble(num){var str=num.toString(16).toUpperCase();return str.length<2?"0"+str:str}var reverseNames={};for(var name in colorNames){reverseNames[colorNames[name]]=name}},{"color-name":212}],214:[function(require,module,exports){var convert=require("color-convert");var string=require("color-string");var Color=function(obj){if(obj instanceof Color){return obj}if(!(this instanceof Color)){return new Color(obj)}this.values={rgb:[0,0,0],hsl:[0,0,0],hsv:[0,0,0],hwb:[0,0,0],cmyk:[0,0,0,0],alpha:1};var vals;if(typeof obj==="string"){vals=string.getRgba(obj);if(vals){this.setValues("rgb",vals)}else if(vals=string.getHsla(obj)){this.setValues("hsl",vals)}else if(vals=string.getHwb(obj)){this.setValues("hwb",vals)}else{throw new Error('Unable to parse color from string "'+obj+'"')}}else if(typeof obj==="object"){vals=obj;if(vals.r!==undefined||vals.red!==undefined){this.setValues("rgb",vals)}else if(vals.l!==undefined||vals.lightness!==undefined){this.setValues("hsl",vals)}else if(vals.v!==undefined||vals.value!==undefined){this.setValues("hsv",vals)}else if(vals.w!==undefined||vals.whiteness!==undefined){this.setValues("hwb",vals)}else if(vals.c!==undefined||vals.cyan!==undefined){this.setValues("cmyk",vals)}else{throw new Error("Unable to parse color from object "+JSON.stringify(obj))}}};Color.prototype={rgb:function(){return this.setSpace("rgb",arguments)},hsl:function(){return this.setSpace("hsl",arguments)},hsv:function(){return this.setSpace("hsv",arguments)},hwb:function(){return this.setSpace("hwb",arguments)},cmyk:function(){return this.setSpace("cmyk",arguments)},rgbArray:function(){return this.values.rgb},hslArray:function(){return this.values.hsl},hsvArray:function(){return this.values.hsv},hwbArray:function(){if(this.values.alpha!==1){return this.values.hwb.concat([this.values.alpha])}return this.values.hwb},cmykArray:function(){return this.values.cmyk},rgbaArray:function(){var rgb=this.values.rgb;return rgb.concat([this.values.alpha])},hslaArray:function(){var hsl=this.values.hsl;return hsl.concat([this.values.alpha])},alpha:function(val){if(val===undefined){return this.values.alpha}this.setValues("alpha",val);return this},red:function(val){return this.setChannel("rgb",0,val)},green:function(val){return this.setChannel("rgb",1,val)},blue:function(val){return this.setChannel("rgb",2,val)},hue:function(val){if(val){val%=360;val=val<0?360+val:val}return this.setChannel("hsl",0,val)},saturation:function(val){return this.setChannel("hsl",1,val)},lightness:function(val){return this.setChannel("hsl",2,val)},saturationv:function(val){return this.setChannel("hsv",1,val)},whiteness:function(val){return this.setChannel("hwb",1,val)},blackness:function(val){return this.setChannel("hwb",2,val)},value:function(val){return this.setChannel("hsv",2,val)},cyan:function(val){return this.setChannel("cmyk",0,val)},magenta:function(val){return this.setChannel("cmyk",1,val)},yellow:function(val){return this.setChannel("cmyk",2,val)},black:function(val){return this.setChannel("cmyk",3,val)},hexString:function(){return string.hexString(this.values.rgb)},rgbString:function(){return string.rgbString(this.values.rgb,this.values.alpha)},rgbaString:function(){return string.rgbaString(this.values.rgb,this.values.alpha)},percentString:function(){return string.percentString(this.values.rgb,this.values.alpha)},hslString:function(){return string.hslString(this.values.hsl,this.values.alpha)},hslaString:function(){return string.hslaString(this.values.hsl,this.values.alpha)},hwbString:function(){return string.hwbString(this.values.hwb,this.values.alpha)},keyword:function(){return string.keyword(this.values.rgb,this.values.alpha)},rgbNumber:function(){return this.values.rgb[0]<<16|this.values.rgb[1]<<8|this.values.rgb[2]},luminosity:function(){var rgb=this.values.rgb;var lum=[];for(var i=0;i<rgb.length;i++){var chan=rgb[i]/255;lum[i]=chan<=.03928?chan/12.92:Math.pow((chan+.055)/1.055,2.4)}return.2126*lum[0]+.7152*lum[1]+.0722*lum[2]},contrast:function(color2){var lum1=this.luminosity();var lum2=color2.luminosity();if(lum1>lum2){return(lum1+.05)/(lum2+.05)}return(lum2+.05)/(lum1+.05)},level:function(color2){var contrastRatio=this.contrast(color2);if(contrastRatio>=7.1){return"AAA"}return contrastRatio>=4.5?"AA":""},dark:function(){var rgb=this.values.rgb;var yiq=(rgb[0]*299+rgb[1]*587+rgb[2]*114)/1e3;return yiq<128},light:function(){return!this.dark()},negate:function(){var rgb=[];for(var i=0;i<3;i++){rgb[i]=255-this.values.rgb[i]}this.setValues("rgb",rgb);return this},lighten:function(ratio){this.values.hsl[2]+=this.values.hsl[2]*ratio;this.setValues("hsl",this.values.hsl);return this},darken:function(ratio){this.values.hsl[2]-=this.values.hsl[2]*ratio;this.setValues("hsl",this.values.hsl);return this},saturate:function(ratio){this.values.hsl[1]+=this.values.hsl[1]*ratio;this.setValues("hsl",this.values.hsl);return this},desaturate:function(ratio){this.values.hsl[1]-=this.values.hsl[1]*ratio;this.setValues("hsl",this.values.hsl);return this},whiten:function(ratio){this.values.hwb[1]+=this.values.hwb[1]*ratio;this.setValues("hwb",this.values.hwb);return this},blacken:function(ratio){this.values.hwb[2]+=this.values.hwb[2]*ratio;this.setValues("hwb",this.values.hwb);return this},greyscale:function(){var rgb=this.values.rgb;var val=rgb[0]*.3+rgb[1]*.59+rgb[2]*.11;this.setValues("rgb",[val,val,val]);return this},clearer:function(ratio){this.setValues("alpha",this.values.alpha-this.values.alpha*ratio);return this},opaquer:function(ratio){this.setValues("alpha",this.values.alpha+this.values.alpha*ratio);return this},rotate:function(degrees){var hue=this.values.hsl[0];hue=(hue+degrees)%360;hue=hue<0?360+hue:hue;this.values.hsl[0]=hue;this.setValues("hsl",this.values.hsl);return this},mix:function(mixinColor,weight){var color1=this;var color2=mixinColor;var p=weight===undefined?.5:weight;var w=2*p-1;var a=color1.alpha()-color2.alpha();var w1=((w*a===-1?w:(w+a)/(1+w*a))+1)/2;var w2=1-w1;return this.rgb(w1*color1.red()+w2*color2.red(),w1*color1.green()+w2*color2.green(),w1*color1.blue()+w2*color2.blue()).alpha(color1.alpha()*p+color2.alpha()*(1-p))},toJSON:function(){return this.rgb()},clone:function(){return new Color(this.rgb())}};Color.prototype.getValues=function(space){var vals={};for(var i=0;i<space.length;i++){vals[space.charAt(i)]=this.values[space][i]}if(this.values.alpha!==1){vals.a=this.values.alpha}return vals};Color.prototype.setValues=function(space,vals){var spaces={rgb:["red","green","blue"],hsl:["hue","saturation","lightness"],hsv:["hue","saturation","value"],hwb:["hue","whiteness","blackness"],cmyk:["cyan","magenta","yellow","black"]};var maxes={rgb:[255,255,255],hsl:[360,100,100],hsv:[360,100,100],hwb:[360,100,100],cmyk:[100,100,100,100]};var i;var alpha=1;if(space==="alpha"){alpha=vals}else if(vals.length){this.values[space]=vals.slice(0,space.length);alpha=vals[space.length]}else if(vals[space.charAt(0)]!==undefined){for(i=0;i<space.length;i++){this.values[space][i]=vals[space.charAt(i)]}alpha=vals.a}else if(vals[spaces[space][0]]!==undefined){var chans=spaces[space];for(i=0;i<space.length;i++){this.values[space][i]=vals[chans[i]]}alpha=vals.alpha}this.values.alpha=Math.max(0,Math.min(1,alpha===undefined?this.values.alpha:alpha));if(space==="alpha"){return false}var capped;for(i=0;i<space.length;i++){capped=Math.max(0,Math.min(maxes[space][i],this.values[space][i]));this.values[space][i]=Math.round(capped)}for(var sname in spaces){if(sname!==space){this.values[sname]=convert[space][sname](this.values[space])}for(i=0;i<sname.length;i++){capped=Math.max(0,Math.min(maxes[sname][i],this.values[sname][i]));this.values[sname][i]=Math.round(capped)}}return true};Color.prototype.setSpace=function(space,args){var vals=args[0];if(vals===undefined){return this.getValues(space)}if(typeof vals==="number"){vals=Array.prototype.slice.call(args)}this.setValues(space,vals);return this};Color.prototype.setChannel=function(space,index,val){if(val===undefined){return this.values[space][index]}else if(val===this.values[space][index]){return this}this.values[space][index]=val;this.setValues(space,this.values[space]);return this};module.exports=Color},{"color-convert":211,"color-string":213}],215:[function(require,module,exports){module.exports=Emitter;function Emitter(obj){if(obj)return mixin(obj)}function mixin(obj){for(var key in Emitter.prototype){obj[key]=Emitter.prototype[key]}return obj}Emitter.prototype.on=Emitter.prototype.addEventListener=function(event,fn){this._callbacks=this._callbacks||{};(this._callbacks[event]=this._callbacks[event]||[]).push(fn);return this};Emitter.prototype.once=function(event,fn){var self=this;this._callbacks=this._callbacks||{};function on(){self.off(event,on);fn.apply(this,arguments)}on.fn=fn;this.on(event,on);return this};Emitter.prototype.off=Emitter.prototype.removeListener=Emitter.prototype.removeAllListeners=Emitter.prototype.removeEventListener=function(event,fn){this._callbacks=this._callbacks||{};if(0==arguments.length){this._callbacks={};return this}var callbacks=this._callbacks[event];if(!callbacks)return this;if(1==arguments.length){delete this._callbacks[event];return this}var cb;for(var i=0;i<callbacks.length;i++){cb=callbacks[i];if(cb===fn||cb.fn===fn){callbacks.splice(i,1);break}}return this};Emitter.prototype.emit=function(event){this._callbacks=this._callbacks||{};var args=[].slice.call(arguments,1),callbacks=this._callbacks[event];if(callbacks){callbacks=callbacks.slice(0);for(var i=0,len=callbacks.length;i<len;++i){callbacks[i].apply(this,args)}}return this};Emitter.prototype.listeners=function(event){this._callbacks=this._callbacks||{};return this._callbacks[event]||[]};Emitter.prototype.hasListeners=function(event){return!!this.listeners(event).length}},{}],216:[function(require,module,exports){module.exports=function(a,b){var fn=function(){};fn.prototype=b.prototype;a.prototype=new fn;a.prototype.constructor=a}},{}],217:[function(require,module,exports){var toString=Object.prototype.toString;module.exports=function(val){switch(toString.call(val)){case"[object Date]":return"date";case"[object RegExp]":return"regexp";case"[object Arguments]":return"arguments";case"[object Array]":return"array";case"[object Error]":return"error"}if(val===null)return"null";if(val===undefined)return"undefined";if(val!==val)return"nan";if(val&&val.nodeType===1)return"element";if(isBuffer(val))return"buffer";val=val.valueOf?val.valueOf():Object.prototype.valueOf.apply(val);return typeof val};function isBuffer(obj){return!!(obj!=null&&(obj._isBuffer||obj.constructor&&typeof obj.constructor.isBuffer==="function"&&obj.constructor.isBuffer(obj)))}},{}],218:[function(require,module,exports){(function(global){var util=require("util");var assert=require("assert");var now=require("date-now");var slice=Array.prototype.slice;var console;var times={};if(typeof global!=="undefined"&&global.console){console=global.console}else if(typeof window!=="undefined"&&window.console){console=window.console}else{console={}}var functions=[[log,"log"],[info,"info"],[warn,"warn"],[error,"error"],[time,"time"],[timeEnd,"timeEnd"],[trace,"trace"],[dir,"dir"],[consoleAssert,"assert"]];for(var i=0;i<functions.length;i++){var tuple=functions[i];var f=tuple[0];var name=tuple[1];if(!console[name]){console[name]=f}}module.exports=console;function log(){}function info(){console.log.apply(console,arguments)}function warn(){console.log.apply(console,arguments)}function error(){console.warn.apply(console,arguments)}function time(label){times[label]=now()}function timeEnd(label){var time=times[label];if(!time){throw new Error("No such label: "+label)}var duration=now()-time;console.log(label+": "+duration+"ms")}function trace(){var err=new Error;err.name="Trace";err.message=util.format.apply(null,arguments);console.error(err.stack)}function dir(object){console.log(util.inspect(object)+"\n")}function consoleAssert(expression){if(!expression){var arr=slice.call(arguments,1);assert.ok(false,util.format.apply(null,arr))}}}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{assert:121,"date-now":219,util:282}],219:[function(require,module,exports){module.exports=now;function now(){return(new Date).getTime()}},{}],220:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.delegateGlobal=undefined;var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol?"symbol":typeof obj};var _proxyEvent=require("./proxy-event");var _proxyEvent2=_interopRequireDefault(_proxyEvent);var _domEvents=require("@f/dom-events");var _domEvents2=_interopRequireDefault(_domEvents);var _foreach=require("@f/foreach");var _foreach2=_interopRequireDefault(_foreach);var _compose=require("@f/compose");var _compose2=_interopRequireDefault(_compose);var _evStore=require("ev-store");var _evStore2=_interopRequireDefault(_evStore);var _mapArray=require("@f/map-array");var _mapArray2=_interopRequireDefault(_mapArray);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}else{return Array.from(arr)}}function delegant(rootNode){var fn=arguments.length<=1||arguments[1]===undefined?function(v){return v}:arguments[1];return _compose2.default.apply(undefined,_toConsumableArray((0,_mapArray2.default)(bind,_domEvents2.default)));function bind(name){var handler=listener(name);rootNode.addEventListener(name,handler,true);return function(){return rootNode.removeEventListener(name,handler,true)}}function listener(name){return function(e){return bubble(name,e.target,e)}}function bubble(name,target,e){var es=(0,_evStore2.default)(target);var handler=es[name];if(handler){var _ret=function(){var event=new _proxyEvent2.default(e);event.currentTarget=target;"function"===typeof handler?fn(handler(event)):(0,_foreach2.default)(function(handler){return fn(handler(event))},handler);if(event._stopPropagation||event._stopImmediatePropagation){return{v:undefined}}}();if((typeof _ret==="undefined"?"undefined":_typeof(_ret))==="object")return _ret.v}if(target.parentNode&&target!==rootNode&&e.bubbles){bubble(name,target.parentNode,e)}}}function delegateGlobal(node,fn){var store=(0,_evStore2.default)(node);return _compose2.default.apply(undefined,_toConsumableArray((0,_mapArray2.default)(bind,_domEvents2.default)));function bind(name){var handler=listener(name);node.addEventListener(name,handler,true);return function(){return node.removeEventListener(name,handler,true)}}function listener(name){return function(e){return(0,_foreach2.default)(function(handle){return fn(handle(e))},store[name])}}}exports.default=delegant;exports.delegateGlobal=delegateGlobal},{"./proxy-event":221,"@f/compose":11,"@f/dom-events":21,"@f/foreach":36,"@f/map-array":71,"ev-store":225}],221:[function(require,module,exports){"use strict";var inherits=require("inherits");var ALL_PROPS=["altKey","bubbles","cancelable","ctrlKey","eventPhase","metaKey","relatedTarget","shiftKey","target","timeStamp","type","view","which"];var KEY_PROPS=["char","charCode","key","keyCode"];var MOUSE_PROPS=["button","buttons","clientX","clientY","layerX","layerY","offsetX","offsetY","pageX","pageY","screenX","screenY","toElement"];var rkeyEvent=/^key|input/;var rmouseEvent=/^(?:mouse|pointer|contextmenu)|click/;module.exports=ProxyEvent;function ProxyEvent(ev){if(!(this instanceof ProxyEvent)){return new ProxyEvent(ev)}if(rkeyEvent.test(ev.type)){return new KeyEvent(ev)}else if(rmouseEvent.test(ev.type)){return new MouseEvent(ev)}for(var i=0;i<ALL_PROPS.length;i++){var propKey=ALL_PROPS[i];this[propKey]=ev[propKey]}this._rawEvent=ev;this._bubbles=false}ProxyEvent.prototype.preventDefault=function(){this._rawEvent.preventDefault()};ProxyEvent.prototype.startPropagation=function(){this._bubbles=true};ProxyEvent.prototype.stopPropagation=function(){this._stopPropagation=true};ProxyEvent.prototype.stopImmediatePropagation=function(){this._stopImmediatePropagation=true};function MouseEvent(ev){for(var i=0;i<ALL_PROPS.length;i++){var propKey=ALL_PROPS[i];this[propKey]=ev[propKey]}for(var j=0;j<MOUSE_PROPS.length;j++){var mousePropKey=MOUSE_PROPS[j];this[mousePropKey]=ev[mousePropKey]}this._rawEvent=ev}inherits(MouseEvent,ProxyEvent);function KeyEvent(ev){for(var i=0;i<ALL_PROPS.length;i++){var propKey=ALL_PROPS[i];this[propKey]=ev[propKey]}for(var j=0;j<KEY_PROPS.length;j++){var keyPropKey=KEY_PROPS[j];this[keyPropKey]=ev[keyPropKey]}this._rawEvent=ev}inherits(KeyEvent,ProxyEvent)},{inherits:234}],222:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.REMOVE=exports.MOVE=exports.UPDATE=exports.CREATE=undefined;var _bitVector=require("bit-vector");var CREATE=0;var UPDATE=1;var MOVE=2;var REMOVE=3;function dift(prev,next,effect,key){var pStartIdx=0;var nStartIdx=0;var pEndIdx=prev.length-1;var nEndIdx=next.length-1;var pStartItem=prev[pStartIdx];var nStartItem=next[nStartIdx];while(pStartIdx<=pEndIdx&&nStartIdx<=nEndIdx&&equal(pStartItem,nStartItem)){effect(UPDATE,pStartItem,nStartItem,nStartIdx);pStartItem=prev[++pStartIdx];nStartItem=next[++nStartIdx]}if(nStartIdx>nEndIdx&&pStartIdx>pEndIdx){return}var pEndItem=prev[pEndIdx];var nEndItem=next[nEndIdx];var movedFromFront=0;while(pStartIdx<=pEndIdx&&nStartIdx<=nEndIdx&&equal(pStartItem,nEndItem)){effect(MOVE,pStartItem,nEndItem,pEndIdx-movedFromFront+1);pStartItem=prev[++pStartIdx];nEndItem=next[--nEndIdx];++movedFromFront}while(pEndIdx>=pStartIdx&&nStartIdx<=nEndIdx&&equal(nStartItem,pEndItem)){effect(MOVE,pEndItem,nStartItem,nStartIdx);pEndItem=prev[--pEndIdx];nStartItem=next[++nStartIdx];--movedFromFront}while(pEndIdx>=pStartIdx&&nEndIdx>=nStartIdx&&equal(pEndItem,nEndItem)){effect(UPDATE,pEndItem,nEndItem,nEndIdx);pEndItem=prev[--pEndIdx];nEndItem=next[--nEndIdx]}if(pStartIdx>pEndIdx){while(nStartIdx<=nEndIdx){effect(CREATE,null,nStartItem,nStartIdx);nStartItem=next[++nStartIdx]}return}if(nStartIdx>nEndIdx){while(pStartIdx<=pEndIdx){effect(REMOVE,pStartItem);pStartItem=prev[++pStartIdx]}return}var created=0;var pivotDest=null;var pivotIdx=pStartIdx-movedFromFront;var keepBase=pStartIdx;var keep=(0,_bitVector.createBv)(pEndIdx-pStartIdx);var prevMap=keyMap(prev,pStartIdx,pEndIdx+1,key);for(;nStartIdx<=nEndIdx;nStartItem=next[++nStartIdx]){var oldIdx=prevMap[key(nStartItem)];if(isUndefined(oldIdx)){effect(CREATE,null,nStartItem,pivotIdx++);++created}else if(pStartIdx!==oldIdx){(0,_bitVector.setBit)(keep,oldIdx-keepBase);effect(MOVE,prev[oldIdx],nStartItem,pivotIdx++)}else{pivotDest=nStartIdx}}if(pivotDest!==null){(0,_bitVector.setBit)(keep,0);effect(MOVE,prev[pStartIdx],next[pivotDest],pivotDest)}var necessaryRemovals=prev.length-next.length+created;for(var removals=0;removals<necessaryRemovals;pStartItem=prev[++pStartIdx]){if(!(0,_bitVector.getBit)(keep,pStartIdx-keepBase)){effect(REMOVE,pStartItem);++removals}}function equal(a,b){return key(a)===key(b)}}function isUndefined(val){return typeof val==="undefined"}function keyMap(items,start,end,key){var map={};for(var i=start;i<end;++i){map[key(items[i])]=i}return map}exports.default=dift;exports.CREATE=CREATE;exports.UPDATE=UPDATE;exports.MOVE=MOVE;exports.REMOVE=REMOVE},{"bit-vector":207}],223:[function(require,module,exports){var Regexp=require("path-to-regexp");var assign=require("object-assign");module.exports=Enroute;function Enroute(routes){return function enroute(location,props){if(!location)throw new Error("enroute requires a location");props=props||{};var params={};for(var route in routes){var m=match(route,params,location);var fn=routes[route];if(m){if(typeof fn!=="function")return fn;else return fn(params,props)}}return null}}function match(path,params,pathname){var keys=[];var regexp=Regexp(path,keys);var m=regexp.exec(pathname);if(!m)return false;else if(!params)return true;for(var i=1,len=m.length;i<len;++i){var key=keys[i-1];var val="string"==typeof m[i]?decodeURIComponent(m[i]):m[i];if(key)params[key.name]=val}return true}},{"object-assign":224,"path-to-regexp":245}],224:[function(require,module,exports){"use strict";var hasOwnProperty=Object.prototype.hasOwnProperty;var propIsEnumerable=Object.prototype.propertyIsEnumerable;function toObject(val){if(val===null||val===undefined){throw new TypeError("Object.assign cannot be called with null or undefined")}return Object(val)}function shouldUseNative(){try{if(!Object.assign){return false}var test1=new String("abc");test1[5]="de";if(Object.getOwnPropertyNames(test1)[0]==="5"){return false}var test2={};for(var i=0;i<10;i++){test2["_"+String.fromCharCode(i)]=i}var order2=Object.getOwnPropertyNames(test2).map(function(n){return test2[n]});if(order2.join("")!=="0123456789"){return false}var test3={};"abcdefghijklmnopqrst".split("").forEach(function(letter){test3[letter]=letter});if(Object.keys(Object.assign({},test3)).join("")!=="abcdefghijklmnopqrst"){return false}return true}catch(e){return false}}module.exports=shouldUseNative()?Object.assign:function(target,source){var from;var to=toObject(target);var symbols;for(var s=1;s<arguments.length;s++){from=Object(arguments[s]);for(var key in from){if(hasOwnProperty.call(from,key)){to[key]=from[key]}}if(Object.getOwnPropertySymbols){symbols=Object.getOwnPropertySymbols(from);for(var i=0;i<symbols.length;i++){if(propIsEnumerable.call(from,symbols[i])){to[symbols[i]]=from[symbols[i]]}}}}return to}},{}],225:[function(require,module,exports){"use strict";var OneVersionConstraint=require("individual/one-version");var MY_VERSION="7";OneVersionConstraint("ev-store",MY_VERSION);var hashKey="__EV_STORE_KEY@"+MY_VERSION;module.exports=EvStore;function EvStore(elem){var hash=elem[hashKey];if(!hash){hash=elem[hashKey]={}}return hash}},{"individual/one-version":233}],226:[function(require,module,exports){require("./firebase");module.exports=firebase},{"./firebase":227}],227:[function(require,module,exports){(function(global){(function(){var h="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global?global:this,l=function(){h.Symbol||(h.Symbol=aa);l=function(){}},ba=0,aa=function(a){return"jscomp_symbol_"+a+ba++},m=function(){l();h.Symbol.iterator||(h.Symbol.iterator=h.Symbol("iterator"));m=function(){}},ca=function(){var a=["next","error","complete"];m();if(a[h.Symbol.iterator])return a[h.Symbol.iterator]();var b=0;return{next:function(){return b==a.length?{done:!0}:{done:!1,value:a[b++]}}}},p=function(){return{done:!0,value:void 0}},q=function(a,b){a instanceof String&&(a=String(a));var c=0;l();m();var d={},e=(d.next=function(){if(c<a.length){var d=c++;return{value:b(d,a[d]),done:!1}}e.next=p;return p()},d[Symbol.iterator]=function(){return e},d);return e},r=function(a,b){!Array.prototype[a]&&Object.defineProperties&&Object.defineProperty&&Object.defineProperty(Array.prototype,a,{configurable:!0,enumerable:!1,writable:!0,value:b})},t=function(a,b){if(null==a)throw new TypeError("The 'this' value for String.prototype."+b+" must not be null or undefined")},u=function(a,b){if(a instanceof RegExp)throw new TypeError("First argument to String.prototype."+b+" must not be a regular expression")},da=function(a){t(this,"repeat");var b=String(this);if(0>a||1342177279<a)throw new RangeError("Invalid count value");a|=0;for(var c="";a;)if(a&1&&(c+=b),a>>>=1)b+=b;return c},ea=function(a){t(this,"codePointAt");var b=String(this),c=b.length;a=Number(a)||0;if(0<=a&&a<c){a|=0;var d=b.charCodeAt(a);if(55296>d||56319<d||a+1===c)return d;a=b.charCodeAt(a+1);return 56320>a||57343<a?d:1024*(d-55296)+a+9216}},fa=function(a,b){b=void 0===b?0:b;u(a,"includes");t(this,"includes");return-1!==String(this).indexOf(a,b)},ga=function(a,b){b=void 0===b?0:b;u(a,"startsWith");t(this,"startsWith");var c=String(this);a+="";var d=c.length,e=a.length;b=Math.max(0,Math.min(b|0,c.length));for(var f=0;f<e&&b<d;)if(c[b++]!=a[f++])return!1;return f>=e},ha=function(a,b){u(a,"endsWith");t(this,"endsWith");var c=String(this);a+="";void 0===b&&(b=c.length);b=Math.max(0,Math.min(b|0,c.length));for(var d=a.length;0<d&&0<b;)if(c[--b]!=a[--d])return!1;return 0>=d};String.prototype.endsWith||(String.prototype.endsWith=ha);String.prototype.startsWith||(String.prototype.startsWith=ga);String.prototype.includes||(String.prototype.includes=fa);String.prototype.codePointAt||(String.prototype.codePointAt=ea);String.prototype.repeat||(String.prototype.repeat=da);r("values",function(){return q(this,function(a,b){return b})});r("keys",function(){return q(this,function(a){return a})});r("entries",function(){return q(this,function(a,b){return[a,b]})});var v=this,w=function(){},x=function(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";else if("function"==b&&"undefined"==typeof a.call)return"object";return b},y=function(a){return"function"==x(a)},ia=function(a,b,c){return a.call.apply(a.bind,arguments)},ja=function(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}},z=function(a,b,c){z=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ia:ja;return z.apply(null,arguments)},ka=function(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=c.slice();b.push.apply(b,arguments);return a.apply(this,b)}},la=function(a,b){function c(){}c.prototype=b.prototype;a.ba=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.aa=function(a,c,f){for(var k=Array(arguments.length-2),g=2;g<arguments.length;g++)k[g-2]=arguments[g];return b.prototype[c].apply(a,k)}};function __extends(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)}function __decorate(a,b,c,d){var e=arguments.length,f=3>e?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d,k;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)f=Reflect.decorate(a,b,c,d);else for(var g=a.length-1;0<=g;g--)if(k=a[g])f=(3>e?k(f):3<e?k(b,c,f):k(b,c))||f;return 3<e&&f&&Object.defineProperty(b,c,f),f}function __metadata(a,b){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(a,b)}var __param=function(a,b){return function(c,d){b(c,d,a)}},__awaiter=function(a,b,c,d){
return new(c||(c=Promise))(function(e,f){function k(a){try{n(d.next(a))}catch(b){f(b)}}function g(a){try{n(d.throw(a))}catch(b){f(b)}}function n(a){a.done?e(a.value):new c(function(b){b(a.value)}).then(k,g)}n((d=d.apply(a,b)).next())})};var A=function(a){if(Error.captureStackTrace)Error.captureStackTrace(this,A);else{var b=Error().stack;b&&(this.stack=b)}a&&(this.message=String(a))};la(A,Error);A.prototype.name="CustomError";var ma=function(a,b){for(var c=a.split("%s"),d="",e=Array.prototype.slice.call(arguments,1);e.length&&1<c.length;)d+=c.shift()+e.shift();return d+c.join("%s")};var B=function(a,b){b.unshift(a);A.call(this,ma.apply(null,b));b.shift()};la(B,A);B.prototype.name="AssertionError";var na=function(a,b,c,d){var e="Assertion failed";if(c)var e=e+(": "+c),f=d;else a&&(e+=": "+a,f=b);throw new B(""+e,f||[])},C=function(a,b,c){a||na("",null,b,Array.prototype.slice.call(arguments,2))},D=function(a,b,c){y(a)||na("Expected function but got %s: %s.",[x(a),a],b,Array.prototype.slice.call(arguments,2))};var E=function(a,b,c){this.S=c;this.L=a;this.U=b;this.s=0;this.o=null};E.prototype.get=function(){var a;0<this.s?(this.s--,a=this.o,this.o=a.next,a.next=null):a=this.L();return a};E.prototype.put=function(a){this.U(a);this.s<this.S&&(this.s++,a.next=this.o,this.o=a)};var F;a:{var oa=v.navigator;if(oa){var pa=oa.userAgent;if(pa){F=pa;break a}}F=""}var qa=function(a){v.setTimeout(function(){throw a},0)},G,ra=function(){var a=v.MessageChannel;"undefined"===typeof a&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&-1==F.indexOf("Presto")&&(a=function(){var a=document.createElement("IFRAME");a.style.display="none";a.src="";document.documentElement.appendChild(a);var b=a.contentWindow,a=b.document;a.open();a.write("");a.close();var c="callImmediate"+Math.random(),d="file:"==b.location.protocol?"*":b.location.protocol+"//"+b.location.host,a=z(function(a){if(("*"==d||a.origin==d)&&a.data==c)this.port1.onmessage()},this);b.addEventListener("message",a,!1);this.port1={};this.port2={postMessage:function(){b.postMessage(c,d)}}});if("undefined"!==typeof a&&-1==F.indexOf("Trident")&&-1==F.indexOf("MSIE")){var b=new a,c={},d=c;b.port1.onmessage=function(){if(void 0!==c.next){c=c.next;var a=c.F;c.F=null;a()}};return function(a){d.next={F:a};d=d.next;b.port2.postMessage(0)}}return"undefined"!==typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(a){var b=document.createElement("SCRIPT");b.onreadystatechange=function(){b.onreadystatechange=null;b.parentNode.removeChild(b);b=null;a();a=null};document.documentElement.appendChild(b)}:function(a){v.setTimeout(a,0)}};var H=function(){this.v=this.f=null},sa=new E(function(){return new I},function(a){a.reset()},100);H.prototype.add=function(a,b){var c=sa.get();c.set(a,b);this.v?this.v.next=c:(C(!this.f),this.f=c);this.v=c};H.prototype.remove=function(){var a=null;this.f&&(a=this.f,this.f=this.f.next,this.f||(this.v=null),a.next=null);return a};var I=function(){this.next=this.scope=this.B=null};I.prototype.set=function(a,b){this.B=a;this.scope=b;this.next=null};I.prototype.reset=function(){this.next=this.scope=this.B=null};var L=function(a,b){J||ta();K||(J(),K=!0);ua.add(a,b)},J,ta=function(){if(v.Promise&&v.Promise.resolve){var a=v.Promise.resolve(void 0);J=function(){a.then(va)}}else J=function(){var a=va,c;!(c=!y(v.setImmediate))&&(c=v.Window&&v.Window.prototype)&&(c=-1==F.indexOf("Edge")&&v.Window.prototype.setImmediate==v.setImmediate);c?(G||(G=ra()),G(a)):v.setImmediate(a)}},K=!1,ua=new H,va=function(){for(var a;a=ua.remove();){try{a.B.call(a.scope)}catch(b){qa(b)}sa.put(a)}K=!1};var O=function(a,b){this.b=0;this.K=void 0;this.j=this.g=this.u=null;this.m=this.A=!1;if(a!=w)try{var c=this;a.call(b,function(a){M(c,2,a)},function(a){try{if(a instanceof Error)throw a;throw Error("Promise rejected.")}catch(b){}M(c,3,a)})}catch(d){M(this,3,d)}},wa=function(){this.next=this.context=this.h=this.c=this.child=null;this.w=!1};wa.prototype.reset=function(){this.context=this.h=this.c=this.child=null;this.w=!1};var xa=new E(function(){return new wa},function(a){a.reset()},100),ya=function(a,b,c){var d=xa.get();d.c=a;d.h=b;d.context=c;return d},Aa=function(a,b,c){za(a,b,c,null)||L(ka(b,a))};O.prototype.then=function(a,b,c){null!=a&&D(a,"opt_onFulfilled should be a function.");null!=b&&D(b,"opt_onRejected should be a function. Did you pass opt_context as the second argument instead of the third?");return Ba(this,y(a)?a:null,y(b)?b:null,c)};O.prototype.then=O.prototype.then;O.prototype.$goog_Thenable=!0;O.prototype.X=function(a,b){return Ba(this,null,a,b)};var Da=function(a,b){a.g||2!=a.b&&3!=a.b||Ca(a);C(null!=b.c);a.j?a.j.next=b:a.g=b;a.j=b},Ba=function(a,b,c,d){var e=ya(null,null,null);e.child=new O(function(a,k){e.c=b?function(c){try{var e=b.call(d,c);a(e)}catch(N){k(N)}}:a;e.h=c?function(b){try{var e=c.call(d,b);a(e)}catch(N){k(N)}}:k});e.child.u=a;Da(a,e);return e.child};O.prototype.Y=function(a){C(1==this.b);this.b=0;M(this,2,a)};O.prototype.Z=function(a){C(1==this.b);this.b=0;M(this,3,a)};var M=function(a,b,c){0==a.b&&(a===c&&(b=3,c=new TypeError("Promise cannot resolve to itself")),a.b=1,za(c,a.Y,a.Z,a)||(a.K=c,a.b=b,a.u=null,Ca(a),3!=b||Ea(a,c)))},za=function(a,b,c,d){if(a instanceof O)return null!=b&&D(b,"opt_onFulfilled should be a function."),null!=c&&D(c,"opt_onRejected should be a function. Did you pass opt_context as the second argument instead of the third?"),Da(a,ya(b||w,c||null,d)),!0;var e;if(a)try{e=!!a.$goog_Thenable}catch(k){e=!1}else e=!1;if(e)return a.then(b,c,d),!0;e=typeof a;if("object"==e&&null!=a||"function"==e)try{var f=a.then;if(y(f))return Fa(a,f,b,c,d),!0}catch(k){return c.call(d,k),!0}return!1},Fa=function(a,b,c,d,e){var f=!1,k=function(a){f||(f=!0,c.call(e,a))},g=function(a){f||(f=!0,d.call(e,a))};try{b.call(a,k,g)}catch(n){g(n)}},Ca=function(a){a.A||(a.A=!0,L(a.N,a))},Ga=function(a){var b=null;a.g&&(b=a.g,a.g=b.next,b.next=null);a.g||(a.j=null);null!=b&&C(null!=b.c);return b};O.prototype.N=function(){for(var a;a=Ga(this);){var b=this.b,c=this.K;if(3==b&&a.h&&!a.w){var d;for(d=this;d&&d.m;d=d.u)d.m=!1}if(a.child)a.child.u=null,Ha(a,b,c);else try{a.w?a.c.call(a.context):Ha(a,b,c)}catch(e){Ia.call(null,e)}xa.put(a)}this.A=!1};var Ha=function(a,b,c){2==b?a.c.call(a.context,c):a.h&&a.h.call(a.context,c)},Ea=function(a,b){a.m=!0;L(function(){a.m&&Ia.call(null,b)})},Ia=qa;function P(a,b){if(!(b instanceof Object))return b;switch(b.constructor){case Date:return new Date(b.getTime());case Object:void 0===a&&(a={});break;case Array:a=[];break;default:return b}for(var c in b)b.hasOwnProperty(c)&&(a[c]=P(a[c],b[c]));return a}var Ja=Error.captureStackTrace,R=function(a,b){this.code=a;this.message=b;if(Ja)Ja(this,Q.prototype.create);else{var c=Error.apply(this,arguments);this.name="FirebaseError";Object.defineProperty(this,"stack",{get:function(){return c.stack}})}};R.prototype=Object.create(Error.prototype);R.prototype.constructor=R;R.prototype.name="FirebaseError";var Q=function(a,b,c){this.V=a;this.W=b;this.M=c;this.pattern=/\{\$([^}]+)}/g};Q.prototype.create=function(a,b){void 0===b&&(b={});var c=this.M[a];a=this.V+"/"+a;var c=void 0===c?"Error":c.replace(this.pattern,function(a,c){return void 0!==b[c]?b[c].toString():"<"+c+"?>"}),c=this.W+": "+c+" ("+a+").",c=new R(a,c),d;for(d in b)b.hasOwnProperty(d)&&"_"!==d.slice(-1)&&(c[d]=b[d]);return c};O.all=function(a){return new O(function(b,c){var d=a.length,e=[];if(d)for(var f=function(a,c){d--;e[a]=c;0==d&&b(e)},k=function(a){c(a)},g=0,n;g<a.length;g++)n=a[g],Aa(n,ka(f,g),k);else b(e)})};O.resolve=function(a){if(a instanceof O)return a;var b=new O(w);M(b,2,a);return b};O.reject=function(a){return new O(function(b,c){c(a)})};O.prototype["catch"]=O.prototype.X;var S=O;"undefined"!==typeof Promise&&(S=Promise);var Ka=S;function La(a,b){a=new T(a,b);return a.subscribe.bind(a)}var T=function(a,b){var c=this;this.a=[];this.J=0;this.task=Ka.resolve();this.l=!1;this.D=b;this.task.then(function(){a(c)}).catch(function(a){c.error(a)})};T.prototype.next=function(a){U(this,function(b){b.next(a)})};T.prototype.error=function(a){U(this,function(b){b.error(a)});this.close(a)};T.prototype.complete=function(){U(this,function(a){a.complete()});this.close()};T.prototype.subscribe=function(a,b,c){var d=this,e;if(void 0===a&&void 0===b&&void 0===c)throw Error("Missing Observer.");e=Ma(a)?a:{next:a,error:b,complete:c};void 0===e.next&&(e.next=V);void 0===e.error&&(e.error=V);void 0===e.complete&&(e.complete=V);a=this.$.bind(this,this.a.length);this.l&&this.task.then(function(){try{d.G?e.error(d.G):e.complete()}catch(a){}});this.a.push(e);return a};T.prototype.$=function(a){void 0!==this.a&&void 0!==this.a[a]&&(this.a[a]=void 0,--this.J,0===this.J&&void 0!==this.D&&this.D(this))};var U=function(a,b){if(!a.l)for(var c=0;c<a.a.length;c++)Na(a,c,b)},Na=function(a,b,c){a.task.then(function(){if(void 0!==a.a&&void 0!==a.a[b])try{c(a.a[b])}catch(d){}})};T.prototype.close=function(a){var b=this;this.l||(this.l=!0,void 0!==a&&(this.G=a),this.task.then(function(){b.a=void 0;b.D=void 0}))};function Ma(a){if("object"!==typeof a||null===a)return!1;for(var b=ca(),c=b.next();!c.done;c=b.next())if(c=c.value,c in a&&"function"===typeof a[c])return!0;return!1}function V(){}var W=S,X=function(a,b,c){var d=this;this.H=c;this.I=!1;this.i={};this.P={};this.C=b;this.T=P(void 0,a);Object.keys(c.INTERNAL.factories).forEach(function(a){d[a]=d.R.bind(d,a)})};X.prototype.delete=function(){var a=this;return new W(function(b){Y(a);b()}).then(function(){a.H.INTERNAL.removeApp(a.C);return W.all(Object.keys(a.i).map(function(b){return a.i[b].INTERNAL.delete()}))}).then(function(){a.I=!0;a.i=null;a.P=null})};X.prototype.R=function(a){Y(this);void 0===this.i[a]&&(this.i[a]=this.H.INTERNAL.factories[a](this,this.O.bind(this)));return this.i[a]};X.prototype.O=function(a){P(this,a)};var Y=function(a){a.I&&Z(Oa("deleted",{name:a.C}))};Object.defineProperties(X.prototype,{name:{configurable:!0,enumerable:!0,get:function(){Y(this);return this.C}},options:{configurable:!0,enumerable:!0,get:function(){Y(this);return this.T}}});X.prototype.name&&X.prototype.options||X.prototype.delete||console.log("dc");function Pa(){function a(a){a=a||"[DEFAULT]";var c=b[a];void 0===c&&Z("noApp",{name:a});return c}var b={},c={},d=[],e={initializeApp:function(a,c){void 0===c?c="[DEFAULT]":"string"===typeof c&&""!==c||Z("bad-app-name",{name:c+""});void 0!==b[c]&&Z("dupApp",{name:c});var g=new X(a,c,e);b[c]=g;d.forEach(function(a){return a("create",g)});void 0!=g.INTERNAL&&void 0!=g.INTERNAL.getToken||P(g,{INTERNAL:{getToken:function(){return W.resolve(null)},addAuthTokenListener:function(){},removeAuthTokenListener:function(){}}});return g},app:a,apps:null,Promise:W,SDK_VERSION:"0.0.0",INTERNAL:{registerService:function(b,d,g){c[b]&&Z("dupService",{name:b});c[b]=d;d=function(c){void 0===c&&(c=a());return c[b]()};void 0!==g&&P(d,g);return e[b]=d},createFirebaseNamespace:Pa,extendNamespace:function(a){P(e,a)},createSubscribe:La,ErrorFactory:Q,registerAppHook:function(a){d.push(a)},removeApp:function(a){d.forEach(function(c){return c("delete",b[a])});delete b[a]},factories:c,Promise:O,deepExtend:P}};Object.defineProperty(e,"apps",{get:function(){return Object.keys(b).map(function(a){return b[a]})}});a.App=X;return e}function Z(a,b){throw Error(Oa(a,b))}function Oa(a,b){b=b||{};b={noApp:"No Firebase App '"+b.name+"' has been created - call Firebase App.initializeApp().","bad-app-name":"Illegal App name: '"+b.name+"'.",dupApp:"Firebase App named '"+b.name+"' already exists.",deleted:"Firebase App named '"+b.name+"' already deleted.",dupService:"Firebase Service named '"+b.name+"' already registered."}[a];return void 0===b?"Application Error: ("+a+")":b}"undefined"!==typeof window&&(window.firebase=Pa())})();firebase.SDK_VERSION="3.0.5";(function(){var k,aa=aa||{},l=this,ba=function(){},ca=function(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";else if("function"==b&&"undefined"==typeof a.call)return"object";return b},da=function(a){return null===a},ea=function(a){return"array"==ca(a)},fa=function(a){var b=ca(a);return"array"==b||"object"==b&&"number"==typeof a.length},m=function(a){return"string"==typeof a},ga=function(a){return"number"==typeof a},n=function(a){return"function"==ca(a)},ha=function(a){var b=typeof a;return"object"==b&&null!=a||"function"==b},ia=function(a,b,c){return a.call.apply(a.bind,arguments)},ja=function(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}},p=function(a,b,c){p=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ia:ja;return p.apply(null,arguments)},ka=function(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=c.slice();b.push.apply(b,arguments);return a.apply(this,b)}},la=Date.now||function(){return+new Date},q=function(a,b){function c(){}c.prototype=b.prototype;a.Bc=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.Ce=function(a,c,f){for(var g=Array(arguments.length-2),h=2;h<arguments.length;h++)g[h-2]=arguments[h];return b.prototype[c].apply(a,g)}};var t=function(a){if(Error.captureStackTrace)Error.captureStackTrace(this,t);else{var b=Error().stack;b&&(this.stack=b)}a&&(this.message=String(a))};q(t,Error);t.prototype.name="CustomError";var ma=function(a,b){for(var c=a.split("%s"),d="",e=Array.prototype.slice.call(arguments,1);e.length&&1<c.length;)d+=c.shift()+e.shift();return d+c.join("%s")},na=String.prototype.trim?function(a){return a.trim()}:function(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},oa=/&/g,pa=/</g,qa=/>/g,ra=/"/g,sa=/'/g,ta=/\x00/g,ua=/[\x00&<>"']/,u=function(a,b){return-1!=a.indexOf(b)},va=function(a,b){return a<b?-1:a>b?1:0};var wa=function(a,b){b.unshift(a);t.call(this,ma.apply(null,b));b.shift()};q(wa,t);wa.prototype.name="AssertionError";var xa=function(a,b,c,d){var e="Assertion failed";if(c)var e=e+(": "+c),f=d;else a&&(e+=": "+a,f=b);throw new wa(""+e,f||[])},v=function(a,b,c){a||xa("",null,b,Array.prototype.slice.call(arguments,2))},ya=function(a,b){throw new wa("Failure"+(a?": "+a:""),Array.prototype.slice.call(arguments,1))},za=function(a,b,c){ga(a)||xa("Expected number but got %s: %s.",[ca(a),a],b,Array.prototype.slice.call(arguments,2));return a},Aa=function(a,b,c){m(a)||xa("Expected string but got %s: %s.",[ca(a),a],b,Array.prototype.slice.call(arguments,2));return a},Ba=function(a,b,c){n(a)||xa("Expected function but got %s: %s.",[ca(a),a],b,Array.prototype.slice.call(arguments,2))};var Ca=Array.prototype.indexOf?function(a,b,c){v(null!=a.length);return Array.prototype.indexOf.call(a,b,c)}:function(a,b,c){c=null==c?0:0>c?Math.max(0,a.length+c):c;if(m(a))return m(b)&&1==b.length?a.indexOf(b,c):-1;for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},w=Array.prototype.forEach?function(a,b,c){v(null!=a.length);Array.prototype.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=m(a)?a.split(""):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)},Da=function(a,b){for(var c=m(a)?a.split(""):a,d=a.length-1;0<=d;--d)d in c&&b.call(void 0,c[d],d,a)},Ea=Array.prototype.map?function(a,b,c){v(null!=a.length);return Array.prototype.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=Array(d),f=m(a)?a.split(""):a,g=0;g<d;g++)g in f&&(e[g]=b.call(c,f[g],g,a));return e},Fa=Array.prototype.some?function(a,b,c){v(null!=a.length);return Array.prototype.some.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=m(a)?a.split(""):a,f=0;f<d;f++)if(f in e&&b.call(c,e[f],f,a))return!0;return!1},Ha=function(a){var b;a:{b=Ga;for(var c=a.length,d=m(a)?a.split(""):a,e=0;e<c;e++)if(e in d&&b.call(void 0,d[e],e,a)){b=e;break a}b=-1}return 0>b?null:m(a)?a.charAt(b):a[b]},Ia=function(a,b){return 0<=Ca(a,b)},Ka=function(a,b){var c=Ca(a,b),d;(d=0<=c)&&Ja(a,c);return d},Ja=function(a,b){v(null!=a.length);return 1==Array.prototype.splice.call(a,b,1).length},La=function(a,b){var c=0;Da(a,function(d,e){b.call(void 0,d,e,a)&&Ja(a,e)&&c++})},Ma=function(a){return Array.prototype.concat.apply(Array.prototype,arguments)},Na=function(a){return Array.prototype.concat.apply(Array.prototype,arguments)},Oa=function(a){var b=a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}return[]},Pa=function(a,b){for(var c=1;c<arguments.length;c++){var d=arguments[c];if(fa(d)){var e=a.length||0,f=d.length||0;a.length=e+f;for(var g=0;g<f;g++)a[e+g]=d[g]}else a.push(d)}};var Qa=function(a,b){for(var c in a)b.call(void 0,a[c],c,a)},Ra=function(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b},Sa=function(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b},Ta=function(a){for(var b in a)return!1;return!0},Ua=function(a,b){for(var c in a)if(!(c in b)||a[c]!==b[c])return!1;for(c in b)if(!(c in a))return!1;return!0},Va=function(a){var b={},c;for(c in a)b[c]=a[c];return b},Wa="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),Xa=function(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var f=0;f<Wa.length;f++)c=Wa[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};var $a;a:{var ab=l.navigator;if(ab){var bb=ab.userAgent;if(bb){$a=bb;break a}}$a=""}var x=function(a){return u($a,a)};var cb=x("Opera"),y=x("Trident")||x("MSIE"),db=x("Edge"),eb=db||y,fb=x("Gecko")&&!(u($a.toLowerCase(),"webkit")&&!x("Edge"))&&!(x("Trident")||x("MSIE"))&&!x("Edge"),gb=u($a.toLowerCase(),"webkit")&&!x("Edge"),hb=function(){var a=l.document;return a?a.documentMode:void 0},ib;a:{var jb="",kb=function(){var a=$a;if(fb)return/rv\:([^\);]+)(\)|;)/.exec(a);if(db)return/Edge\/([\d\.]+)/.exec(a);if(y)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a);if(gb)return/WebKit\/(\S+)/.exec(a);if(cb)return/(?:Version)[ \/]?(\S+)/.exec(a)}();kb&&(jb=kb?kb[1]:"");if(y){var lb=hb();if(null!=lb&&lb>parseFloat(jb)){ib=String(lb);break a}}ib=jb}var mb=ib,nb={},z=function(a){var b;if(!(b=nb[a])){b=0;for(var c=na(String(mb)).split("."),d=na(String(a)).split("."),e=Math.max(c.length,d.length),f=0;0==b&&f<e;f++){var g=c[f]||"",h=d[f]||"",r=RegExp("(\\d*)(\\D*)","g"),Z=RegExp("(\\d*)(\\D*)","g");do{var Ya=r.exec(g)||["","",""],Za=Z.exec(h)||["","",""];if(0==Ya[0].length&&0==Za[0].length)break;b=va(0==Ya[1].length?0:parseInt(Ya[1],10),0==Za[1].length?0:parseInt(Za[1],10))||va(0==Ya[2].length,0==Za[2].length)||va(Ya[2],Za[2])}while(0==b)}b=nb[a]=0<=b}return b},ob=l.document,pb=ob&&y?hb()||("CSS1Compat"==ob.compatMode?parseInt(mb,10):5):void 0;var qb=null,rb=null,tb=function(a){var b="";sb(a,function(a){b+=String.fromCharCode(a)});return b},sb=function(a,b){function c(b){for(;d<a.length;){var c=a.charAt(d++),e=rb[c];if(null!=e)return e;if(!/^[\s\xa0]*$/.test(c))throw Error("Unknown base64 encoding at char: "+c)}return b}ub();for(var d=0;;){var e=c(-1),f=c(0),g=c(64),h=c(64);if(64===h&&-1===e)break;b(e<<2|f>>4);64!=g&&(b(f<<4&240|g>>2),64!=h&&b(g<<6&192|h))}},ub=function(){if(!qb){qb={};rb={};for(var a=0;65>a;a++)qb[a]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(a),rb[qb[a]]=a,62<=a&&(rb["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(a)]=a)}};var wb=function(){this.Rb="";this.Ad=vb};wb.prototype.kc=!0;wb.prototype.ic=function(){return this.Rb};wb.prototype.toString=function(){return"Const{"+this.Rb+"}"};var xb=function(a){if(a instanceof wb&&a.constructor===wb&&a.Ad===vb)return a.Rb;ya("expected object of type Const, got '"+a+"'");return"type_error:Const"},vb={};var A=function(){this.ca="";this.zd=yb};A.prototype.kc=!0;A.prototype.ic=function(){return this.ca};A.prototype.toString=function(){return"SafeUrl{"+this.ca+"}"};var zb=function(a){if(a instanceof A&&a.constructor===A&&a.zd===yb)return a.ca;ya("expected object of type SafeUrl, got '"+a+"' of type "+ca(a));return"type_error:SafeUrl"},Ab=/^(?:(?:https?|mailto|ftp):|[^&:\/?#]*(?:[\/?#]|$))/i,Cb=function(a){if(a instanceof A)return a;a=a.kc?a.ic():String(a);Ab.test(a)||(a="about:invalid#zClosurez");return Bb(a)},yb={},Bb=function(a){var b=new A;b.ca=a;return b};Bb("about:blank");var Eb=function(){this.ca="";this.yd=Db};Eb.prototype.kc=!0;Eb.prototype.ic=function(){return this.ca};Eb.prototype.toString=function(){return"SafeHtml{"+this.ca+"}"};var Fb=function(a){if(a instanceof Eb&&a.constructor===Eb&&a.yd===Db)return a.ca;ya("expected object of type SafeHtml, got '"+a+"' of type "+ca(a));return"type_error:SafeHtml"},Db={};Eb.prototype.ce=function(a){this.ca=a;return this};var Gb=function(a,b){var c;c=b instanceof A?b:Cb(b);a.href=zb(c)};var Hb=function(a){Hb[" "](a);return a};Hb[" "]=ba;var Ib=!y||9<=Number(pb),Jb=y&&!z("9");!gb||z("528");fb&&z("1.9b")||y&&z("8")||cb&&z("9.5")||gb&&z("528");fb&&!z("8")||y&&z("9");var Kb=function(){this.sa=this.sa;this.Ib=this.Ib};Kb.prototype.sa=!1;Kb.prototype.isDisposed=function(){return this.sa};Kb.prototype.Ha=function(){if(this.Ib)for(;this.Ib.length;)this.Ib.shift()()};var Lb=function(a,b){this.type=a;this.currentTarget=this.target=b;this.defaultPrevented=this.Pa=!1;this.jd=!0};Lb.prototype.preventDefault=function(){this.defaultPrevented=!0;this.jd=!1};var Mb=function(a,b){Lb.call(this,a?a.type:"");this.relatedTarget=this.currentTarget=this.target=null;this.charCode=this.keyCode=this.button=this.screenY=this.screenX=this.clientY=this.clientX=this.offsetY=this.offsetX=0;this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1;this.wb=this.state=null;a&&this.init(a,b)};q(Mb,Lb);Mb.prototype.init=function(a,b){var c=this.type=a.type,d=a.changedTouches?a.changedTouches[0]:null;this.target=a.target||a.srcElement;this.currentTarget=b;var e=a.relatedTarget;if(e){if(fb){var f;a:{try{Hb(e.nodeName);f=!0;break a}catch(g){}f=!1}f||(e=null)}}else"mouseover"==c?e=a.fromElement:"mouseout"==c&&(e=a.toElement);this.relatedTarget=e;null===d?(this.offsetX=gb||void 0!==a.offsetX?a.offsetX:a.layerX,this.offsetY=gb||void 0!==a.offsetY?a.offsetY:a.layerY,this.clientX=void 0!==a.clientX?a.clientX:a.pageX,this.clientY=void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0):(this.clientX=void 0!==d.clientX?d.clientX:d.pageX,this.clientY=void 0!==d.clientY?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0);this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||("keypress"==c?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.state=a.state;this.wb=a;a.defaultPrevented&&this.preventDefault()};Mb.prototype.preventDefault=function(){Mb.Bc.preventDefault.call(this);var a=this.wb;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,Jb)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};var Nb="closure_listenable_"+(1e6*Math.random()|0),Ob=0;var Pb=function(a,b,c,d,e){this.listener=a;this.Kb=null;this.src=b;this.type=c;this.tb=!!d;this.Cb=e;this.key=++Ob;this.Ra=this.sb=!1},Qb=function(a){a.Ra=!0;a.listener=null;a.Kb=null;a.src=null;a.Cb=null};var Rb=function(a){this.src=a;this.v={};this.rb=0};Rb.prototype.add=function(a,b,c,d,e){var f=a.toString();a=this.v[f];a||(a=this.v[f]=[],this.rb++);var g=Sb(a,b,d,e);-1<g?(b=a[g],c||(b.sb=!1)):(b=new Pb(b,this.src,f,!!d,e),b.sb=c,a.push(b));return b};Rb.prototype.remove=function(a,b,c,d){a=a.toString();if(!(a in this.v))return!1;var e=this.v[a];b=Sb(e,b,c,d);return-1<b?(Qb(e[b]),Ja(e,b),0==e.length&&(delete this.v[a],this.rb--),!0):!1};var Tb=function(a,b){var c=b.type;c in a.v&&Ka(a.v[c],b)&&(Qb(b),0==a.v[c].length&&(delete a.v[c],a.rb--))};Rb.prototype.gc=function(a,b,c,d){a=this.v[a.toString()];var e=-1;a&&(e=Sb(a,b,c,d));return-1<e?a[e]:null};var Sb=function(a,b,c,d){for(var e=0;e<a.length;++e){var f=a[e];if(!f.Ra&&f.listener==b&&f.tb==!!c&&f.Cb==d)return e}return-1};var Ub="closure_lm_"+(1e6*Math.random()|0),Vb={},Wb=0,Xb=function(a,b,c,d,e){if(ea(b))for(var f=0;f<b.length;f++)Xb(a,b[f],c,d,e);else c=Yb(c),a&&a[Nb]?Zb(a,b,c,d,e):$b(a,b,c,!1,d,e)},$b=function(a,b,c,d,e,f){if(!b)throw Error("Invalid event type");var g=!!e,h=ac(a);h||(a[Ub]=h=new Rb(a));c=h.add(b,c,d,e,f);if(!c.Kb){d=bc();c.Kb=d;d.src=a;d.listener=c;if(a.addEventListener)a.addEventListener(b.toString(),d,g);else if(a.attachEvent)a.attachEvent(cc(b.toString()),d);else throw Error("addEventListener and attachEvent are unavailable.");Wb++}},bc=function(){var a=dc,b=Ib?function(c){return a.call(b.src,b.listener,c)}:function(c){c=a.call(b.src,b.listener,c);if(!c)return c};return b},ec=function(a,b,c,d,e){if(ea(b))for(var f=0;f<b.length;f++)ec(a,b[f],c,d,e);else c=Yb(c),a&&a[Nb]?fc(a,b,c,d,e):$b(a,b,c,!0,d,e)},gc=function(a,b,c,d,e){if(ea(b))for(var f=0;f<b.length;f++)gc(a,b[f],c,d,e);else c=Yb(c),a&&a[Nb]?a.T.remove(String(b),c,d,e):a&&(a=ac(a))&&(b=a.gc(b,c,!!d,e))&&hc(b)},hc=function(a){if(!ga(a)&&a&&!a.Ra){var b=a.src;if(b&&b[Nb])Tb(b.T,a);else{var c=a.type,d=a.Kb;b.removeEventListener?b.removeEventListener(c,d,a.tb):b.detachEvent&&b.detachEvent(cc(c),d);Wb--;(c=ac(b))?(Tb(c,a),0==c.rb&&(c.src=null,b[Ub]=null)):Qb(a)}}},cc=function(a){return a in Vb?Vb[a]:Vb[a]="on"+a},jc=function(a,b,c,d){var e=!0;if(a=ac(a))if(b=a.v[b.toString()])for(b=b.concat(),a=0;a<b.length;a++){var f=b[a];f&&f.tb==c&&!f.Ra&&(f=ic(f,d),e=e&&!1!==f)}return e},ic=function(a,b){var c=a.listener,d=a.Cb||a.src;a.sb&&hc(a);return c.call(d,b)},dc=function(a,b){if(a.Ra)return!0;if(!Ib){var c;if(!(c=b))a:{c=["window","event"];for(var d=l,e;e=c.shift();)if(null!=d[e])d=d[e];else{c=null;break a}c=d}e=c;c=new Mb(e,this);d=!0;if(!(0>e.keyCode||void 0!=e.returnValue)){a:{var f=!1;if(0==e.keyCode)try{e.keyCode=-1;break a}catch(r){f=!0}if(f||void 0==e.returnValue)e.returnValue=!0}e=[];for(f=c.currentTarget;f;f=f.parentNode)e.push(f);for(var f=a.type,g=e.length-1;!c.Pa&&0<=g;g--){c.currentTarget=e[g];var h=jc(e[g],f,!0,c),d=d&&h}for(g=0;!c.Pa&&g<e.length;g++)c.currentTarget=e[g],h=jc(e[g],f,!1,c),d=d&&h}return d}return ic(a,new Mb(b,this))},ac=function(a){a=a[Ub];return a instanceof Rb?a:null},kc="__closure_events_fn_"+(1e9*Math.random()>>>0),Yb=function(a){v(a,"Listener can not be null.");if(n(a))return a;v(a.handleEvent,"An object listener must have handleEvent method.");a[kc]||(a[kc]=function(b){return a.handleEvent(b)});return a[kc]};var lc=/^[+a-zA-Z0-9_.!#$%&'*\/=?^`{|}~-]+@([a-zA-Z0-9-]+\.)+[a-zA-Z0-9]{2,63}$/;var mc=function(a){a=String(a);if(/^\s*$/.test(a)?0:/^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,"@").replace(/(?:"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)[\s\u2028\u2029]*(?=:|,|]|}|$)/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,"")))try{return eval("("+a+")")}catch(b){}throw Error("Invalid JSON string: "+a)},pc=function(a){var b=[];nc(new oc,a,b);return b.join("")},oc=function(){this.Nb=void 0},nc=function(a,b,c){if(null==b)c.push("null");else{if("object"==typeof b){if(ea(b)){var d=b;b=d.length;c.push("[");for(var e="",f=0;f<b;f++)c.push(e),e=d[f],nc(a,a.Nb?a.Nb.call(d,String(f),e):e,c),e=",";c.push("]");return}if(b instanceof String||b instanceof Number||b instanceof Boolean)b=b.valueOf();else{c.push("{");f="";for(d in b)Object.prototype.hasOwnProperty.call(b,d)&&(e=b[d],"function"!=typeof e&&(c.push(f),qc(d,c),c.push(":"),nc(a,a.Nb?a.Nb.call(b,d,e):e,c),f=","));c.push("}");return}}switch(typeof b){case"string":qc(b,c);break;case"number":c.push(isFinite(b)&&!isNaN(b)?String(b):"null");break;case"boolean":c.push(String(b));break;case"function":c.push("null");break;default:throw Error("Unknown type: "+typeof b)}}},rc={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","":"\\u000b"},sc=/\uffff/.test("￿")?/[\\\"\x00-\x1f\x7f-\uffff]/g:/[\\\"\x00-\x1f\x7f-\xff]/g,qc=function(a,b){b.push('"',a.replace(sc,function(a){var b=rc[a];b||(b="\\u"+(a.charCodeAt(0)|65536).toString(16).substr(1),rc[a]=b);return b}),'"')};var tc=function(){};tc.prototype.Ec=null;var uc=function(a){return a.Ec||(a.Ec=a.Wc())};var vc,wc=function(){};q(wc,tc);wc.prototype.bc=function(){var a=xc(this);return a?new ActiveXObject(a):new XMLHttpRequest};wc.prototype.Wc=function(){var a={};xc(this)&&(a[0]=!0,a[1]=!0);return a};var xc=function(a){if(!a.Sc&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var b=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],c=0;c<b.length;c++){var d=b[c];try{return new ActiveXObject(d),a.Sc=d}catch(e){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return a.Sc};vc=new wc;var yc=function(){};q(yc,tc);yc.prototype.bc=function(){var a=new XMLHttpRequest;if("withCredentials"in a)return a;if("undefined"!=typeof XDomainRequest)return new zc;throw Error("Unsupported browser")};yc.prototype.Wc=function(){return{}};var zc=function(){this.ha=new XDomainRequest;this.readyState=0;this.responseText=this.onreadystatechange=null;this.status=-1;this.statusText=this.responseXML=null;this.ha.onload=p(this.Rd,this);this.ha.onerror=p(this.Qc,this);this.ha.onprogress=p(this.Sd,this);this.ha.ontimeout=p(this.Td,this)};k=zc.prototype;k.open=function(a,b,c){if(null!=c&&!c)throw Error("Only async requests are supported.");this.ha.open(a,b)};k.send=function(a){if(a)if("string"==typeof a)this.ha.send(a);else throw Error("Only string data is supported");else this.ha.send()};k.abort=function(){this.ha.abort()};k.setRequestHeader=function(){};k.Rd=function(){this.status=200;this.responseText=this.ha.responseText;Ac(this,4)};k.Qc=function(){this.status=500;this.responseText=null;Ac(this,4)};k.Td=function(){this.Qc()};k.Sd=function(){this.status=200;Ac(this,1)};var Ac=function(a,b){a.readyState=b;if(a.onreadystatechange)a.onreadystatechange()};var B=function(a,b){this.h=[];this.g=b;for(var c=!0,d=a.length-1;0<=d;d--){var e=a[d]|0;c&&e==b||(this.h[d]=e,c=!1)}},Bc={},Cc=function(a){if(-128<=a&&128>a){var b=Bc[a];if(b)return b}b=new B([a|0],0>a?-1:0);-128<=a&&128>a&&(Bc[a]=b);return b},E=function(a){if(isNaN(a)||!isFinite(a))return C;if(0>a)return D(E(-a));for(var b=[],c=1,d=0;a>=c;d++)b[d]=a/c|0,c*=4294967296;return new B(b,0)},Dc=function(a,b){if(0==a.length)throw Error("number format error: empty string");var c=b||10;if(2>c||36<c)throw Error("radix out of range: "+c);if("-"==a.charAt(0))return D(Dc(a.substring(1),c));if(0<=a.indexOf("-"))throw Error('number format error: interior "-" character');for(var d=E(Math.pow(c,8)),e=C,f=0;f<a.length;f+=8){var g=Math.min(8,a.length-f),h=parseInt(a.substring(f,f+g),c);8>g?(g=E(Math.pow(c,g)),e=e.multiply(g).add(E(h))):(e=e.multiply(d),e=e.add(E(h)))}return e},C=Cc(0),Ec=Cc(1),Fc=Cc(16777216),Gc=function(a){if(-1==a.g)return-Gc(D(a));for(var b=0,c=1,d=0;d<a.h.length;d++)b+=Hc(a,d)*c,c*=4294967296;return b};B.prototype.toString=function(a){a=a||10;if(2>a||36<a)throw Error("radix out of range: "+a);if(Ic(this))return"0";if(-1==this.g)return"-"+D(this).toString(a);for(var b=E(Math.pow(a,6)),c=this,d="";;){var e=Jc(c,b),c=Kc(c,e.multiply(b)),f=((0<c.h.length?c.h[0]:c.g)>>>0).toString(a),c=e;if(Ic(c))return f+d;for(;6>f.length;)f="0"+f;d=""+f+d}};var F=function(a,b){return 0>b?0:b<a.h.length?a.h[b]:a.g},Hc=function(a,b){var c=F(a,b);return 0<=c?c:4294967296+c},Ic=function(a){if(0!=a.g)return!1;for(var b=0;b<a.h.length;b++)if(0!=a.h[b])return!1;return!0};B.prototype.vb=function(a){if(this.g!=a.g)return!1;for(var b=Math.max(this.h.length,a.h.length),c=0;c<b;c++)if(F(this,c)!=F(a,c))return!1;return!0};B.prototype.compare=function(a){a=Kc(this,a);return-1==a.g?-1:Ic(a)?0:1;

};var D=function(a){for(var b=a.h.length,c=[],d=0;d<b;d++)c[d]=~a.h[d];return new B(c,~a.g).add(Ec)};B.prototype.add=function(a){for(var b=Math.max(this.h.length,a.h.length),c=[],d=0,e=0;e<=b;e++){var f=d+(F(this,e)&65535)+(F(a,e)&65535),g=(f>>>16)+(F(this,e)>>>16)+(F(a,e)>>>16),d=g>>>16,f=f&65535,g=g&65535;c[e]=g<<16|f}return new B(c,c[c.length-1]&-2147483648?-1:0)};var Kc=function(a,b){return a.add(D(b))};B.prototype.multiply=function(a){if(Ic(this)||Ic(a))return C;if(-1==this.g)return-1==a.g?D(this).multiply(D(a)):D(D(this).multiply(a));if(-1==a.g)return D(this.multiply(D(a)));if(0>this.compare(Fc)&&0>a.compare(Fc))return E(Gc(this)*Gc(a));for(var b=this.h.length+a.h.length,c=[],d=0;d<2*b;d++)c[d]=0;for(d=0;d<this.h.length;d++)for(var e=0;e<a.h.length;e++){var f=F(this,d)>>>16,g=F(this,d)&65535,h=F(a,e)>>>16,r=F(a,e)&65535;c[2*d+2*e]+=g*r;Lc(c,2*d+2*e);c[2*d+2*e+1]+=f*r;Lc(c,2*d+2*e+1);c[2*d+2*e+1]+=g*h;Lc(c,2*d+2*e+1);c[2*d+2*e+2]+=f*h;Lc(c,2*d+2*e+2)}for(d=0;d<b;d++)c[d]=c[2*d+1]<<16|c[2*d];for(d=b;d<2*b;d++)c[d]=0;return new B(c,0)};var Lc=function(a,b){for(;(a[b]&65535)!=a[b];)a[b+1]+=a[b]>>>16,a[b]&=65535},Jc=function(a,b){if(Ic(b))throw Error("division by zero");if(Ic(a))return C;if(-1==a.g)return-1==b.g?Jc(D(a),D(b)):D(Jc(D(a),b));if(-1==b.g)return D(Jc(a,D(b)));if(30<a.h.length){if(-1==a.g||-1==b.g)throw Error("slowDivide_ only works with positive integers.");for(var c=Ec,d=b;0>=d.compare(a);)c=c.shiftLeft(1),d=d.shiftLeft(1);for(var e=Mc(c,1),f=Mc(d,1),g,d=Mc(d,2),c=Mc(c,2);!Ic(d);)g=f.add(d),0>=g.compare(a)&&(e=e.add(c),f=g),d=Mc(d,1),c=Mc(c,1);return e}c=C;for(d=a;0<=d.compare(b);){e=Math.max(1,Math.floor(Gc(d)/Gc(b)));f=Math.ceil(Math.log(e)/Math.LN2);f=48>=f?1:Math.pow(2,f-48);g=E(e);for(var h=g.multiply(b);-1==h.g||0<h.compare(d);)e-=f,g=E(e),h=g.multiply(b);Ic(g)&&(g=Ec);c=c.add(g);d=Kc(d,h)}return c},Nc=function(a,b){for(var c=Math.max(a.h.length,b.h.length),d=[],e=0;e<c;e++)d[e]=F(a,e)|F(b,e);return new B(d,a.g|b.g)};B.prototype.shiftLeft=function(a){var b=a>>5;a%=32;for(var c=this.h.length+b+(0<a?1:0),d=[],e=0;e<c;e++)d[e]=0<a?F(this,e-b)<<a|F(this,e-b-1)>>>32-a:F(this,e-b);return new B(d,this.g)};var Mc=function(a,b){for(var c=b>>5,d=b%32,e=a.h.length-c,f=[],g=0;g<e;g++)f[g]=0<d?F(a,g+c)>>>d|F(a,g+c+1)<<32-d:F(a,g+c);return new B(f,a.g)};var Oc=function(a,b){this.fb=a;this.ga=b};Oc.prototype.vb=function(a){return this.ga==a.ga&&this.fb.vb(Va(a.fb))};var Rc=function(a){try{var b;if(b=0==a.lastIndexOf("[",0)){var c=a.length-1;b=0<=c&&a.indexOf("]",c)==c}return b?new Pc(a.substring(1,a.length-1)):new Qc(a)}catch(d){return null}},Qc=function(a){var b=C;if(a instanceof B){if(0!=a.g||0>a.compare(C)||0<a.compare(Sc))throw Error("The address does not look like an IPv4.");b=Va(a)}else{if(!Tc.test(a))throw Error(a+" does not look like an IPv4 address.");var c=a.split(".");if(4!=c.length)throw Error(a+" does not look like an IPv4 address.");for(var d=0;d<c.length;d++){var e;e=c[d];var f=Number(e);e=0==f&&/^[\s\xa0]*$/.test(e)?NaN:f;if(isNaN(e)||0>e||255<e||1!=c[d].length&&0==c[d].lastIndexOf("0",0))throw Error("In "+a+", octet "+d+" is not valid");e=E(e);b=Nc(b.shiftLeft(8),e)}}Oc.call(this,b,4)};q(Qc,Oc);var Tc=/^[0-9.]*$/,Sc=Kc(Ec.shiftLeft(32),Ec);Qc.prototype.toString=function(){if(this.wa)return this.wa;for(var a=Hc(this.fb,0),b=[],c=3;0<=c;c--)b[c]=String(a&255),a>>>=8;return this.wa=b.join(".")};var Pc=function(a){var b=C;if(a instanceof B){if(0!=a.g||0>a.compare(C)||0<a.compare(Uc))throw Error("The address does not look like a valid IPv6.");b=Va(a)}else{if(!Vc.test(a))throw Error(a+" is not a valid IPv6 address.");var c=a.split(":");if(-1!=c[c.length-1].indexOf(".")){a=Hc(Va(new Qc(c[c.length-1]).fb),0);var d=[];d.push((a>>>16&65535).toString(16));d.push((a&65535).toString(16));Ja(c,c.length-1);Pa(c,d);a=c.join(":")}d=a.split("::");if(2<d.length||1==d.length&&8!=c.length)throw Error(a+" is not a valid IPv6 address.");if(1<d.length){c=d[0].split(":");d=d[1].split(":");1==c.length&&""==c[0]&&(c=[]);1==d.length&&""==d[0]&&(d=[]);var e=8-(c.length+d.length);if(1>e)c=[];else{for(var f=[],g=0;g<e;g++)f[g]="0";c=Na(c,f,d)}}if(8!=c.length)throw Error(a+" is not a valid IPv6 address");for(d=0;d<c.length;d++){e=Dc(c[d],16);if(0>e.compare(C)||0<e.compare(Wc))throw Error(c[d]+" in "+a+" is not a valid hextet.");b=Nc(b.shiftLeft(16),e)}}Oc.call(this,b,6)};q(Pc,Oc);var Vc=/^([a-fA-F0-9]*:){2}[a-fA-F0-9:.]*$/,Wc=Cc(65535),Uc=Kc(Ec.shiftLeft(128),Ec);Pc.prototype.toString=function(){if(this.wa)return this.wa;for(var a=[],b=3;0<=b;b--){var c=Hc(this.fb,b),d=c&65535;a.push((c>>>16).toString(16));a.push(d.toString(16))}for(var c=b=-1,e=d=0,f=0;f<a.length;f++)"0"==a[f]?(e++,-1==c&&(c=f),e>d&&(d=e,b=c)):(c=-1,e=0);0<d&&(b+d==a.length&&a.push(""),a.splice(b,d,""),0==b&&(a=[""].concat(a)));return this.wa=a.join(":")};!fb&&!y||y&&9<=Number(pb)||fb&&z("1.9.1");y&&z("9");var Yc=function(a,b){Qa(b,function(b,d){"style"==d?a.style.cssText=b:"class"==d?a.className=b:"for"==d?a.htmlFor=b:Xc.hasOwnProperty(d)?a.setAttribute(Xc[d],b):0==d.lastIndexOf("aria-",0)||0==d.lastIndexOf("data-",0)?a.setAttribute(d,b):a[d]=b})},Xc={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};var Zc=function(a,b,c){this.ee=c;this.Gd=a;this.oe=b;this.Hb=0;this.Db=null};Zc.prototype.get=function(){var a;0<this.Hb?(this.Hb--,a=this.Db,this.Db=a.next,a.next=null):a=this.Gd();return a};Zc.prototype.put=function(a){this.oe(a);this.Hb<this.ee&&(this.Hb++,a.next=this.Db,this.Db=a)};var $c=function(a){l.setTimeout(function(){throw a},0)},ad,bd=function(){var a=l.MessageChannel;"undefined"===typeof a&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&!x("Presto")&&(a=function(){var a=document.createElement("IFRAME");a.style.display="none";a.src="";document.documentElement.appendChild(a);var b=a.contentWindow,a=b.document;a.open();a.write("");a.close();var c="callImmediate"+Math.random(),d="file:"==b.location.protocol?"*":b.location.protocol+"//"+b.location.host,a=p(function(a){if(("*"==d||a.origin==d)&&a.data==c)this.port1.onmessage()},this);b.addEventListener("message",a,!1);this.port1={};this.port2={postMessage:function(){b.postMessage(c,d)}}});if("undefined"!==typeof a&&!x("Trident")&&!x("MSIE")){var b=new a,c={},d=c;b.port1.onmessage=function(){if(void 0!==c.next){c=c.next;var a=c.Ic;c.Ic=null;a()}};return function(a){d.next={Ic:a};d=d.next;b.port2.postMessage(0)}}return"undefined"!==typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(a){var b=document.createElement("SCRIPT");b.onreadystatechange=function(){b.onreadystatechange=null;b.parentNode.removeChild(b);b=null;a();a=null};document.documentElement.appendChild(b)}:function(a){l.setTimeout(a,0)}};var cd=function(){this.Vb=this.Ea=null},ed=new Zc(function(){return new dd},function(a){a.reset()},100);cd.prototype.add=function(a,b){var c=ed.get();c.set(a,b);this.Vb?this.Vb.next=c:(v(!this.Ea),this.Ea=c);this.Vb=c};cd.prototype.remove=function(){var a=null;this.Ea&&(a=this.Ea,this.Ea=this.Ea.next,this.Ea||(this.Vb=null),a.next=null);return a};var dd=function(){this.next=this.scope=this.fc=null};dd.prototype.set=function(a,b){this.fc=a;this.scope=b;this.next=null};dd.prototype.reset=function(){this.next=this.scope=this.fc=null};var jd=function(a,b){fd||gd();hd||(fd(),hd=!0);id.add(a,b)},fd,gd=function(){if(l.Promise&&l.Promise.resolve){var a=l.Promise.resolve(void 0);fd=function(){a.then(kd)}}else fd=function(){var a=kd;!n(l.setImmediate)||l.Window&&l.Window.prototype&&!x("Edge")&&l.Window.prototype.setImmediate==l.setImmediate?(ad||(ad=bd()),ad(a)):l.setImmediate(a)}},hd=!1,id=new cd,kd=function(){for(var a;a=id.remove();){try{a.fc.call(a.scope)}catch(b){$c(b)}ed.put(a)}hd=!1};var ld=function(a){a.prototype.then=a.prototype.then;a.prototype.$goog_Thenable=!0},md=function(a){if(!a)return!1;try{return!!a.$goog_Thenable}catch(b){return!1}};var G=function(a,b){this.A=0;this.ea=void 0;this.Ga=this.$=this.m=null;this.Bb=this.ec=!1;if(a!=ba)try{var c=this;a.call(b,function(a){nd(c,2,a)},function(a){if(!(a instanceof od))try{if(a instanceof Error)throw a;throw Error("Promise rejected.")}catch(b){}nd(c,3,a)})}catch(d){nd(this,3,d)}},pd=function(){this.next=this.context=this.Ma=this.xa=this.child=null;this.Ya=!1};pd.prototype.reset=function(){this.context=this.Ma=this.xa=this.child=null;this.Ya=!1};var qd=new Zc(function(){return new pd},function(a){a.reset()},100),rd=function(a,b,c){var d=qd.get();d.xa=a;d.Ma=b;d.context=c;return d},H=function(a){if(a instanceof G)return a;var b=new G(ba);nd(b,2,a);return b},I=function(a){return new G(function(b,c){c(a)})},td=function(a,b,c){sd(a,b,c,null)||jd(ka(b,a))},ud=function(a){return new G(function(b){var c=a.length,d=[];if(c)for(var e=function(a,e,f){c--;d[a]=e?{Pd:!0,value:f}:{Pd:!1,reason:f};0==c&&b(d)},f=0,g;f<a.length;f++)g=a[f],td(g,ka(e,f,!0),ka(e,f,!1));else b(d)})};G.prototype.then=function(a,b,c){null!=a&&Ba(a,"opt_onFulfilled should be a function.");null!=b&&Ba(b,"opt_onRejected should be a function. Did you pass opt_context as the second argument instead of the third?");return vd(this,n(a)?a:null,n(b)?b:null,c)};ld(G);var xd=function(a,b){var c=rd(b,b,void 0);c.Ya=!0;wd(a,c);return a};G.prototype.M=function(a,b){return vd(this,null,a,b)};G.prototype.cancel=function(a){0==this.A&&jd(function(){var b=new od(a);yd(this,b)},this)};var yd=function(a,b){if(0==a.A)if(a.m){var c=a.m;if(c.$){for(var d=0,e=null,f=null,g=c.$;g&&(g.Ya||(d++,g.child==a&&(e=g),!(e&&1<d)));g=g.next)e||(f=g);e&&(0==c.A&&1==d?yd(c,b):(f?(d=f,v(c.$),v(null!=d),d.next==c.Ga&&(c.Ga=d),d.next=d.next.next):zd(c),Ad(c,e,3,b)))}a.m=null}else nd(a,3,b)},wd=function(a,b){a.$||2!=a.A&&3!=a.A||Bd(a);v(null!=b.xa);a.Ga?a.Ga.next=b:a.$=b;a.Ga=b},vd=function(a,b,c,d){var e=rd(null,null,null);e.child=new G(function(a,g){e.xa=b?function(c){try{var e=b.call(d,c);a(e)}catch(Z){g(Z)}}:a;e.Ma=c?function(b){try{var e=c.call(d,b);void 0===e&&b instanceof od?g(b):a(e)}catch(Z){g(Z)}}:g});e.child.m=a;wd(a,e);return e.child};G.prototype.ye=function(a){v(1==this.A);this.A=0;nd(this,2,a)};G.prototype.ze=function(a){v(1==this.A);this.A=0;nd(this,3,a)};var nd=function(a,b,c){0==a.A&&(a===c&&(b=3,c=new TypeError("Promise cannot resolve to itself")),a.A=1,sd(c,a.ye,a.ze,a)||(a.ea=c,a.A=b,a.m=null,Bd(a),3!=b||c instanceof od||Cd(a,c)))},sd=function(a,b,c,d){if(a instanceof G)return null!=b&&Ba(b,"opt_onFulfilled should be a function."),null!=c&&Ba(c,"opt_onRejected should be a function. Did you pass opt_context as the second argument instead of the third?"),wd(a,rd(b||ba,c||null,d)),!0;if(md(a))return a.then(b,c,d),!0;if(ha(a))try{var e=a.then;if(n(e))return Dd(a,e,b,c,d),!0}catch(f){return c.call(d,f),!0}return!1},Dd=function(a,b,c,d,e){var f=!1,g=function(a){f||(f=!0,c.call(e,a))},h=function(a){f||(f=!0,d.call(e,a))};try{b.call(a,g,h)}catch(r){h(r)}},Bd=function(a){a.ec||(a.ec=!0,jd(a.Kd,a))},zd=function(a){var b=null;a.$&&(b=a.$,a.$=b.next,b.next=null);a.$||(a.Ga=null);null!=b&&v(null!=b.xa);return b};G.prototype.Kd=function(){for(var a;a=zd(this);)Ad(this,a,this.A,this.ea);this.ec=!1};var Ad=function(a,b,c,d){if(3==c&&b.Ma&&!b.Ya)for(;a&&a.Bb;a=a.m)a.Bb=!1;if(b.child)b.child.m=null,Ed(b,c,d);else try{b.Ya?b.xa.call(b.context):Ed(b,c,d)}catch(e){Fd.call(null,e)}qd.put(b)},Ed=function(a,b,c){2==b?a.xa.call(a.context,c):a.Ma&&a.Ma.call(a.context,c)},Cd=function(a,b){a.Bb=!0;jd(function(){a.Bb&&Fd.call(null,b)})},Fd=$c,od=function(a){t.call(this,a)};q(od,t);od.prototype.name="cancel";var Gd=function(a,b){this.Ob=[];this.bd=a;this.Kc=b||null;this.bb=this.Ja=!1;this.ea=void 0;this.zc=this.Dc=this.Zb=!1;this.Tb=0;this.m=null;this.$b=0};Gd.prototype.cancel=function(a){if(this.Ja)this.ea instanceof Gd&&this.ea.cancel();else{if(this.m){var b=this.m;delete this.m;a?b.cancel(a):(b.$b--,0>=b.$b&&b.cancel())}this.bd?this.bd.call(this.Kc,this):this.zc=!0;this.Ja||Hd(this,new Id)}};Gd.prototype.Jc=function(a,b){this.Zb=!1;Jd(this,a,b)};var Jd=function(a,b,c){a.Ja=!0;a.ea=c;a.bb=!b;Kd(a)},Md=function(a){if(a.Ja){if(!a.zc)throw new Ld;a.zc=!1}};Gd.prototype.callback=function(a){Md(this);Nd(a);Jd(this,!0,a)};var Hd=function(a,b){Md(a);Nd(b);Jd(a,!1,b)},Nd=function(a){v(!(a instanceof Gd),"An execution sequence may not be initiated with a blocking Deferred.")},Pd=function(a,b){Od(a,null,b,void 0)},Od=function(a,b,c,d){v(!a.Dc,"Blocking Deferreds can not be re-used");a.Ob.push([b,c,d]);a.Ja&&Kd(a)};Gd.prototype.then=function(a,b,c){var d,e,f=new G(function(a,b){d=a;e=b});Od(this,d,function(a){a instanceof Id?f.cancel():e(a)});return f.then(a,b,c)};ld(Gd);var Qd=function(a){return Fa(a.Ob,function(a){return n(a[1])})},Kd=function(a){if(a.Tb&&a.Ja&&Qd(a)){var b=a.Tb,c=Rd[b];c&&(l.clearTimeout(c.cb),delete Rd[b]);a.Tb=0}a.m&&(a.m.$b--,delete a.m);for(var b=a.ea,d=c=!1;a.Ob.length&&!a.Zb;){var e=a.Ob.shift(),f=e[0],g=e[1],e=e[2];if(f=a.bb?g:f)try{var h=f.call(e||a.Kc,b);void 0!==h&&(a.bb=a.bb&&(h==b||h instanceof Error),a.ea=b=h);if(md(b)||"function"===typeof l.Promise&&b instanceof l.Promise)d=!0,a.Zb=!0}catch(r){b=r,a.bb=!0,Qd(a)||(c=!0)}}a.ea=b;d&&(h=p(a.Jc,a,!0),d=p(a.Jc,a,!1),b instanceof Gd?(Od(b,h,d),b.Dc=!0):b.then(h,d));c&&(b=new Sd(b),Rd[b.cb]=b,a.Tb=b.cb)},Ld=function(){t.call(this)};q(Ld,t);Ld.prototype.message="Deferred has already fired";Ld.prototype.name="AlreadyCalledError";var Id=function(){t.call(this)};q(Id,t);Id.prototype.message="Deferred was canceled";Id.prototype.name="CanceledError";var Sd=function(a){this.cb=l.setTimeout(p(this.xe,this),0);this.D=a};Sd.prototype.xe=function(){v(Rd[this.cb],"Cannot throw an error that is not scheduled.");delete Rd[this.cb];throw this.D};var Rd={};var Xd=function(a){var b={},c=b.document||document,d=document.createElement("SCRIPT"),e={ld:d,qb:void 0},f=new Gd(Td,e),g=null,h=null!=b.timeout?b.timeout:5e3;0<h&&(g=window.setTimeout(function(){Ud(d,!0);Hd(f,new Vd(1,"Timeout reached for loading script "+a))},h),e.qb=g);d.onload=d.onreadystatechange=function(){d.readyState&&"loaded"!=d.readyState&&"complete"!=d.readyState||(Ud(d,b.De||!1,g),f.callback(null))};d.onerror=function(){Ud(d,!0,g);Hd(f,new Vd(0,"Error while loading script "+a))};e=b.attributes||{};Xa(e,{type:"text/javascript",charset:"UTF-8",src:a});Yc(d,e);Wd(c).appendChild(d);return f},Wd=function(a){var b=a.getElementsByTagName("HEAD");return b&&0!=b.length?b[0]:a.documentElement},Td=function(){if(this&&this.ld){var a=this.ld;a&&"SCRIPT"==a.tagName&&Ud(a,!0,this.qb)}},Ud=function(a,b,c){null!=c&&l.clearTimeout(c);a.onload=ba;a.onerror=ba;a.onreadystatechange=ba;b&&window.setTimeout(function(){a&&a.parentNode&&a.parentNode.removeChild(a)},0)},Vd=function(a,b){var c="Jsloader error (code #"+a+")";b&&(c+=": "+b);t.call(this,c);this.code=a};q(Vd,t);var J=function(){Kb.call(this);this.T=new Rb(this);this.Cd=this;this.oc=null};q(J,Kb);J.prototype[Nb]=!0;J.prototype.addEventListener=function(a,b,c,d){Xb(this,a,b,c,d)};J.prototype.removeEventListener=function(a,b,c,d){gc(this,a,b,c,d)};J.prototype.dispatchEvent=function(a){Yd(this);var b,c=this.oc;if(c){b=[];for(var d=1;c;c=c.oc)b.push(c),v(1e3>++d,"infinite loop")}c=this.Cd;d=a.type||a;if(m(a))a=new Lb(a,c);else if(a instanceof Lb)a.target=a.target||c;else{var e=a;a=new Lb(d,c);Xa(a,e)}var e=!0,f;if(b)for(var g=b.length-1;!a.Pa&&0<=g;g--)f=a.currentTarget=b[g],e=Zd(f,d,!0,a)&&e;a.Pa||(f=a.currentTarget=c,e=Zd(f,d,!0,a)&&e,a.Pa||(e=Zd(f,d,!1,a)&&e));if(b)for(g=0;!a.Pa&&g<b.length;g++)f=a.currentTarget=b[g],e=Zd(f,d,!1,a)&&e;return e};J.prototype.Ha=function(){J.Bc.Ha.call(this);if(this.T){var a=this.T,b=0,c;for(c in a.v){for(var d=a.v[c],e=0;e<d.length;e++)++b,Qb(d[e]);delete a.v[c];a.rb--}}this.oc=null};var Zb=function(a,b,c,d,e){Yd(a);a.T.add(String(b),c,!1,d,e)},fc=function(a,b,c,d,e){a.T.add(String(b),c,!0,d,e)},Zd=function(a,b,c,d){b=a.T.v[String(b)];if(!b)return!0;b=b.concat();for(var e=!0,f=0;f<b.length;++f){var g=b[f];if(g&&!g.Ra&&g.tb==c){var h=g.listener,r=g.Cb||g.src;g.sb&&Tb(a.T,g);e=!1!==h.call(r,d)&&e}}return e&&0!=d.jd};J.prototype.gc=function(a,b,c,d){return this.T.gc(String(a),b,c,d)};var Yd=function(a){v(a.T,"Event target is not initialized. Did you call the superclass (goog.events.EventTarget) constructor?")};var $d="StopIteration"in l?l.StopIteration:{message:"StopIteration",stack:""},ae=function(){};ae.prototype.next=function(){throw $d};ae.prototype.Xa=function(){return this};var be=function(a){if(a instanceof ae)return a;if("function"==typeof a.Xa)return a.Xa(!1);if(fa(a)){var b=0,c=new ae;c.next=function(){for(;;){if(b>=a.length)throw $d;if(b in a)return a[b++];b++}};return c}throw Error("Not implemented")},ce=function(a,b){if(fa(a))try{w(a,b,void 0)}catch(c){if(c!==$d)throw c}else{a=be(a);try{for(;;)b.call(void 0,a.next(),void 0,a)}catch(c){if(c!==$d)throw c}}};var de=function(a,b){this.U={};this.o=[];this.ga=this.i=0;var c=arguments.length;if(1<c){if(c%2)throw Error("Uneven number of arguments");for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else a&&this.addAll(a)};k=de.prototype;k.yb=function(){return this.i};k.N=function(){ee(this);for(var a=[],b=0;b<this.o.length;b++)a.push(this.U[this.o[b]]);return a};k.aa=function(){ee(this);return this.o.concat()};k.$a=function(a){return fe(this.U,a)};k.vb=function(a,b){if(this===a)return!0;if(this.i!=a.yb())return!1;var c=b||ge;ee(this);for(var d,e=0;d=this.o[e];e++)if(!c(this.get(d),a.get(d)))return!1;return!0};var ge=function(a,b){return a===b};de.prototype.remove=function(a){return fe(this.U,a)?(delete this.U[a],this.i--,this.ga++,this.o.length>2*this.i&&ee(this),!0):!1};var ee=function(a){if(a.i!=a.o.length){for(var b=0,c=0;b<a.o.length;){var d=a.o[b];fe(a.U,d)&&(a.o[c++]=d);b++}a.o.length=c}if(a.i!=a.o.length){for(var e={},c=b=0;b<a.o.length;)d=a.o[b],fe(e,d)||(a.o[c++]=d,e[d]=1),b++;a.o.length=c}};k=de.prototype;k.get=function(a,b){return fe(this.U,a)?this.U[a]:b};k.set=function(a,b){fe(this.U,a)||(this.i++,this.o.push(a),this.ga++);this.U[a]=b};k.addAll=function(a){var b;a instanceof de?(b=a.aa(),a=a.N()):(b=Sa(a),a=Ra(a));for(var c=0;c<b.length;c++)this.set(b[c],a[c])};k.forEach=function(a,b){for(var c=this.aa(),d=0;d<c.length;d++){var e=c[d],f=this.get(e);a.call(b,f,e,this)}};k.clone=function(){return new de(this)};k.Xa=function(a){ee(this);var b=0,c=this.ga,d=this,e=new ae;e.next=function(){if(c!=d.ga)throw Error("The map has changed since the iterator was created");if(b>=d.o.length)throw $d;var e=d.o[b++];return a?e:d.U[e]};return e};var fe=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)};var he=function(a){if(a.N&&"function"==typeof a.N)return a.N();if(m(a))return a.split("");if(fa(a)){for(var b=[],c=a.length,d=0;d<c;d++)b.push(a[d]);return b}return Ra(a)},ie=function(a){if(a.aa&&"function"==typeof a.aa)return a.aa();if(!a.N||"function"!=typeof a.N){if(fa(a)||m(a)){var b=[];a=a.length;for(var c=0;c<a;c++)b.push(c);return b}return Sa(a)}},je=function(a,b){if(a.forEach&&"function"==typeof a.forEach)a.forEach(b,void 0);else if(fa(a)||m(a))w(a,b,void 0);else for(var c=ie(a),d=he(a),e=d.length,f=0;f<e;f++)b.call(void 0,d[f],c&&c[f],a)};var ke=function(a,b,c,d,e){this.reset(a,b,c,d,e)};ke.prototype.Mc=null;var le=0;ke.prototype.reset=function(a,b,c,d,e){"number"==typeof e||le++;d||la();this.ib=a;this.ge=b;delete this.Mc};ke.prototype.nd=function(a){this.ib=a};var me=function(a){this.he=a;this.Rc=this.ac=this.ib=this.m=null},ne=function(a,b){this.name=a;this.value=b};ne.prototype.toString=function(){return this.name};var oe=new ne("SEVERE",1e3),pe=new ne("CONFIG",700),qe=new ne("FINE",500);me.prototype.getParent=function(){return this.m};me.prototype.nd=function(a){this.ib=a};var re=function(a){if(a.ib)return a.ib;if(a.m)return re(a.m);ya("Root logger has no level set.");return null};me.prototype.log=function(a,b,c){if(a.value>=re(this).value)for(n(b)&&(b=b()),a=new ke(a,String(b),this.he),c&&(a.Mc=c),c="log:"+a.ge,l.console&&(l.console.timeStamp?l.console.timeStamp(c):l.console.markTimeline&&l.console.markTimeline(c)),l.msWriteProfilerMark&&l.msWriteProfilerMark(c),c=this;c;){b=c;var d=a;if(b.Rc)for(var e=0,f;f=b.Rc[e];e++)f(d);c=c.getParent()}};var se={},te=null,ue=function(a){te||(te=new me(""),se[""]=te,te.nd(pe));var b;if(!(b=se[a])){b=new me(a);var c=a.lastIndexOf("."),d=a.substr(c+1),c=ue(a.substr(0,c));c.ac||(c.ac={});c.ac[d]=b;b.m=c;se[a]=b}return b};var K=function(a,b){a&&a.log(qe,b,void 0)};var ve=function(a,b,c){if(n(a))c&&(a=p(a,c));else if(a&&"function"==typeof a.handleEvent)a=p(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(b)?-1:l.setTimeout(a,b||0)},we=function(a){var b=null;return new G(function(c,d){b=ve(function(){c(void 0)},a);-1==b&&d(Error("Failed to schedule timer."))}).M(function(a){l.clearTimeout(b);throw a})};var xe=/^(?:([^:\/?#.]+):)?(?:\/\/(?:([^\/?#]*)@)?([^\/#?]*?)(?::([0-9]+))?(?=[\/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#(.*))?$/,ye=function(a,b){if(a)for(var c=a.split("&"),d=0;d<c.length;d++){var e=c[d].indexOf("="),f,g=null;0<=e?(f=c[d].substring(0,e),g=c[d].substring(e+1)):f=c[d];b(f,g?decodeURIComponent(g.replace(/\+/g," ")):"")}};var L=function(a){J.call(this);this.headers=new de;this.Xb=a||null;this.ia=!1;this.Wb=this.a=null;this.hb=this.Yc=this.Fb="";this.va=this.lc=this.Eb=this.dc=!1;this.Ua=0;this.Sb=null;this.hd="";this.Ub=this.ne=this.ud=!1};q(L,J);var ze=L.prototype,Ae=ue("goog.net.XhrIo");ze.I=Ae;var Be=/^https?$/i,Ce=["POST","PUT"];L.prototype.send=function(a,b,c,d){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.Fb+"; newUri="+a);b=b?b.toUpperCase():"GET";this.Fb=a;this.hb="";this.Yc=b;this.dc=!1;this.ia=!0;this.a=this.Xb?this.Xb.bc():vc.bc();this.Wb=this.Xb?uc(this.Xb):uc(vc);this.a.onreadystatechange=p(this.dd,this);this.ne&&"onprogress"in this.a&&(this.a.onprogress=p(function(a){this.cd(a,!0)},this),this.a.upload&&(this.a.upload.onprogress=p(this.cd,this)));try{K(this.I,De(this,"Opening Xhr")),this.lc=!0,this.a.open(b,String(a),!0),this.lc=!1}catch(f){K(this.I,De(this,"Error opening Xhr: "+f.message));this.D(5,f);return}a=c||"";var e=this.headers.clone();d&&je(d,function(a,b){e.set(b,a)});d=Ha(e.aa());c=l.FormData&&a instanceof l.FormData;!Ia(Ce,b)||d||c||e.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");e.forEach(function(a,b){this.a.setRequestHeader(b,a)},this);this.hd&&(this.a.responseType=this.hd);"withCredentials"in this.a&&this.a.withCredentials!==this.ud&&(this.a.withCredentials=this.ud);try{Ee(this),0<this.Ua&&(this.Ub=Fe(this.a),K(this.I,De(this,"Will abort after "+this.Ua+"ms if incomplete, xhr2 "+this.Ub)),this.Ub?(this.a.timeout=this.Ua,this.a.ontimeout=p(this.qb,this)):this.Sb=ve(this.qb,this.Ua,this)),K(this.I,De(this,"Sending request")),this.Eb=!0,this.a.send(a),this.Eb=!1}catch(f){K(this.I,De(this,"Send error: "+f.message)),this.D(5,f)}};var Fe=function(a){return y&&z(9)&&ga(a.timeout)&&void 0!==a.ontimeout},Ga=function(a){return"content-type"==a.toLowerCase()};L.prototype.qb=function(){"undefined"!=typeof aa&&this.a&&(this.hb="Timed out after "+this.Ua+"ms, aborting",K(this.I,De(this,this.hb)),this.dispatchEvent("timeout"),this.abort(8))};L.prototype.D=function(a,b){this.ia=!1;this.a&&(this.va=!0,this.a.abort(),this.va=!1);this.hb=b;Ge(this);He(this)};var Ge=function(a){a.dc||(a.dc=!0,a.dispatchEvent("complete"),a.dispatchEvent("error"))};L.prototype.abort=function(){this.a&&this.ia&&(K(this.I,De(this,"Aborting")),this.ia=!1,this.va=!0,this.a.abort(),this.va=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),He(this))};L.prototype.Ha=function(){this.a&&(this.ia&&(this.ia=!1,this.va=!0,this.a.abort(),this.va=!1),He(this,!0));L.Bc.Ha.call(this)};L.prototype.dd=function(){this.isDisposed()||(this.lc||this.Eb||this.va?Ie(this):this.le())};L.prototype.le=function(){Ie(this)};var Ie=function(a){if(a.ia&&"undefined"!=typeof aa)if(a.Wb[1]&&4==Je(a)&&2==Ke(a))K(a.I,De(a,"Local request error detected and ignored"));else if(a.Eb&&4==Je(a))ve(a.dd,0,a);else if(a.dispatchEvent("readystatechange"),4==Je(a)){K(a.I,De(a,"Request complete"));a.ia=!1;try{var b=Ke(a),c;a:switch(b){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:c=!0;break a;default:c=!1}var d;if(!(d=c)){var e;if(e=0===b){var f=String(a.Fb).match(xe)[1]||null;if(!f&&l.self&&l.self.location)var g=l.self.location.protocol,f=g.substr(0,g.length-1);e=!Be.test(f?f.toLowerCase():"")}d=e}if(d)a.dispatchEvent("complete"),a.dispatchEvent("success");else{var h;try{h=2<Je(a)?a.a.statusText:""}catch(r){K(a.I,"Can not get status: "+r.message),h=""}a.hb=h+" ["+Ke(a)+"]";Ge(a)}}finally{He(a)}}};L.prototype.cd=function(a,b){v("progress"===a.type,"goog.net.EventType.PROGRESS is of the same type as raw XHR progress.");this.dispatchEvent(Le(a,"progress"));this.dispatchEvent(Le(a,b?"downloadprogress":"uploadprogress"))};var Le=function(a,b){return{type:b,lengthComputable:a.lengthComputable,loaded:a.loaded,total:a.total}},He=function(a,b){if(a.a){Ee(a);var c=a.a,d=a.Wb[0]?ba:null;a.a=null;a.Wb=null;b||a.dispatchEvent("ready");try{c.onreadystatechange=d}catch(e){(c=a.I)&&c.log(oe,"Problem encountered resetting onreadystatechange: "+e.message,void 0)}}},Ee=function(a){a.a&&a.Ub&&(a.a.ontimeout=null);ga(a.Sb)&&(l.clearTimeout(a.Sb),a.Sb=null)},Je=function(a){return a.a?a.a.readyState:0},Ke=function(a){try{return 2<Je(a)?a.a.status:-1}catch(b){return-1}},Me=function(a){try{return a.a?a.a.responseText:""}catch(b){return K(a.I,"Can not get responseText: "+b.message),""}},De=function(a,b){return b+" ["+a.Yc+" "+a.Fb+" "+Ke(a)+"]"};var Ne=function(a,b){this.ja=this.Da=this.oa="";this.Oa=null;this.ua=this.la="";this.F=this.de=!1;var c;if(a instanceof Ne)this.F=void 0!==b?b:a.F,Oe(this,a.oa),c=a.Da,M(this),this.Da=c,Pe(this,a.ja),Qe(this,a.Oa),Re(this,a.la),Se(this,a.W.clone()),c=a.ua,M(this),this.ua=c;else if(a&&(c=String(a).match(xe))){this.F=!!b;Oe(this,c[1]||"",!0);var d=c[2]||"";M(this);this.Da=Te(d);Pe(this,c[3]||"",!0);Qe(this,c[4]);Re(this,c[5]||"",!0);Se(this,c[6]||"",!0);c=c[7]||"";M(this);this.ua=Te(c)}else this.F=!!b,this.W=new N(null,0,this.F)};Ne.prototype.toString=function(){var a=[],b=this.oa;b&&a.push(Ue(b,Ve,!0),":");var c=this.ja;if(c||"file"==b)a.push("//"),(b=this.Da)&&a.push(Ue(b,Ve,!0),"@"),a.push(encodeURIComponent(String(c)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c=this.Oa,null!=c&&a.push(":",String(c));if(c=this.la)this.ja&&"/"!=c.charAt(0)&&a.push("/"),a.push(Ue(c,"/"==c.charAt(0)?We:Xe,!0));(c=this.W.toString())&&a.push("?",c);(c=this.ua)&&a.push("#",Ue(c,Ye));return a.join("")};Ne.prototype.resolve=function(a){var b=this.clone(),c=!!a.oa;c?Oe(b,a.oa):c=!!a.Da;if(c){var d=a.Da;M(b);b.Da=d}else c=!!a.ja;c?Pe(b,a.ja):c=null!=a.Oa;d=a.la;if(c)Qe(b,a.Oa);else if(c=!!a.la){if("/"!=d.charAt(0))if(this.ja&&!this.la)d="/"+d;else{var e=b.la.lastIndexOf("/");-1!=e&&(d=b.la.substr(0,e+1)+d)}e=d;if(".."==e||"."==e)d="";else if(u(e,"./")||u(e,"/.")){for(var d=0==e.lastIndexOf("/",0),e=e.split("/"),f=[],g=0;g<e.length;){var h=e[g++];"."==h?d&&g==e.length&&f.push(""):".."==h?((1<f.length||1==f.length&&""!=f[0])&&f.pop(),d&&g==e.length&&f.push("")):(f.push(h),d=!0)}d=f.join("/")}else d=e}c?Re(b,d):c=""!==a.W.toString();c?Se(b,Te(a.W.toString())):c=!!a.ua;c&&(a=a.ua,M(b),b.ua=a);return b};Ne.prototype.clone=function(){return new Ne(this)};var Oe=function(a,b,c){M(a);a.oa=c?Te(b,!0):b;a.oa&&(a.oa=a.oa.replace(/:$/,""))},Pe=function(a,b,c){M(a);a.ja=c?Te(b,!0):b},Qe=function(a,b){M(a);if(b){b=Number(b);if(isNaN(b)||0>b)throw Error("Bad port number "+b);a.Oa=b}else a.Oa=null},Re=function(a,b,c){M(a);a.la=c?Te(b,!0):b},Se=function(a,b,c){M(a);b instanceof N?(a.W=b,a.W.yc(a.F)):(c||(b=Ue(b,Ze)),a.W=new N(b,0,a.F))},O=function(a,b,c){M(a);a.W.set(b,c)},M=function(a){if(a.de)throw Error("Tried to modify a read-only Uri")};Ne.prototype.yc=function(a){this.F=a;this.W&&this.W.yc(a);return this};var $e=function(a,b){var c=new Ne(null,void 0);Oe(c,"https");a&&Pe(c,a);b&&Re(c,b);return c},Te=function(a,b){return a?b?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""},Ue=function(a,b,c){return m(a)?(a=encodeURI(a).replace(b,af),c&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null},af=function(a){a=a.charCodeAt(0);return"%"+(a>>4&15).toString(16)+(a&15).toString(16)},Ve=/[#\/\?@]/g,Xe=/[\#\?:]/g,We=/[\#\?]/g,Ze=/[\#\?@]/g,Ye=/#/g,N=function(a,b,c){this.i=this.j=null;this.C=a||null;this.F=!!c},bf=function(a){a.j||(a.j=new de,a.i=0,a.C&&ye(a.C,function(b,c){a.add(decodeURIComponent(b.replace(/\+/g," ")),c)}))},df=function(a){var b=ie(a);if("undefined"==typeof b)throw Error("Keys are undefined");var c=new N(null,0,void 0);a=he(a);for(var d=0;d<b.length;d++){var e=b[d],f=a[d];ea(f)?cf(c,e,f):c.add(e,f)}return c};k=N.prototype;k.yb=function(){bf(this);return this.i};k.add=function(a,b){bf(this);this.C=null;a=this.l(a);var c=this.j.get(a);c||this.j.set(a,c=[]);c.push(b);this.i=za(this.i)+1;return this};k.remove=function(a){bf(this);a=this.l(a);return this.j.$a(a)?(this.C=null,this.i=za(this.i)-this.j.get(a).length,this.j.remove(a)):!1};k.$a=function(a){bf(this);a=this.l(a);return this.j.$a(a)};k.aa=function(){bf(this);for(var a=this.j.N(),b=this.j.aa(),c=[],d=0;d<b.length;d++)for(var e=a[d],f=0;f<e.length;f++)c.push(b[d]);return c};k.N=function(a){bf(this);var b=[];if(m(a))this.$a(a)&&(b=Ma(b,this.j.get(this.l(a))));else{a=this.j.N();for(var c=0;c<a.length;c++)b=Ma(b,a[c])}return b};k.set=function(a,b){bf(this);this.C=null;a=this.l(a);this.$a(a)&&(this.i=za(this.i)-this.j.get(a).length);this.j.set(a,[b]);this.i=za(this.i)+1;return this};k.get=function(a,b){var c=a?this.N(a):[];return 0<c.length?String(c[0]):b};var cf=function(a,b,c){a.remove(b);0<c.length&&(a.C=null,a.j.set(a.l(b),Oa(c)),a.i=za(a.i)+c.length)};N.prototype.toString=function(){if(this.C)return this.C;if(!this.j)return"";for(var a=[],b=this.j.aa(),c=0;c<b.length;c++)for(var d=b[c],e=encodeURIComponent(String(d)),d=this.N(d),f=0;f<d.length;f++){var g=e;""!==d[f]&&(g+="="+encodeURIComponent(String(d[f])));a.push(g)}return this.C=a.join("&")};N.prototype.clone=function(){var a=new N;a.C=this.C;this.j&&(a.j=this.j.clone(),a.i=this.i);return a};N.prototype.l=function(a){a=String(a);this.F&&(a=a.toLowerCase());return a};N.prototype.yc=function(a){a&&!this.F&&(bf(this),this.C=null,this.j.forEach(function(a,c){var d=c.toLowerCase();c!=d&&(this.remove(c),cf(this,d,a))},this));this.F=a};var ef=function(a,b){var c=[],d;for(d in a)d in b?typeof a[d]!=typeof b[d]?c.push(d):ea(a[d])?Ua(a[d],b[d])||c.push(d):"object"==typeof a[d]&&null!=a[d]&&null!=b[d]?0<ef(a[d],b[d]).length&&c.push(d):a[d]!==b[d]&&c.push(d):c.push(d);for(d in b)d in a||c.push(d);return c},ff=function(a,b,c){var d=Math.floor(1e9*Math.random()).toString();b=b||500;c=c||600;var e=(window.screen.availHeight-c)/2,f=(window.screen.availWidth-b)/2;b={width:b,height:c,top:0<e?e:0,left:0<f?f:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1};d&&(b.target=d);navigator.userAgent&&-1!=navigator.userAgent.indexOf("Firefox/")&&(a=a||"http://localhost");var g;c=a||"about:blank";(d=b)||(d={});a=window;b=c instanceof A?c:Cb("undefined"!=typeof c.href?c.href:String(c));c=d.target||c.target;e=[];for(g in d)switch(g){case"width":case"height":case"top":case"left":e.push(g+"="+d[g]);break;case"target":case"noreferrer":break;default:e.push(g+"="+(d[g]?1:0))}g=e.join(",");(x("iPhone")&&!x("iPod")&&!x("iPad")||x("iPad")||x("iPod"))&&a.navigator&&a.navigator.standalone&&c&&"_self"!=c?(g=a.document.createElement("A"),b=b instanceof A?b:Cb(b),g.href=zb(b),g.setAttribute("target",c),d.noreferrer&&g.setAttribute("rel","noreferrer"),d=document.createEvent("MouseEvent"),d.initMouseEvent("click",!0,!0,a,1),g.dispatchEvent(d),g={}):d.noreferrer?(g=a.open("",c,g),d=zb(b),g&&(eb&&u(d,";")&&(d="'"+d.replace(/'/g,"%27")+"'"),g.opener=null,a=new wb,a.Rb="b/12014412, meta tag with sanitized URL",ua.test(d)&&(-1!=d.indexOf("&")&&(d=d.replace(oa,"&amp;")),-1!=d.indexOf("<")&&(d=d.replace(pa,"&lt;")),-1!=d.indexOf(">")&&(d=d.replace(qa,"&gt;")),
-1!=d.indexOf('"')&&(d=d.replace(ra,"&quot;")),-1!=d.indexOf("'")&&(d=d.replace(sa,"&#39;")),-1!=d.indexOf("\x00")&&(d=d.replace(ta,"&#0;"))),d='<META HTTP-EQUIV="refresh" content="0; url='+d+'">',Aa(xb(a),"must provide justification"),v(!/^[\s\xa0]*$/.test(xb(a)),"must provide non-empty justification"),g.document.write(Fb((new Eb).ce(d))),g.document.close())):g=a.open(zb(b),c,g);if(g)try{g.focus()}catch(h){}return g},gf=function(a){return new G(function(b){var c=function(){we(2e3).then(function(){if(!a||a.closed)b();else return c()})};return c()})},hf=function(){var a=null;return new G(function(b){"complete"==l.document.readyState?b():(a=function(){b()},ec(window,"load",a))}).M(function(b){gc(window,"load",a);throw b})},jf=function(){var a=navigator.userAgent,b=a.toLowerCase();if(u(b,"opera/")||u(b,"opr/")||u(b,"opios/"))return"Opera";if(u(b,"msie")||u(b,"trident/"))return"IE";if(u(b,"edge/"))return"Edge";if(u(b,"firefox/"))return"Firefox";if(u(b,"silk/"))return"Silk";if(u(b,"safari/")&&!u(b,"chrome/"))return"Safari";if(!u(b,"chrome/")&&!u(b,"crios/")||u(b,"edge/")){if((a=a.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==a.length)return a[1]}else return"Chrome";return"Other"},kf=function(a){return jf()+"/JsCore/"+a},lf=function(a){a=a.split(".");for(var b=l,c=0;c<a.length&&"object"==typeof b&&null!=b;c++)b=b[a[c]];c!=a.length&&(b=void 0);return b},mf=function(){return!(!l.location||!l.location.protocol||"http:"!=l.location.protocol&&"https:"!=l.location.protocol)},nf=function(){var a=navigator.userAgent,b=a.match(/(ipad)|(iphone)|(ipod)/i),a=a.match(/\sOS\s(\d+)_/i);return b&&b.length&&a&&2==a.length&&8>parseInt(a[1],10)?!1:!0};var of;try{var pf={};Object.defineProperty(pf,"abcd",{configurable:!0,enumerable:!0,value:1});Object.defineProperty(pf,"abcd",{configurable:!0,enumerable:!0,value:2});of=2==pf.abcd}catch(a){of=!1}var P=function(a,b,c){of?Object.defineProperty(a,b,{configurable:!0,enumerable:!0,value:c}):a[b]=c},qf=function(a,b){if(b)for(var c in b)b.hasOwnProperty(c)&&P(a,c,b[c])},rf=function(a){var b={},c;for(c in a)a.hasOwnProperty(c)&&(b[c]=a[c]);return b},sf=function(a,b){if(!b||!b.length)return!0;if(!a)return!1;for(var c=0;c<b.length;c++){var d=a[b[c]];if(void 0===d||null===d||""===d)return!1}return!0};var tf={vd:{mb:985,lb:735,providerId:"facebook.com"},wd:{mb:1040,lb:620,providerId:"github.com"},xd:{mb:485,lb:640,providerId:"google.com"},Bd:{mb:485,lb:705,providerId:"twitter.com"}},uf=function(a){for(var b in tf)if(tf[b].providerId==a)return tf[b];return null};var Q=function(a,b){this.code="auth/"+a;this.message=b||vf[a]||""};q(Q,Error);Q.prototype.P=function(){return{name:this.code,code:this.code,message:this.message}};var vf={"argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-user-token":"The user's credential is no longer valid. The user must sign in again.","invalid-auth-event":"An internal error has occurred.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","missing-iframe-start":"An internal error has occurred.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http or https.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported."};var wf=function(a,b,c,d,e){this.qa=a;this.ta=b||null;this.Wa=c||null;this.xc=d||null;this.D=e||null;if(this.Wa||this.D){if(this.Wa&&this.D)throw new Q("invalid-auth-event");if(this.Wa&&!this.xc)throw new Q("invalid-auth-event")}else throw new Q("invalid-auth-event")};wf.prototype.hc=function(){return this.xc};wf.prototype.getError=function(){return this.D};wf.prototype.P=function(){return{type:this.qa,eventId:this.ta,urlResponse:this.Wa,sessionId:this.xc,error:this.D&&this.D.P()}};var xf=function(a){this.fe=a.sub;la();this.ub=a.email||null};var yf=function(a,b,c,d){var e={};ha(c)?e=c:b&&m(c)&&m(d)?e={oauthToken:c,oauthTokenSecret:d}:!b&&m(c)&&(e={accessToken:c});if(b||!e.idToken&&!e.accessToken)if(b&&e.oauthToken&&e.oauthTokenSecret)P(this,"accessToken",e.oauthToken),P(this,"secret",e.oauthTokenSecret);else{if(b)throw new Q("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");throw new Q("argument-error","credential failed: expected 1 argument (the OAuth access token).")}else e.idToken&&P(this,"idToken",e.idToken),e.accessToken&&P(this,"accessToken",e.accessToken);P(this,"provider",a)};yf.prototype.zb=function(a){return zf(a,Af(this))};yf.prototype.Zc=function(a,b){var c=Af(this);c.idToken=b;return R(a,Bf,c)};var Af=function(a){var b={};a.idToken&&(b.id_token=a.idToken);a.accessToken&&(b.access_token=a.accessToken);a.secret&&(b.oauth_token_secret=a.secret);b.providerId=a.provider;return{postBody:df(b).toString(),requestUri:window.location.href}};yf.prototype.P=function(){var a={provider:this.provider};this.idToken&&(a.oauthIdToken=this.idToken);this.accessToken&&(a.oauthAccessToken=this.accessToken);this.secret&&(a.oauthTokenSecret=this.secret);return a};var Cf=function(a,b){var c=!!b,d=function(){qf(this,{providerId:a,isOAuthProvider:!0});this.wc=[]};c||(d.prototype.addScope=function(a){Ia(this.wc,a)||this.wc.push(a)});d.prototype.Ab=function(){return Oa(this.wc)};d.credential=function(b,d){return new yf(a,c,b,d)};qf(d,{PROVIDER_ID:a});return d},Df=Cf("facebook.com");Df.prototype.addScope=Df.prototype.addScope||void 0;var Ef=Cf("github.com");Ef.prototype.addScope=Ef.prototype.addScope||void 0;var Ff=Cf("google.com");Ff.prototype.addScope=Ff.prototype.addScope||void 0;Ff.credential=function(a,b){if(!a&&!b)throw new Q("argument-error","credential failed: must provide the ID token and/or the access token.");return new yf("google.com",!1,ha(a)?a:{idToken:a||null,accessToken:b||null})};var Gf=Cf("twitter.com",!0),Hf=function(a,b){this.ub=a;this.pc=b;P(this,"provider","password")};Hf.prototype.zb=function(a){return R(a,If,{email:this.ub,password:this.pc})};Hf.prototype.Zc=function(a,b){return R(a,Jf,{idToken:b,email:this.ub,password:this.pc})};Hf.prototype.P=function(){return{email:this.ub,password:this.pc}};var Kf=function(){qf(this,{providerId:"password",isOAuthProvider:!1})};qf(Kf,{PROVIDER_ID:"password"});var Lf={Be:Kf,vd:Df,xd:Ff,wd:Ef,Bd:Gf},Mf=function(a){var b=a&&a.providerId;if(!b)return null;var c=a&&a.oauthAccessToken,d=a&&a.oauthTokenSecret;a=a&&a.oauthIdToken;for(var e in Lf)if(Lf[e].PROVIDER_ID==b)try{return Lf[e].credential({accessToken:c,idToken:a,oauthToken:c,oauthTokenSecret:d})}catch(f){break}return null};var Nf=function(a,b,c){Q.call(this,"account-exists-with-different-credential",c);P(this,"email",a);P(this,"credential",b)};q(Nf,Q);Nf.prototype.P=function(){var a={code:this.code,message:this.message,email:this.email},b=this.credential&&this.credential.P();b&&(Xa(a,b),a.providerId=b.provider,delete a.provider);return a};var S=function(a,b,c){this.u=a;a=b||{};this.qe=a.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token";this.se=a.secureTokenTimeout||1e4;this.re=Va(a.secureTokenHeaders||Of);this.Nd=a.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/";this.Od=a.firebaseTimeout||1e4;this.Oc=Va(a.firebaseHeaders||Pf);c&&(this.Oc["X-Client-Version"]=c);this.Fd=new yc},Qf,Of={"Content-Type":"application/x-www-form-urlencoded"},Pf={"Content-Type":"application/json"},Sf=function(a,b,c,d,e,f,g){!y||!pb||9<pb?a=p(a.ue,a):(Qf||(Qf=new G(function(a,b){Rf(a,b)})),a=p(a.te,a));a(b,c,d,e,f,g)};S.prototype.ue=function(a,b,c,d,e,f){var g=new L(this.Fd),h;f&&(g.Ua=Math.max(0,f),h=setTimeout(function(){g.dispatchEvent("timeout")},f));Zb(g,"complete",function(){h&&clearTimeout(h);var a=null;try{var c;c=this.a?mc(this.a.responseText):void 0;a=c||null}catch(d){try{a=JSON.parse(Me(this))||null}catch(e){a=null}}b&&b(a)});fc(g,"ready",function(){h&&clearTimeout(h);this.sa||(this.sa=!0,this.Ha())});fc(g,"timeout",function(){h&&clearTimeout(h);this.sa||(this.sa=!0,this.Ha());b&&b(null)});g.send(a,c,d,e)};var Tf="__fcb"+Math.floor(1e6*Math.random()).toString(),Rf=function(a,b){((window.gapi||{}).client||{}).request?a():(l[Tf]=function(){((window.gapi||{}).client||{}).request?a():b(Error("CORS_UNSUPPORTED"))},Pd(Xd("https://apis.google.com/js/client.js?onload="+Tf),function(){b(Error("CORS_UNSUPPORTED"))}))};S.prototype.te=function(a,b,c,d,e){var f=this;Qf.then(function(){window.gapi.client.setApiKey(f.u);var g=window.gapi.auth.getToken();window.gapi.auth.setToken(null);window.gapi.client.request({path:a,method:c,body:d,headers:e,authType:"none",callback:function(a){window.gapi.auth.setToken(g);b&&b(a)}})}).M(function(a){b&&b({error:{message:a&&a.message||"CORS_UNSUPPORTED"}})})};var Vf=function(a,b){return new G(function(c,d){"refresh_token"==b.grant_type&&b.refresh_token||"authorization_code"==b.grant_type&&b.code?Sf(a,a.qe+"?key="+encodeURIComponent(a.u),function(a){a?a.error?d(Uf(a)):a.access_token&&a.refresh_token?c(a):d(new Q("internal-error")):d(new Q("network-request-failed"))},"POST",df(b).toString(),a.re,a.se):d(new Q("internal-error"))})},Wf=function(a){var b={},c;for(c in a)null!==a[c]&&void 0!==a[c]&&(b[c]=a[c]);return pc(b)},Xf=function(a,b,c,d,e){var f=a.Nd+b+"?key="+encodeURIComponent(a.u);e&&(f+="&cb="+la().toString());return new G(function(b,e){Sf(a,f,function(a){a?a.error?e(Uf(a)):b(a):e(new Q("network-request-failed"))},c,Wf(d),a.Oc,a.Od)})},Yf=function(a){if(!lc.test(a.email))throw new Q("invalid-email")},Zf=function(a){"email"in a&&Yf(a)},ag=function(a,b){return R(a,$f,{identifier:b,continueUri:mf()?window.location.href:"http://localhost"}).then(function(a){return a.allProviders||[]})},cg=function(a){return R(a,bg,{}).then(function(a){return a.authorizedDomains||[]})},dg=function(a){if(!a.idToken)throw new Q("internal-error")};S.prototype.signInAnonymously=function(){return R(this,eg,{})};S.prototype.updateEmail=function(a,b){return R(this,fg,{idToken:a,email:b})};S.prototype.updatePassword=function(a,b){return R(this,Jf,{idToken:a,password:b})};var gg={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};S.prototype.updateProfile=function(a,b){var c={idToken:a},d=[];Qa(gg,function(a,f){var g=b[f];null===g?d.push(a):f in b&&(c[f]=g)});d.length&&(c.deleteAttribute=d);return R(this,fg,c)};S.prototype.sendPasswordResetEmail=function(a){return R(this,hg,{requestType:"PASSWORD_RESET",email:a})};S.prototype.sendEmailVerification=function(a){return R(this,ig,{requestType:"VERIFY_EMAIL",idToken:a})};var kg=function(a,b,c){return R(a,jg,{idToken:b,deleteProvider:c})},lg=function(a){if(!a.requestUri||!a.sessionId&&!a.postBody)throw new Q("internal-error")},mg=function(a){if(a.needConfirmation)throw(a&&a.email?new Nf(a.email,Mf(a),a.message):null)||new Q("account-exists-with-different-credential");if(!a.idToken)throw new Q("internal-error")},zf=function(a,b){return R(a,ng,b)},og=function(a){if(!a.oobCode)throw new Q("invalid-action-code")};S.prototype.confirmPasswordReset=function(a,b){return R(this,pg,{oobCode:a,newPassword:b})};S.prototype.checkActionCode=function(a){return R(this,qg,{oobCode:a})};S.prototype.applyActionCode=function(a){return R(this,rg,{oobCode:a})};var rg={endpoint:"setAccountInfo",w:og,Ta:"email"},qg={endpoint:"resetPassword",w:og,ma:function(a){if(!lc.test(a.email))throw new Q("internal-error")}},sg={endpoint:"signupNewUser",w:function(a){Yf(a);if(!a.password)throw new Q("weak-password")},ma:dg,na:!0},$f={endpoint:"createAuthUri"},tg={endpoint:"deleteAccount",Sa:["idToken"]},jg={endpoint:"setAccountInfo",Sa:["idToken","deleteProvider"],w:function(a){if(!ea(a.deleteProvider))throw new Q("internal-error")}},ug={endpoint:"getAccountInfo"},ig={endpoint:"getOobConfirmationCode",Sa:["idToken","requestType"],w:function(a){if("VERIFY_EMAIL"!=a.requestType)throw new Q("internal-error")},Ta:"email"},hg={endpoint:"getOobConfirmationCode",Sa:["requestType"],w:function(a){if("PASSWORD_RESET"!=a.requestType)throw new Q("internal-error");Yf(a)},Ta:"email"},bg={Ed:!0,endpoint:"getProjectConfig",Wd:"GET"},pg={endpoint:"resetPassword",w:og,Ta:"email"},fg={endpoint:"setAccountInfo",Sa:["idToken"],w:Zf,na:!0},Jf={endpoint:"setAccountInfo",Sa:["idToken"],w:function(a){Zf(a);if(!a.password)throw new Q("weak-password")},ma:dg,na:!0},eg={endpoint:"signupNewUser",ma:dg,na:!0},ng={endpoint:"verifyAssertion",w:lg,ma:mg,na:!0},Bf={endpoint:"verifyAssertion",w:function(a){lg(a);if(!a.idToken)throw new Q("internal-error")},ma:mg,na:!0},vg={endpoint:"verifyCustomToken",w:function(a){if(!a.token)throw new Q("invalid-custom-token")},ma:dg,na:!0},If={endpoint:"verifyPassword",w:function(a){Yf(a);if(!a.password)throw new Q("wrong-password")},ma:dg,na:!0},R=function(a,b,c){if(!sf(c,b.Sa))return I(new Q("internal-error"));var d=b.Wd||"POST",e;return H(c).then(b.w).then(function(){b.na&&(c.returnSecureToken=!0);return Xf(a,b.endpoint,d,c,b.Ed||!1)}).then(function(a){return e=a}).then(b.ma).then(function(){if(!b.Ta)return e;if(!(b.Ta in e))throw new Q("internal-error");return e[b.Ta]})},Uf=function(a){var b;b=(a.error&&a.error.errors&&a.error.errors[0]||{}).reason||"";var c={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(b=c[b]?new Q(c[b]):null)return b;a=a.error&&a.error.message||"";b={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",EMAIL_NOT_FOUND:"user-not-found",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported"};if(b[a])return new Q(b[a]);b={TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed"};for(var d in b)if(0===a.indexOf(d))return new Q(b[d]);return new Q("internal-error")};var wg=function(a){this.J=a};wg.prototype.value=function(){return this.J};wg.prototype.od=function(a){this.J.style=a;return this};var xg=function(a){this.J=a||{}};xg.prototype.value=function(){return this.J};xg.prototype.od=function(a){this.J.style=a;return this};var zg=function(a){this.Ae=a;this.jc=null;this.ke=yg(this)},Ag,Bg=function(a){var b=new xg;b.J.where=document.body;b.J.url=a.Ae;b.J.messageHandlersFilter=lf("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER");b.J.attributes=b.J.attributes||{};new wg(b.J.attributes).od({position:"absolute",top:"-100px",width:"1px",height:"1px"});b.J.dontclear=!0;return b},yg=function(a){return Cg().then(function(){return new G(function(b){lf("gapi.iframes.getContext")().open(Bg(a).value(),function(c){a.jc=c;a.jc.restyle({setHideOnLeave:!1});b()})})})},Dg=function(a,b){a.ke.then(function(){a.jc.register("authEvent",b,lf("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})},Eg="__iframefcb"+Math.floor(1e6*Math.random()).toString(),Cg=function(){return Ag?Ag:Ag=new G(function(a,b){var c=function(){lf("gapi.load")("gapi.iframes",function(){a()})};lf("gapi.iframes.Iframe")?a():lf("gapi.load")?c():(l[Eg]=function(){lf("gapi.load")?c():b()},Pd(Xd("https://apis.google.com/js/api.js?onload="+Eg),function(){b()}))})};var Gg=function(a,b,c,d){this.S=a;this.u=b;this.R=c;d=this.ra=d||null;a=$e(a,"/__/auth/iframe");O(a,"apiKey",b);O(a,"appName",c);d&&O(a,"v",d);this.Yd=a.toString();this.Zd=new zg(this.Yd);this.Yb=[];Fg(this)},Hg=function(a,b,c,d,e,f,g,h,r){a=$e(a,"/__/auth/handler");O(a,"apiKey",b);O(a,"appName",c);O(a,"authType",d);O(a,"providerId",e);f&&f.length&&O(a,"scopes",f.join(","));g&&O(a,"redirectUrl",g);h&&O(a,"eventId",h);r&&O(a,"v",r);return a.toString()},Fg=function(a){Dg(a.Zd,function(b){var c={};if(b&&b.authEvent){var d=!1;b=b.authEvent||{};if(b.type){if(c=b.error)var e=(c=b.error)&&(c.name||c.code),c=e?new Q(e.substring(5),c.message):null;b=new wf(b.type,b.eventId,b.urlResponse,b.sessionId,c)}else b=null;for(c=0;c<a.Yb.length;c++)d=a.Yb[c](b)||d;c={};c.status=d?"ACK":"ERROR";return H(c)}c.status="ERROR";return H(c)})};Gg.prototype.Cc=function(a){this.Yb.push(a)};var Ig=function(a){this.Gb=a};Ig.prototype.set=function(a,b){void 0!==b?this.Gb.set(a,pc(b)):this.Gb.remove(a)};Ig.prototype.get=function(a){var b;try{b=this.Gb.get(a)}catch(c){return}if(null!==b)try{return mc(b)}catch(c){throw"Storage: Invalid value was encountered"}};Ig.prototype.remove=function(a){this.Gb.remove(a)};var Jg=function(){};var Kg=function(){};q(Kg,Jg);Kg.prototype.yb=function(){var a=0;ce(this.Xa(!0),function(b){Aa(b);a++});return a};var Lg=function(a){this.L=a};q(Lg,Kg);var Mg=function(a){if(!a.L)return!1;try{return a.L.setItem("__sak","1"),a.L.removeItem("__sak"),!0}catch(b){return!1}};k=Lg.prototype;k.set=function(a,b){try{this.L.setItem(a,b)}catch(c){if(0==this.L.length)throw"Storage mechanism: Storage disabled";throw"Storage mechanism: Quota exceeded"}};k.get=function(a){a=this.L.getItem(a);if(!m(a)&&null!==a)throw"Storage mechanism: Invalid value was encountered";return a};k.remove=function(a){this.L.removeItem(a)};k.yb=function(){return this.L.length};k.Xa=function(a){var b=0,c=this.L,d=new ae;d.next=function(){if(b>=c.length)throw $d;var d=Aa(c.key(b++));if(a)return d;d=c.getItem(d);if(!m(d))throw"Storage mechanism: Invalid value was encountered";return d};return d};k.key=function(a){return this.L.key(a)};var Ng=function(){var a=null;try{a=window.localStorage||null}catch(b){}this.L=a};q(Ng,Lg);var Og=function(){var a=null;try{a=window.sessionStorage||null}catch(b){}this.L=a};q(Og,Lg);var Pg="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" "),T=function(a,b){return{name:a||"",Y:"a valid string",optional:!!b,Z:m}},Qg=function(a){return{name:a||"",Y:"a valid object",optional:!1,Z:ha}},Rg=function(a,b){return{name:a||"",Y:"a function",optional:!!b,Z:n}},Sg=function(){return{name:"",Y:"null",optional:!1,Z:da}},Tg=function(){return{name:"credential",Y:"a valid credential",optional:!1,Z:function(a){return!(!a||!a.zb)}}},Ug=function(){return{name:"authProvider",Y:"a valid Auth provider",optional:!1,Z:function(a){return!!(a&&a.providerId&&a.hasOwnProperty&&a.hasOwnProperty("isOAuthProvider"))}}},Vg=function(a,b,c,d){return{name:c||"",Y:a.Y+" or "+b.Y,optional:!!d,Z:function(c){return a.Z(c)||b.Z(c)}}};var Xg=function(a,b){for(var c in b){var d=b[c].name;a[d]=Wg(d,a[c],b[c].b)}},U=function(a,b,c,d){a[b]=Wg(b,c,d)},Wg=function(a,b,c){if(!c)return b;var d=Yg(a);a=function(){var a=Array.prototype.slice.call(arguments),e;a:{e=Array.prototype.slice.call(a);var h;h=0;for(var r=!1,Z=0;Z<c.length;Z++)if(c[Z].optional)r=!0;else{if(r)throw new Q("internal-error","Argument validator encountered a required argument after an optional argument.");h++}r=c.length;if(e.length<h||r<e.length)e="Expected "+(h==r?1==h?"1 argument":h+" arguments":h+"-"+r+" arguments")+" but got "+e.length+".";else{for(h=0;h<e.length;h++)if(r=c[h].optional&&void 0===e[h],!c[h].Z(e[h])&&!r){e=c[h];if(0>h||h>=Pg.length)throw new Q("internal-error","Argument validator received an unsupported number of arguments.");e=Pg[h]+" argument "+(e.name?'"'+e.name+'" ':"")+"must be "+e.Y+".";break a}e=null}}if(e)throw new Q("argument-error",d+" failed: "+e);return b.apply(this,a)};for(var e in b)a[e]=b[e];for(e in b.prototype)a.prototype[e]=b.prototype[e];return a},Yg=function(a){a=a.split(".");return a[a.length-1]};var ah=function(a,b,c){var d=(this.ra=firebase.SDK_VERSION||null)?kf(this.ra):null;this.c=new S(b,null,d);this.Na=null;this.S=a;this.u=b;this.R=c;this.pb=[];this.Vc=!1;this.Dd=p(this.Qd,this);this.nb=new Zg;this.fd=new $g;this.Va={};this.Va.unknown=this.nb;this.Va.signInViaRedirect=this.nb;this.Va.linkViaRedirect=this.nb;this.Va.signInViaPopup=this.fd;this.Va.linkViaPopup=this.fd},bh=function(a){var b=window.location.href;return cg(a).then(function(a){a:{for(var d=(b instanceof Ne?b.clone():new Ne(b,void 0)).ja,e=0;e<a.length;e++){var f;var g=a[e];f=d;var h=Rc(g);h?f=(f=Rc(f))?h.vb(f):!1:(h=g.split(".").join("\\."),f=new RegExp("^(.+."+h+"|"+h+")$","i").test(f));if(f){a=!0;break a}}a=!1}if(!a)throw new Q("unauthorized-domain")})},ch=function(a){a.Vc=!0;hf().then(function(){a.Xd=new Gg(a.S,a.u,a.R,a.ra);a.Xd.Cc(a.Dd)})};ah.prototype.subscribe=function(a){Ia(this.pb,a)||this.pb.push(a);this.Vc||ch(this)};ah.prototype.unsubscribe=function(a){La(this.pb,function(b){return b==a})};ah.prototype.Qd=function(a){if(!a)throw new Q("invalid-auth-event");for(var b=!1,c=0;c<this.pb.length;c++){var d=this.pb[c];if(d.Hc(a.qa,a.ta)){(b=this.Va[a.qa])&&b.gd(a,d);b=!0;break}}a=this.nb;a.tc||(a.tc=!0,dh(a,!1,null,null));return b};ah.prototype.getRedirectResult=function(){return this.nb.getRedirectResult()};var fh=function(a,b,c,d,e){if(!b)return I(new Q("popup-blocked"));a.Na||(a.Na=bh(a.c));return a.Na.then(function(){eh(d);var f=Hg(a.S,a.u,a.R,c,d.providerId,d.Ab(),null,e,a.ra);Gb((b||window).location,f);return b})},gh=function(a,b,c,d){a.Na||(a.Na=bh(a.c));return a.Na.then(function(){eh(c);var e=Hg(a.S,a.u,a.R,b,c.providerId,c.Ab(),window.location.href,d,a.ra);Gb(window.location,e)})},hh=function(a,b,c,d){var e=new Q("popup-closed-by-user");return gf(c).then(function(){return we(3e4).then(function(){a.Ca(b,null,e,d)})})},eh=function(a){if(!a.isOAuthProvider)throw new Q("invalid-oauth-provider")},ih={},jh=function(a,b,c){var d=b+":"+c;ih[d]||(ih[d]=new ah(a,b,c));return ih[d]},Zg=function(){this.uc=this.Mb=this.Qa=this.X=null;this.tc=!1};Zg.prototype.gd=function(a,b){if(!a)return I(new Q("invalid-auth-event"));this.tc=!0;var c=a.qa,d=a.ta;"unknown"==c?(this.X||dh(this,!1,null,null),c=H()):c=a.D?this.rc(a,b):b.ab(c,d)?this.sc(a,b):I(new Q("invalid-auth-event"));return c};Zg.prototype.rc=function(a){this.X||dh(this,!0,null,a.getError());return H()};Zg.prototype.sc=function(a,b){var c=this,d=a.qa,e=b.ab(d,a.ta),f=a.Wa,g=a.hc(),h="signInViaRedirect"==d||"linkViaRedirect"==d;return e(f,g).then(function(a){c.X||dh(c,h,a,null)}).M(function(a){c.X||dh(c,h,null,a)})};var dh=function(a,b,c,d){b?d?(a.X=function(){return I(d)},a.Mb&&a.Mb(d)):(a.X=function(){return H(c)},a.Qa&&a.Qa(c)):(a.X=function(){return H({user:null})},a.Qa&&a.Qa({user:null}));a.Qa=null;a.Mb=null};Zg.prototype.getRedirectResult=function(){var a=this;this.Fc||(this.Fc=new G(function(b,c){a.X?a.X().then(b,c):(a.Qa=b,a.Mb=c,kh(a))}));return this.Fc};var kh=function(a){var b=new Q("timeout");a.uc&&a.uc.cancel();a.uc=we(3e4).then(function(){a.X||dh(a,!0,null,b)})},$g=function(){};$g.prototype.gd=function(a,b){if(!a)return I(new Q("invalid-auth-event"));var c=a.qa,d=a.ta;return a.D?this.rc(a,b):b.ab(c,d)?this.sc(a,b):I(new Q("invalid-auth-event"))};$g.prototype.rc=function(a,b){b.Ca(a.qa,null,a.getError(),a.ta);return H()};$g.prototype.sc=function(a,b){var c=a.ta,d=a.qa,e=b.ab(d,c),f=a.Wa,g=a.hc();return e(f,g).then(function(a){b.Ca(d,a,null,c)}).M(function(a){b.Ca(d,null,a,c)})};var lh=function(a){this.c=a;this.Fa=this.da=null;this.Ia=0};lh.prototype.P=function(){return{apiKey:this.c.u,refreshToken:this.da,accessToken:this.Fa,expirationTime:this.Ia}};var nh=function(a,b){var c=b.idToken,d=b.refreshToken,e=mh(b.expiresIn);a.Fa=c;a.Ia=e;a.da=d},mh=function(a){return la()+1e3*parseInt(a,10)},oh=function(a,b){return Vf(a.c,b).then(function(b){a.Fa=b.access_token;a.Ia=mh(b.expires_in);a.da=b.refresh_token;return{accessToken:a.Fa,expirationTime:a.Ia,refreshToken:a.da}})};lh.prototype.getToken=function(a){return a||!this.Fa||la()>this.Ia-3e4?this.da?oh(this,{grant_type:"refresh_token",refresh_token:this.da}):H(null):H({accessToken:this.Fa,expirationTime:this.Ia,refreshToken:this.da})};var ph=function(a,b,c,d,e){qf(this,{uid:a,displayName:d||null,photoURL:e||null,email:c||null,providerId:b})},qh=function(a,b){Lb.call(this,a);for(var c in b)this[c]=b[c]};q(qh,Lb);var V=function(a,b,c){this.O=[];this.u=a.apiKey;this.R=a.appName;this.S=a.authDomain||null;a=firebase.SDK_VERSION?kf(firebase.SDK_VERSION):null;this.c=new S(this.u,null,a);this.pa=new lh(this.c);rh(this,b.idToken);nh(this.pa,b);P(this,"refreshToken",this.pa.da);sh(this,c||{});J.call(this);this.Jb=!1;this.S&&mf()&&(this.s=jh(this.S,this.u,this.R));this.Pb=[]};q(V,J);var rh=function(a,b){a.Xc=b;P(a,"_lat",b)},th=function(a,b){La(a.Pb,function(a){return a==b})},uh=function(a){for(var b=[],c=0;c<a.Pb.length;c++)b.push(a.Pb[c](a));return ud(b).then(function(){return a})},vh=function(a){a.s&&!a.Jb&&(a.Jb=!0,a.s.subscribe(a))},sh=function(a,b){qf(a,{uid:b.uid,displayName:b.displayName||null,photoURL:b.photoURL||null,email:b.email||null,emailVerified:b.emailVerified||!1,isAnonymous:b.isAnonymous||!1,providerData:[]})};P(V.prototype,"providerId","firebase");var wh=function(){},xh=function(a){return H().then(function(){if(a.Id)throw new Q("app-deleted")})},yh=function(a){return Ea(a.providerData,function(a){return a.providerId})},Ah=function(a,b){b&&(zh(a,b.providerId),a.providerData.push(b))},zh=function(a,b){La(a.providerData,function(a){return a.providerId==b})},Bh=function(a,b,c){("uid"!=b||c)&&a.hasOwnProperty(b)&&P(a,b,c)};V.prototype.copy=function(a){var b=this;b!=a&&(qf(this,{uid:a.uid,displayName:a.displayName,photoURL:a.photoURL,email:a.email,emailVerified:a.emailVerified,isAnonymous:a.isAnonymous,providerData:[]}),w(a.providerData,function(a){Ah(b,a)}),this.pa=a.pa,P(this,"refreshToken",this.pa.da))};V.prototype.reload=function(){var a=this;return xh(this).then(function(){return Ch(a).then(function(){return uh(a)}).then(wh)})};var Ch=function(a){return a.getToken().then(function(b){var c=a.isAnonymous;return Dh(a,b).then(function(){c||Bh(a,"isAnonymous",!1);return b}).M(function(b){"auth/user-token-expired"==b.code&&(a.dispatchEvent(new qh("userDeleted")),Eh(a));throw b})})};V.prototype.getToken=function(a){var b=this;return xh(this).then(function(){return b.pa.getToken(a)}).then(function(a){if(!a)throw new Q("internal-error");a.accessToken!=b.Xc&&(rh(b,a.accessToken),b.ka());Bh(b,"refreshToken",a.refreshToken);return a.accessToken})};var Fh=function(a,b){b.idToken&&a.Xc!=b.idToken&&(nh(a.pa,b),a.ka(),rh(a,b.idToken))};V.prototype.ka=function(){this.dispatchEvent(new qh("tokenChanged"))};var Dh=function(a,b){return R(a.c,ug,{idToken:b}).then(p(a.me,a))};V.prototype.me=function(a){a=a.users;if(!a||!a.length)throw new Q("internal-error");a=a[0];sh(this,{uid:a.localId,displayName:a.displayName,photoURL:a.photoUrl,email:a.email,emailVerified:!!a.emailVerified});for(var b=Gh(a),c=0;c<b.length;c++)Ah(this,b[c]);Bh(this,"isAnonymous",!(this.email&&a.passwordHash)&&!(this.providerData&&this.providerData.length))};var Gh=function(a){return(a=a.providerUserInfo)&&a.length?Ea(a,function(a){return new ph(a.rawId,a.providerId,a.email,a.displayName,a.photoUrl)}):[]};V.prototype.reauthenticate=function(a){var b=this;return this.f(a.zb(this.c).then(function(a){var d;a:{var e=a.idToken.split(".");if(3==e.length){for(var e=e[1],f=(4-e.length%4)%4,g=0;g<f;g++)e+=".";try{var h=mc(tb(e));if(h.sub&&h.iss&&h.aud&&h.exp){d=new xf(h);break a}}catch(r){}}d=null}if(!d||b.uid!=d.fe)throw new Q("user-mismatch");Fh(b,a);return b.reload()}))};var Hh=function(a,b){return Ch(a).then(function(){if(Ia(yh(a),b))return uh(a).then(function(){throw new Q("provider-already-linked")})})};k=V.prototype;k.link=function(a){var b=this;return this.f(Hh(this,a.provider).then(function(){return b.getToken()}).then(function(c){return a.Zc(b.c,c)}).then(p(this.Nc,this)))};k.Nc=function(a){Fh(this,a);var b=this;return this.reload().then(function(){return b})};k.updateEmail=function(a){var b=this;return this.f(this.getToken().then(function(c){return b.c.updateEmail(c,a)}).then(function(a){Fh(b,a);return b.reload()}))};k.updatePassword=function(a){var b=this;return this.f(this.getToken().then(function(c){return b.c.updatePassword(c,a)}).then(function(a){Fh(b,a);return b.reload()}))};k.updateProfile=function(a){if(void 0===a.displayName&&void 0===a.photoURL)return xh(this);var b=this;return this.f(this.getToken().then(function(c){return b.c.updateProfile(c,{displayName:a.displayName,photoUrl:a.photoURL})}).then(function(a){Fh(b,a);Bh(b,"displayName",a.displayName||null);Bh(b,"photoURL",a.photoUrl||null);return uh(b)}).then(wh))};k.unlink=function(a){var b=this;return this.f(Ch(this).then(function(c){return Ia(yh(b),a)?kg(b.c,c,[a]).then(function(a){var c={};w(a.providerUserInfo||[],function(a){c[a.providerId]=!0});w(yh(b),function(a){c[a]||zh(b,a)});return uh(b)}):uh(b).then(function(){throw new Q("no-such-provider")})}))};k["delete"]=function(){var a=this;return this.f(this.getToken().then(function(b){
return R(a.c,tg,{idToken:b})}).then(function(){a.dispatchEvent(new qh("userDeleted"))})).then(function(){Eh(a)})};k.Hc=function(a,b){return"linkViaPopup"==a&&(this.ba||null)==b&&this.V||"linkViaRedirect"==a&&(this.Lb||null)==b?!0:!1};k.Ca=function(a,b,c,d){"linkViaPopup"==a&&d==(this.ba||null)&&(c&&this.ya?this.ya(c):b&&!c&&this.V&&this.V(b),this.za&&(this.za.cancel(),this.za=null),delete this.V,delete this.ya)};k.ab=function(a,b){return"linkViaPopup"==a&&b==(this.ba||null)||"linkViaRedirect"==a&&(this.Lb||null)==b?p(this.Ld,this):null};k.xb=function(){return this.uid+":::"+Math.floor(1e9*Math.random()).toString()};k.linkWithPopup=function(a){if(!mf())return I(new Q("operation-not-supported-in-this-environment"));var b=this,c=uf(a.providerId),d=this.xb(),e=null;!nf()&&this.S&&a.isOAuthProvider&&(e=Hg(this.S,this.u,this.R,"linkViaPopup",a.providerId,a.Ab(),null,d,firebase.SDK_VERSION||null));var f=ff(e,c&&c.mb,c&&c.lb),c=Hh(this,a.providerId).then(function(){return uh(b)}).then(function(){b.Ka();return b.getToken()}).then(function(){return e?f:fh(b.s,f,"linkViaPopup",a,d)}).then(function(a){return new G(function(c,e){b.Ca("linkViaPopup",null,new Q("cancelled-popup-request"),b.ba||null);b.V=c;b.ya=e;b.ba=d;b.za=hh(b,"linkViaPopup",a,d)})}).then(function(a){f&&(f||window).close();return a}).M(function(a){f&&(f||window).close();throw a});return this.f(c)};k.linkWithRedirect=function(a){if(!mf())return I(new Q("operation-not-supported-in-this-environment"));var b=this,c=null,d=this.xb(),e=Hh(this,a.providerId).then(function(){b.Ka();return b.getToken()}).then(function(){b.Lb=d;return uh(b)}).then(function(a){b.Aa&&(a=b.u+":"+b.R,a=Ih(b.Aa,Jh,b.P(),a));return a}).then(function(){return gh(b.s,"linkViaRedirect",a,d)}).M(function(a){c=a;if(b.Aa)return Kh(b.Aa,Jh,b.u+":"+b.R);throw c}).then(function(){if(c)throw c});return this.f(e)};k.Ka=function(){if(this.s&&this.Jb)return this.s;if(this.s&&!this.Jb)throw new Q("internal-error");throw new Q("auth-domain-config-required")};k.Ld=function(a,b){var c=this,d=null,e=this.getToken().then(function(d){return R(c.c,Bf,{requestUri:a,sessionId:b,idToken:d})}).then(function(a){d=Mf(a);return c.Nc(a)}).then(function(a){return{user:a,credential:d}});return this.f(e)};k.sendEmailVerification=function(){var a=this;return this.f(this.getToken().then(function(b){return a.c.sendEmailVerification(b)}).then(function(b){if(a.email!=b)return a.reload()}).then(function(){}))};var Eh=function(a){for(var b=0;b<a.O.length;b++)a.O[b].cancel("app-deleted");a.O=[];a.Id=!0;P(a,"refreshToken",null);a.s&&a.s.unsubscribe(a)};V.prototype.f=function(a){var b=this;this.O.push(a);xd(a,function(){Ka(b.O,a)});return a};V.prototype.P=function(){var a={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,isAnonymous:this.isAnonymous,providerData:[],apiKey:this.u,appName:this.R,authDomain:this.S,stsTokenManager:this.pa.P(),redirectEventId:this.Lb||null};w(this.providerData,function(b){a.providerData.push(rf(b))});return a};var Lh=function(a){if(!a.apiKey)return null;var b={apiKey:a.apiKey,authDomain:a.authDomain,appName:a.appName},c={};if(a.stsTokenManager&&a.stsTokenManager.accessToken&&a.stsTokenManager.refreshToken&&a.stsTokenManager.expirationTime)c.idToken=a.stsTokenManager.accessToken,c.refreshToken=a.stsTokenManager.refreshToken,c.expiresIn=(a.stsTokenManager.expirationTime-la())/1e3;else return null;var d=new V(b,c,a);a.providerData&&w(a.providerData,function(a){if(a){var b={};qf(b,a);Ah(d,b)}});a.redirectEventId&&(d.Lb=a.redirectEventId);return d},Mh=function(a,b,c){var d=new V(a,b);c&&(d.Aa=c);return d.reload().then(function(){return d})};var Nh,Oh=function(a,b,c,d,e,f){this.Hd=a;this.nc=b;this.cc=c;this.td=d;this.ga=e;this.H={};this.ob=[];this.kb=0;this.$d=f||l.indexedDB},Ph=function(a){return new G(function(b,c){var d=a.$d.open(a.Hd,a.ga);d.onerror=function(a){c(Error(a.target.errorCode))};d.onupgradeneeded=function(b){b=b.target.result;try{b.createObjectStore(a.nc,{keyPath:a.cc})}catch(d){c(d)}};d.onsuccess=function(a){b(a.target.result)}})},Qh=function(a){a.Uc||(a.Uc=Ph(a));return a.Uc},Rh=function(a,b){return b.objectStore(a.nc)},Sh=function(a,b,c){return b.transaction([a.nc],c?"readwrite":"readonly")},Th=function(a){return new G(function(b,c){a.onsuccess=function(a){a&&a.target?b(a.target.result):b()};a.onerror=function(a){c(Error(a.target.errorCode))}})};Oh.prototype.set=function(a,b){var c=!1,d,e=this;return xd(Qh(this).then(function(b){d=b;b=Rh(e,Sh(e,d,!0));return Th(b.get(a))}).then(function(f){var g=Rh(e,Sh(e,d,!0));if(f)return f.value=b,Th(g.put(f));e.kb++;c=!0;f={};f[e.cc]=a;f[e.td]=b;return Th(g.add(f))}).then(function(){e.H[a]=b}),function(){c&&e.kb--})};Oh.prototype.get=function(a){var b=this;return Qh(this).then(function(c){return Th(Rh(b,Sh(b,c,!1)).get(a))})};Oh.prototype.remove=function(a){var b=!1,c=this;return xd(Qh(this).then(function(d){b=!0;c.kb++;return Th(Rh(c,Sh(c,d,!0))["delete"](a))}).then(function(){delete c.H[a]}),function(){b&&c.kb--})};Oh.prototype.we=function(){var a=this;return Qh(this).then(function(b){var c=Rh(a,Sh(a,b,!1));return c.getAll?Th(c.getAll()):new G(function(a,b){var f=[],g=c.openCursor();g.onsuccess=function(b){(b=b.target.result)?(f.push(b.value),b["continue"]()):a(f)};g.onerror=function(a){b(Error(a.target.errorCode))}})}).then(function(b){var c={},d=[];if(0==a.kb){for(d=0;d<b.length;d++)c[b[d][a.cc]]=b[d][a.td];d=ef(a.H,c);a.H=c}return d})};var Uh=function(a,b){La(a.ob,function(a){return a==b});0==a.ob.length&&a.Qb()};Oh.prototype.Ac=function(){var a=this;this.Qb();var b=function(){a.qc=we(1e3).then(p(a.we,a)).then(function(b){0<b.length&&w(a.ob,function(a){a(b)})}).then(b).M(function(a){"STOP_EVENT"!=a.message&&b()});return a.qc};b()};Oh.prototype.Qb=function(){this.qc&&this.qc.cancel("STOP_EVENT")};var Jh={name:"redirectUser",K:!1},Vh={name:"sessionId",K:!1},Wh={name:"authEvent",K:!0},Xh={name:"authUser",K:!0},Yh=function(a,b,c,d,e,f){this.ie=a;this.md=b;this.jb=d;this.pe=e;this.kd=f;if(!Mg(new Ng)||!Mg(new Og))throw new Q("web-storage-unsupported");this.G={};this.eb=c;this.$c=p(this.ad,this);this.Tc=p(this.ae,this);this.H={}},Zh,$h=function(){if(!Zh){Nh||(Nh=new Oh("firebaseLocalStorageDb","firebaseLocalStorage","fbase_key","value",1));var a=navigator.userAgent.toLowerCase();Zh=new Yh("firebase",":",Nh,y&&!!pb&&11==pb||/Edge\/\d+/.test($a),-1!=a.indexOf("safari")&&-1==a.indexOf("chrome")&&window!=window.top?!0:!1,nf())}return Zh},ai=function(a,b){var c;b?(a.ed||(c=new Ng,c=Mg(c)?c:null,a.ed=new Ig(c)),c=a.ed):(a.pd||(c=new Og,c=Mg(c)?c:null,a.pd=new Ig(c)),c=a.pd);return c};Yh.prototype.l=function(a,b){return this.ie+this.md+a.name+(b?this.md+b:"")};var bi=function(a,b,c){if(a.jb&&b.K)return a.eb.get(a.l(b,c)).then(function(a){return a&&a.value});var d=a.l(b,c);c=null;try{c=ai(a,b.K).get(d)}catch(e){if(a=(b.K?window.localStorage:window.sessionStorage).getItem(d),null===a)c=null;else try{c=JSON.parse(a)}catch(f){return I(e)}}return H(c)},Kh=function(a,b,c){if(a.jb&&b.K)return a.eb.remove(a.l(b,c));ai(a,b.K).remove(a.l(b,c));b.K&&(a.H[a.l(b,c)]=null);return H()},Ih=function(a,b,c,d){if(a.jb&&b.K)return a.eb.set(a.l(b,d),c);ai(a,b.K).set(a.l(b,d),c);b.K&&(a.H[a.l(b,d)]=window.localStorage.getItem(a.l(b,d)));return H()};Yh.prototype.hc=function(a){return bi(this,Vh,a)};Yh.prototype.Cc=function(a,b){ci(this,this.l(Wh,a),b)};var di=function(a,b,c){return bi(a,Xh,b).then(function(a){a&&c&&(a.authDomain=c);return Lh(a||{})})},ei=function(a,b,c){return bi(a,Jh,b).then(function(a){a&&c&&(a.authDomain=c);return Lh(a||{})})},ci=function(a,b,c){a.H[b]=window.localStorage.getItem(b);Ta(a.G)&&a.Ac();a.G[b]||(a.G[b]=[]);a.G[b].push(c)},fi=function(a,b,c){a.G[b]&&(La(a.G[b],function(a){return a==c}),0==a.G[b].length&&delete a.G[b]);Ta(a.G)&&a.Qb()};Yh.prototype.Ac=function(){if(this.jb){var a=this.eb,b=this.Tc;0==a.ob.length&&a.Ac();a.ob.push(b)}else Xb(window,"storage",this.$c),this.kd||gi(this)};var gi=function(a){hi(a);a.mc=setInterval(function(){for(var b in a.G){var c=window.localStorage.getItem(b);c!=a.H[b]&&(a.H[b]=c,c=new Mb({type:"storage",key:b,target:window,oldValue:a.H[b],newValue:c}),a.ad(c))}},2e3)},hi=function(a){a.mc&&(clearInterval(a.mc),a.mc=null)};Yh.prototype.Qb=function(){this.jb?Uh(this.eb,this.Tc):(gc(window,"storage",this.$c),this.kd||hi(this))};Yh.prototype.ad=function(a){var b=a.wb.key;if(this.pe){var c=window.localStorage.getItem(b);a=a.wb.newValue;a!=c&&(a?window.localStorage.setItem(b,a):a||window.localStorage.removeItem(b))}this.H[b]=window.localStorage.getItem(b);this.Gc(b)};Yh.prototype.ae=function(a){w(a,p(this.Gc,this))};Yh.prototype.Gc=function(a){this.G[a]&&w(this.G[a],function(a){a()})};var X=function(a){this.Lc=!1;P(this,"app",a);if(W(this).options&&W(this).options.apiKey)a=firebase.SDK_VERSION?kf(firebase.SDK_VERSION):null,this.c=new S(W(this).options&&W(this).options.apiKey,null,a);else throw new Q("invalid-api-key");this.O=[];this.Za=[];this.je=firebase.INTERNAL.createSubscribe(p(this.be,this));ii(this,null);this.Ba=this.fa=null;try{this.fa=$h(),this.Ba=$h(),this.B=ji(this)}catch(b){this.B=I(b)}this.gb=!1;this.Pc=p(this.ve,this);this.rd=p(this.La,this);this.sd=p(this.Vd,this);this.qd=p(this.Ud,this);ki(this);this.INTERNAL={};this.INTERNAL["delete"]=p(this["delete"],this)};X.prototype.Ka=function(){return this.Jd||I(new Q("auth-domain-config-required"))};var ki=function(a){var b=W(a).options.authDomain,c=W(a).options.apiKey;b&&mf()&&(a.Jd=a.B.then(function(){a.s=jh(b,c,W(a).name);a.s.subscribe(a);Y(a)&&vh(Y(a));a.vc&&(vh(a.vc),a.vc=null);return a.s}))};k=X.prototype;k.Hc=function(a,b){switch(a){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.ba==b&&!!this.V;default:return!1}};k.Ca=function(a,b,c,d){"signInViaPopup"==a&&this.ba==d&&(c&&this.ya?this.ya(c):b&&!c&&this.V&&this.V(b),this.za&&(this.za.cancel(),this.za=null),delete this.V,delete this.ya)};k.ab=function(a,b){return"signInViaRedirect"==a||"signInViaPopup"==a&&this.ba==b&&this.V?p(this.Md,this):null};k.Md=function(a,b){var c=this,d=null,e=zf(c.c,{requestUri:a,sessionId:b}).then(function(a){d=Mf(a);return a}),f=c.B.then(function(){return e}).then(function(a){return li(c,a)}).then(function(){return{user:Y(c),credential:d}});return this.f(f)};k.xb=function(){return Math.floor(1e9*Math.random()).toString()};k.signInWithPopup=function(a){if(!mf())return I(new Q("operation-not-supported-in-this-environment"));var b=this,c=uf(a.providerId),d=this.xb(),e=null;!nf()&&W(this).options.authDomain&&a.isOAuthProvider&&(e=Hg(W(this).options.authDomain,W(this).options.apiKey,W(this).name,"signInViaPopup",a.providerId,a.Ab(),null,d,firebase.SDK_VERSION||null));var f=ff(e,c&&c.mb,c&&c.lb),c=this.Ka().then(function(b){return e?f:fh(b,f,"signInViaPopup",a,d)}).then(function(a){return new G(function(c,e){b.Ca("signInViaPopup",null,new Q("cancelled-popup-request"),b.ba);b.V=c;b.ya=e;b.ba=d;b.za=hh(b,"signInViaPopup",a,d)})}).then(function(a){f&&(f||window).close();return a}).M(function(a){f&&(f||window).close();throw a});return this.f(c)};k.signInWithRedirect=function(a){if(!mf())return I(new Q("operation-not-supported-in-this-environment"));var b=this,c=this.Ka().then(function(){return gh(b.s,"signInViaRedirect",a)});return this.f(c)};k.getRedirectResult=function(){if(!mf())return I(new Q("operation-not-supported-in-this-environment"));var a=this,b=this.Ka().then(function(){return a.s.getRedirectResult()});return this.f(b)};var li=function(a,b){var c={};c.apiKey=W(a).options.apiKey;c.authDomain=W(a).options.authDomain;c.appName=W(a).name;return a.B.then(function(){return Mh(c,b,a.Ba)}).then(function(b){if(Y(a)&&b.uid==Y(a).uid)return Y(a).copy(b),a.La(b);ii(a,b);vh(b);return a.La(b)}).then(function(){a.ka()})},ii=function(a,b){Y(a)&&(th(Y(a),a.rd),gc(Y(a),"tokenChanged",a.sd),gc(Y(a),"userDeleted",a.qd));b&&(b.Pb.push(a.rd),Xb(b,"tokenChanged",a.sd),Xb(b,"userDeleted",a.qd));P(a,"currentUser",b)};X.prototype.signOut=function(){var a=this,b=this.B.then(function(){if(!Y(a))return H();ii(a,null);return Kh(a.fa,Xh,mi(a)).then(function(){a.ka()})});return this.f(b)};var ni=function(a){var b=mi(a),c=ei(a.Ba,b,W(a).options.authDomain).then(function(c){if(a.vc=c)c.Aa=a.Ba;return Kh(a.Ba,Jh,b)});return a.f(c)},ji=function(a){var b=mi(a),c=W(a).options.authDomain,d=xd(ni(a).then(function(){return di(a.fa,b,c)}).then(function(c){return c?(c.Aa=a.Ba,c.reload().then(function(){return c}).M(function(d){return"auth/network-request-failed"==d.code?c:Kh(a.fa,Xh,b)})):null}).then(function(b){ii(a,b||null);a.gb=!0;a.ka()}),function(){if(!a.Lc){a.gb=!0;var c=a.fa;ci(c,c.l(Xh,b),a.Pc)}});return a.f(d)};X.prototype.ve=function(){var a=this;return di(this.fa,mi(this),W(this).options.authDomain).then(function(b){var c;if(c=Y(a)&&b){c=Y(a).uid;var d=b.uid;c=void 0===c||null===c||""===c||void 0===d||null===d||""===d?!1:c==d}if(c)return Y(a).copy(b),Y(a).getToken();ii(a,b);b&&(vh(b),b.Aa=a.Ba);a.s.subscribe(a);a.ka()})};X.prototype.La=function(a){var b=mi(this);return Ih(this.fa,Xh,a.P(),b)};X.prototype.Vd=function(){this.gb=!0;this.ka();this.La(Y(this))};X.prototype.Ud=function(){this.signOut()};var oi=function(a,b){return a.f(b.then(function(b){return li(a,b)}).then(function(){return Y(a)}))};k=X.prototype;k.be=function(a){var b=this;this.addAuthTokenListener(function(){a.next(Y(b))})};k.onAuthStateChanged=function(a,b,c){var d=this;this.gb&&firebase.Promise.resolve().then(function(){n(a)?a(Y(d)):n(a.next)&&a.next(Y(d))});return this.je(a,b,c)};k.getToken=function(a){var b=this,c=this.B.then(function(){return Y(b)?Y(b).getToken(a).then(function(a){return{accessToken:a}}):null});return this.f(c)};k.signInWithCustomToken=function(a){var b=this;return this.B.then(function(){return oi(b,R(b.c,vg,{token:a}))}).then(function(a){Bh(a,"isAnonymous",!1);return b.La(a)}).then(function(){return Y(b)})};k.signInWithEmailAndPassword=function(a,b){var c=this;return this.B.then(function(){return oi(c,R(c.c,If,{email:a,password:b}))})};k.createUserWithEmailAndPassword=function(a,b){var c=this;return this.B.then(function(){return oi(c,R(c.c,sg,{email:a,password:b}))})};k.signInWithCredential=function(a){var b=this;return this.B.then(function(){return oi(b,a.zb(b.c))})};k.signInAnonymously=function(){var a=Y(this),b=this;return a&&a.isAnonymous?H(a):this.B.then(function(){return oi(b,b.c.signInAnonymously())}).then(function(a){Bh(a,"isAnonymous",!0);return b.La(a)}).then(function(){return Y(b)})};var mi=function(a){return W(a).options.apiKey+":"+W(a).name},W=function(a){return a.app},Y=function(a){return a.currentUser};k=X.prototype;k.ka=function(){for(var a=0;a<this.Za.length;a++)if(this.Za[a])this.Za[a](Y(this)&&Y(this)._lat||null)};k.addAuthTokenListener=function(a){this.Za.push(a);var b=this;this.gb&&this.B.then(function(){a(Y(b)&&Y(b)._lat||null)})};k.removeAuthTokenListener=function(a){La(this.Za,function(b){return b==a})};k["delete"]=function(){this.Lc=!0;for(var a=0;a<this.O.length;a++)this.O[a].cancel("app-deleted");this.O=[];this.fa&&(a=this.fa,fi(a,a.l(Xh,mi(this)),this.Pc));this.s&&this.s.unsubscribe(this)};k.f=function(a){var b=this;this.O.push(a);xd(a,function(){Ka(b.O,a)});return a};k.fetchProvidersForEmail=function(a){return this.f(ag(this.c,a))};k.verifyPasswordResetCode=function(a){return this.checkActionCode(a).then(function(a){return a.data.email})};k.confirmPasswordReset=function(a,b){return this.f(this.c.confirmPasswordReset(a,b).then(function(){}))};k.checkActionCode=function(a){return this.f(this.c.checkActionCode(a).then(function(a){return{data:{email:a.email}}}))};k.applyActionCode=function(a){return this.f(this.c.applyActionCode(a).then(function(){}))};k.sendPasswordResetEmail=function(a){return this.f(this.c.sendPasswordResetEmail(a).then(function(){}))};Xg(X.prototype,{applyActionCode:{name:"applyActionCode",b:[T("code")]},checkActionCode:{name:"checkActionCode",b:[T("code")]},confirmPasswordReset:{name:"confirmPasswordReset",b:[T("code"),T("newPassword")]},createUserWithEmailAndPassword:{name:"createUserWithEmailAndPassword",b:[T("email"),T("password")]},fetchProvidersForEmail:{name:"fetchProvidersForEmail",b:[T("email")]},getRedirectResult:{name:"getRedirectResult",b:[]},onAuthStateChanged:{name:"onAuthStateChanged",b:[Vg(Qg(),Rg(),"nextOrObserver"),Rg("opt_error",!0),Rg("opt_completed",!0)]},sendPasswordResetEmail:{name:"sendPasswordResetEmail",b:[T("email")]},signInAnonymously:{name:"signInAnonymously",b:[]},signInWithCredential:{name:"signInWithCredential",b:[Tg()]},signInWithCustomToken:{name:"signInWithCustomToken",b:[T("token")]},signInWithEmailAndPassword:{name:"signInWithEmailAndPassword",b:[T("email"),T("password")]},signInWithPopup:{name:"signInWithPopup",b:[Ug()]},signInWithRedirect:{name:"signInWithRedirect",b:[Ug()]},signOut:{name:"signOut",b:[]},verifyPasswordResetCode:{name:"verifyPasswordResetCode",b:[T("code")]}});Xg(V.prototype,{"delete":{name:"delete",b:[]},getToken:{name:"getToken",b:[{name:"opt_forceRefresh",Y:"a boolean",optional:!0,Z:function(a){return"boolean"==typeof a}}]},link:{name:"link",b:[Tg()]},linkWithPopup:{name:"linkWithPopup",b:[Ug()]},linkWithRedirect:{name:"linkWithRedirect",b:[Ug()]},reauthenticate:{name:"reauthenticate",b:[Tg()]},reload:{name:"reload",b:[]},sendEmailVerification:{name:"sendEmailVerification",b:[]},unlink:{name:"unlink",b:[T("provider")]},updateEmail:{name:"updateEmail",b:[T("email")]},updatePassword:{name:"updatePassword",b:[T("password")]},updateProfile:{name:"updateProfile",b:[Qg("profile")]}});Xg(G.prototype,{M:{name:"catch"},then:{name:"then"}});U(Kf,"credential",function(a,b){return new Hf(a,b)},[T("email"),T("password")]);Xg(Df.prototype,{addScope:{name:"addScope",b:[T("scope")]}});U(Df,"credential",Df.credential,[Vg(T(),Qg(),"token")]);Xg(Ef.prototype,{addScope:{name:"addScope",b:[T("scope")]}});U(Ef,"credential",Ef.credential,[Vg(T(),Qg(),"token")]);Xg(Ff.prototype,{addScope:{name:"addScope",b:[T("scope")]}});U(Ff,"credential",Ff.credential,[Vg(T(),Vg(Qg(),Sg()),"idToken"),Vg(T(),Sg(),"accessToken",!0)]);U(Gf,"credential",Gf.credential,[Vg(T(),Qg(),"token"),T("secret",!0)]);(function(){if("undefined"!==typeof firebase&&firebase.INTERNAL&&firebase.INTERNAL.registerService){var a={Auth:X,Error:Q};U(a,"EmailAuthProvider",Kf,[]);U(a,"FacebookAuthProvider",Df,[]);U(a,"GithubAuthProvider",Ef,[]);U(a,"GoogleAuthProvider",Ff,[]);U(a,"TwitterAuthProvider",Gf,[]);firebase.INTERNAL.registerService("auth",function(a,c){var d=new X(a);c({INTERNAL:{getToken:p(d.getToken,d),addAuthTokenListener:p(d.addAuthTokenListener,d),removeAuthTokenListener:p(d.removeAuthTokenListener,d)}});return d},a);firebase.INTERNAL.registerAppHook(function(a,c){"create"===a&&c.auth()});firebase.INTERNAL.extendNamespace({User:V})}else throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.")})()})();(function(){var g,n=this;function p(a){return void 0!==a}function aa(){}function ba(a){a.Wb=function(){return a.af?a.af:a.af=new a}}function ca(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function da(a){return"array"==ca(a)}function ea(a){var b=ca(a);return"array"==b||"object"==b&&"number"==typeof a.length}function q(a){return"string"==typeof a}function fa(a){return"number"==typeof a}function ga(a){return"function"==ca(a)}function ha(a){var b=typeof a;return"object"==b&&null!=a||"function"==b}function ia(a,b,c){return a.call.apply(a.bind,arguments)}function ja(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}function r(a,b,c){r=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ia:ja;return r.apply(null,arguments)}function ka(a,b){function c(){}c.prototype=b.prototype;a.Fg=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.Cg=function(a,c,f){for(var h=Array(arguments.length-2),k=2;k<arguments.length;k++)h[k-2]=arguments[k];return b.prototype[c].apply(a,h)}}function la(){this.Ya=-1}function ma(){this.Ya=-1;this.Ya=64;this.N=[];this.Wd=[];this.If=[];this.zd=[];this.zd[0]=128;for(var a=1;a<this.Ya;++a)this.zd[a]=0;this.Pd=this.ac=0;this.reset()}ka(ma,la);ma.prototype.reset=function(){this.N[0]=1732584193;this.N[1]=4023233417;this.N[2]=2562383102;this.N[3]=271733878;this.N[4]=3285377520;this.Pd=this.ac=0};function na(a,b,c){c||(c=0);var d=a.If;if(q(b))for(var e=0;16>e;e++)d[e]=b.charCodeAt(c)<<24|b.charCodeAt(c+1)<<16|b.charCodeAt(c+2)<<8|b.charCodeAt(c+3),c+=4;else for(e=0;16>e;e++)d[e]=b[c]<<24|b[c+1]<<16|b[c+2]<<8|b[c+3],c+=4;for(e=16;80>e;e++){var f=d[e-3]^d[e-8]^d[e-14]^d[e-16];d[e]=(f<<1|f>>>31)&4294967295}b=a.N[0];c=a.N[1];for(var h=a.N[2],k=a.N[3],m=a.N[4],l,e=0;80>e;e++)40>e?20>e?(f=k^c&(h^k),l=1518500249):(f=c^h^k,l=1859775393):60>e?(f=c&h|k&(c|h),l=2400959708):(f=c^h^k,l=3395469782),f=(b<<5|b>>>27)+f+m+l+d[e]&4294967295,m=k,k=h,h=(c<<30|c>>>2)&4294967295,c=b,b=f;a.N[0]=a.N[0]+b&4294967295;a.N[1]=a.N[1]+c&4294967295;a.N[2]=a.N[2]+h&4294967295;a.N[3]=a.N[3]+k&4294967295;a.N[4]=a.N[4]+m&4294967295}ma.prototype.update=function(a,b){if(null!=a){p(b)||(b=a.length);for(var c=b-this.Ya,d=0,e=this.Wd,f=this.ac;d<b;){if(0==f)for(;d<=c;)na(this,a,d),d+=this.Ya;if(q(a))for(;d<b;){if(e[f]=a.charCodeAt(d),++f,++d,f==this.Ya){na(this,e);f=0;break}}else for(;d<b;)if(e[f]=a[d],++f,++d,f==this.Ya){na(this,e);f=0;break}}this.ac=f;this.Pd+=b}};function t(a,b){for(var c in a)b.call(void 0,a[c],c,a)}function oa(a,b){var c={},d;for(d in a)c[d]=b.call(void 0,a[d],d,a);return c}function pa(a,b){for(var c in a)if(!b.call(void 0,a[c],c,a))return!1;return!0}function qa(a){var b=0,c;for(c in a)b++;return b}function ra(a){for(var b in a)return b}function sa(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b}function ta(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b}function ua(a,b){for(var c in a)if(a[c]==b)return!0;return!1}function va(a,b,c){for(var d in a)if(b.call(c,a[d],d,a))return d}function wa(a,b){var c=va(a,b,void 0);return c&&a[c]}function xa(a){for(var b in a)return!1;return!0}function ya(a){var b={},c;for(c in a)b[c]=a[c];return b}function za(a){a=String(a);if(/^\s*$/.test(a)?0:/^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,"")))try{return eval("("+a+")")}catch(b){}throw Error("Invalid JSON string: "+a)}function Aa(){this.Fd=void 0}function Ba(a,b,c){switch(typeof b){case"string":Ca(b,c);break;case"number":c.push(isFinite(b)&&!isNaN(b)?b:"null");break;case"boolean":c.push(b);break;case"undefined":c.push("null");break;case"object":if(null==b){c.push("null");break}if(da(b)){var d=b.length;c.push("[");for(var e="",f=0;f<d;f++)c.push(e),e=b[f],Ba(a,a.Fd?a.Fd.call(b,String(f),e):e,c),e=",";c.push("]");break}c.push("{");d="";for(f in b)Object.prototype.hasOwnProperty.call(b,f)&&(e=b[f],"function"!=typeof e&&(c.push(d),Ca(f,c),c.push(":"),Ba(a,a.Fd?a.Fd.call(b,f,e):e,c),d=","));c.push("}");break;case"function":break;default:throw Error("Unknown type: "+typeof b)}}var Da={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","":"\\u000b"},Ea=/\uffff/.test("￿")?/[\\\"\x00-\x1f\x7f-\uffff]/g:/[\\\"\x00-\x1f\x7f-\xff]/g;function Ca(a,b){b.push('"',a.replace(Ea,function(a){if(a in Da)return Da[a];var b=a.charCodeAt(0),e="\\u";16>b?e+="000":256>b?e+="00":4096>b&&(e+="0");return Da[a]=e+b.toString(16)}),'"')}var v;a:{var Fa=n.navigator;if(Fa){var Ga=Fa.userAgent;if(Ga){v=Ga;break a}}v=""}function Ha(a){if(Error.captureStackTrace)Error.captureStackTrace(this,Ha);else{var b=Error().stack;b&&(this.stack=b)}a&&(this.message=String(a))}ka(Ha,Error);Ha.prototype.name="CustomError";var w=Array.prototype,Ia=w.indexOf?function(a,b,c){return w.indexOf.call(a,b,c)}:function(a,b,c){c=null==c?0:0>c?Math.max(0,a.length+c):c;if(q(a))return q(b)&&1==b.length?a.indexOf(b,c):-1;for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},Ja=w.forEach?function(a,b,c){w.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=q(a)?a.split(""):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)},Ka=w.filter?function(a,b,c){return w.filter.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=[],f=0,h=q(a)?a.split(""):a,k=0;k<d;k++)if(k in h){var m=h[k];b.call(c,m,k,a)&&(e[f++]=m)}return e},La=w.map?function(a,b,c){return w.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=Array(d),f=q(a)?a.split(""):a,h=0;h<d;h++)h in f&&(e[h]=b.call(c,f[h],h,a));return e},Ma=w.reduce?function(a,b,c,d){for(var e=[],f=1,h=arguments.length;f<h;f++)e.push(arguments[f]);d&&(e[0]=r(b,d));return w.reduce.apply(a,e)}:function(a,b,c,d){var e=c;Ja(a,function(c,h){e=b.call(d,e,c,h,a)});return e},Na=w.every?function(a,b,c){return w.every.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=q(a)?a.split(""):a,f=0;f<d;f++)if(f in e&&!b.call(c,e[f],f,a))return!1;return!0};function Oa(a,b){var c=Pa(a,b,void 0);return 0>c?null:q(a)?a.charAt(c):a[c]}function Pa(a,b,c){for(var d=a.length,e=q(a)?a.split(""):a,f=0;f<d;f++)if(f in e&&b.call(c,e[f],f,a))return f;return-1}function Qa(a,b){var c=Ia(a,b);0<=c&&w.splice.call(a,c,1)}function Ra(a,b,c){return 2>=arguments.length?w.slice.call(a,b):w.slice.call(a,b,c)}function Sa(a,b){a.sort(b||Ta)}function Ta(a,b){return a>b?1:a<b?-1:0}var Ua=-1!=v.indexOf("Opera")||-1!=v.indexOf("OPR"),Va=-1!=v.indexOf("Trident")||-1!=v.indexOf("MSIE"),Wa=-1!=v.indexOf("Gecko")&&-1==v.toLowerCase().indexOf("webkit")&&!(-1!=v.indexOf("Trident")||-1!=v.indexOf("MSIE")),Xa=-1!=v.toLowerCase().indexOf("webkit");(function(){var a="",b;if(Ua&&n.opera)return a=n.opera.version,ga(a)?a():a;Wa?b=/rv\:([^\);]+)(\)|;)/:Va?b=/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/:Xa&&(b=/WebKit\/(\S+)/);b&&(a=(a=b.exec(v))?a[1]:"");return Va&&(b=(b=n.document)?b.documentMode:void 0,b>parseFloat(a))?String(b):a})();var Ya=null,Za=null,$a=null;function ab(a,b){if(!ea(a))throw Error("encodeByteArray takes an array as a parameter");bb();for(var c=b?Za:Ya,d=[],e=0;e<a.length;e+=3){var f=a[e],h=e+1<a.length,k=h?a[e+1]:0,m=e+2<a.length,l=m?a[e+2]:0,u=f>>2,f=(f&3)<<4|k>>4,k=(k&15)<<2|l>>6,l=l&63;m||(l=64,h||(k=64));d.push(c[u],c[f],c[k],c[l])}return d.join("")}function bb(){if(!Ya){Ya={};Za={};$a={};for(var a=0;65>a;a++)Ya[a]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(a),Za[a]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(a),$a[Za[a]]=a,62<=a&&($a["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(a)]=a)}}function cb(a){n.setTimeout(function(){throw a},0)}var db;function eb(){var a=n.MessageChannel;"undefined"===typeof a&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&-1==v.indexOf("Presto")&&(a=function(){var a=document.createElement("iframe");a.style.display="none";a.src="";document.documentElement.appendChild(a);var b=a.contentWindow,a=b.document;a.open();a.write("");a.close();var c="callImmediate"+Math.random(),d="file:"==b.location.protocol?"*":b.location.protocol+"//"+b.location.host,a=r(function(a){if(("*"==d||a.origin==d)&&a.data==c)this.port1.onmessage()},this);b.addEventListener("message",a,!1);this.port1={};this.port2={postMessage:function(){b.postMessage(c,d)}}});if("undefined"!==typeof a&&-1==v.indexOf("Trident")&&-1==v.indexOf("MSIE")){var b=new a,c={},d=c;b.port1.onmessage=function(){if(p(c.next)){c=c.next;var a=c.Le;c.Le=null;a()}};return function(a){d.next={Le:a};d=d.next;b.port2.postMessage(0)}}return"undefined"!==typeof document&&"onreadystatechange"in document.createElement("script")?function(a){var b=document.createElement("script");b.onreadystatechange=function(){b.onreadystatechange=null;b.parentNode.removeChild(b);b=null;a();a=null};document.documentElement.appendChild(b)}:function(a){n.setTimeout(a,0)}}function fb(a,b){gb||hb();ib||(gb(),ib=!0);jb.push(new kb(a,b))}var gb;function hb(){if(n.Promise&&n.Promise.resolve){var a=n.Promise.resolve();gb=function(){a.then(lb)}}else gb=function(){var a=lb;!ga(n.setImmediate)||n.Window&&n.Window.prototype&&n.Window.prototype.setImmediate==n.setImmediate?(db||(db=eb()),db(a)):n.setImmediate(a)}}var ib=!1,jb=[];[].push(function(){ib=!1;jb=[]});function lb(){for(;jb.length;){var a=jb;jb=[];for(var b=0;b<a.length;b++){var c=a[b];try{c.Vf.call(c.scope)}catch(d){cb(d)}}}ib=!1}function kb(a,b){this.Vf=a;this.scope=b}function mb(a,b){this.L=nb;this.tf=void 0;this.Ca=this.Ha=null;this.jd=this.be=!1;if(a==ob)pb(this,qb,b);else try{var c=this;a.call(b,function(a){pb(c,qb,a)},function(a){if(!(a instanceof rb))try{if(a instanceof Error)throw a;throw Error("Promise rejected.")}catch(b){}pb(c,sb,a)})}catch(d){pb(this,sb,d)}}var nb=0,qb=2,sb=3;function ob(){}mb.prototype.then=function(a,b,c){return tb(this,ga(a)?a:null,ga(b)?b:null,c)};mb.prototype.then=mb.prototype.then;mb.prototype.$goog_Thenable=!0;g=mb.prototype;g.yg=function(a,b){return tb(this,null,a,b)};g.cancel=function(a){this.L==nb&&fb(function(){var b=new rb(a);ub(this,b)},this)};function ub(a,b){if(a.L==nb)if(a.Ha){var c=a.Ha;if(c.Ca){for(var d=0,e=-1,f=0,h;h=c.Ca[f];f++)if(h=h.m)if(d++,h==a&&(e=f),0<=e&&1<d)break;0<=e&&(c.L==nb&&1==d?ub(c,b):(d=c.Ca.splice(e,1)[0],vb(c,d,sb,b)))}a.Ha=null}else pb(a,sb,b)}function wb(a,b){a.Ca&&a.Ca.length||a.L!=qb&&a.L!=sb||xb(a);a.Ca||(a.Ca=[]);a.Ca.push(b)}function tb(a,b,c,d){var e={m:null,gf:null,jf:null};e.m=new mb(function(a,h){e.gf=b?function(c){try{var e=b.call(d,c);a(e)}catch(l){h(l)}}:a;e.jf=c?function(b){try{var e=c.call(d,b);!p(e)&&b instanceof rb?h(b):a(e)}catch(l){h(l)}}:h});e.m.Ha=a;wb(a,e);return e.m}g.Bf=function(a){this.L=nb;pb(this,qb,a)};g.Cf=function(a){this.L=nb;pb(this,sb,a)};function pb(a,b,c){if(a.L==nb){if(a==c)b=sb,c=new TypeError("Promise cannot resolve to itself");else{var d;if(c)try{d=!!c.$goog_Thenable}catch(e){d=!1}else d=!1;if(d){a.L=1;c.then(a.Bf,a.Cf,a);return}if(ha(c))try{var f=c.then;if(ga(f)){yb(a,c,f);return}}catch(h){b=sb,c=h}}a.tf=c;a.L=b;a.Ha=null;xb(a);b!=sb||c instanceof rb||zb(a,c)}}function yb(a,b,c){function d(b){f||(f=!0,a.Cf(b))}function e(b){f||(f=!0,a.Bf(b))}a.L=1;var f=!1;try{c.call(b,e,d)}catch(h){d(h)}}function xb(a){a.be||(a.be=!0,fb(a.Tf,a))}g.Tf=function(){for(;this.Ca&&this.Ca.length;){var a=this.Ca;this.Ca=null;for(var b=0;b<a.length;b++)vb(this,a[b],this.L,this.tf)}this.be=!1};function vb(a,b,c,d){if(c==qb)b.gf(d);else{if(b.m)for(;a&&a.jd;a=a.Ha)a.jd=!1;b.jf(d)}}function zb(a,b){a.jd=!0;fb(function(){a.jd&&Ab.call(null,b)})}var Ab=cb;function rb(a){Ha.call(this,a)}ka(rb,Ha);rb.prototype.name="cancel";function Bb(a,b){return Object.prototype.hasOwnProperty.call(a,b)}function x(a,b){if(Object.prototype.hasOwnProperty.call(a,b))return a[b]}function Cb(a,b){for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&b(c,a[c])}function y(a,b,c,d){var e;d<b?e="at least "+b:d>c&&(e=0===c?"none":"no more than "+c);if(e)throw Error(a+" failed: Was called with "+d+(1===d?" argument.":" arguments.")+" Expects "+e+".")}function Db(a,b,c){var d="";switch(b){case 1:d=c?"first":"First";break;case 2:d=c?"second":"Second";break;case 3:d=c?"third":"Third";break;case 4:d=c?"fourth":"Fourth";break;default:throw Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}return a=a+" failed: "+(d+" argument ")}function A(a,b,c,d){if((!d||p(c))&&!ga(c))throw Error(Db(a,b,d)+"must be a valid function.")}function Eb(a,b,c){
if(p(c)&&(!ha(c)||null===c))throw Error(Db(a,b,!0)+"must be a valid context object.")}function Fb(a){var b=[];Cb(a,function(a,d){da(d)?Ja(d,function(d){b.push(encodeURIComponent(a)+"="+encodeURIComponent(d))}):b.push(encodeURIComponent(a)+"="+encodeURIComponent(d))});return b.length?"&"+b.join("&"):""}var Gb=n.Promise||mb;mb.prototype["catch"]=mb.prototype.yg;function Hb(){var a=this;this.reject=this.resolve=null;this.ra=new Gb(function(b,c){a.resolve=b;a.reject=c})}function Ib(a,b){return function(c,d){c?a.reject(c):a.resolve(d);ga(b)&&(Jb(a.ra),1===b.length?b(c):b(c,d))}}function Jb(a){a.then(void 0,aa)}function Kb(a,b){if(!a)throw Lb(b)}function Lb(a){return Error("Firebase Database ("+firebase.SDK_VERSION+") INTERNAL ASSERT FAILED: "+a)}function Mb(a){for(var b=[],c=0,d=0;d<a.length;d++){var e=a.charCodeAt(d);55296<=e&&56319>=e&&(e-=55296,d++,Kb(d<a.length,"Surrogate pair missing trail surrogate."),e=65536+(e<<10)+(a.charCodeAt(d)-56320));128>e?b[c++]=e:(2048>e?b[c++]=e>>6|192:(65536>e?b[c++]=e>>12|224:(b[c++]=e>>18|240,b[c++]=e>>12&63|128),b[c++]=e>>6&63|128),b[c++]=e&63|128)}return b}function Nb(a){for(var b=0,c=0;c<a.length;c++){var d=a.charCodeAt(c);128>d?b++:2048>d?b+=2:55296<=d&&56319>=d?(b+=4,c++):b+=3}return b}function Ob(a){return"undefined"!==typeof JSON&&p(JSON.parse)?JSON.parse(a):za(a)}function B(a){if("undefined"!==typeof JSON&&p(JSON.stringify))a=JSON.stringify(a);else{var b=[];Ba(new Aa,a,b);a=b.join("")}return a}function Pb(a,b){this.committed=a;this.snapshot=b}function Qb(a){this.te=a;this.Bd=[];this.Rb=0;this.Yd=-1;this.Gb=null}function Rb(a,b,c){a.Yd=b;a.Gb=c;a.Yd<a.Rb&&(a.Gb(),a.Gb=null)}function Sb(a,b,c){for(a.Bd[b]=c;a.Bd[a.Rb];){var d=a.Bd[a.Rb];delete a.Bd[a.Rb];for(var e=0;e<d.length;++e)if(d[e]){var f=a;Tb(function(){f.te(d[e])})}if(a.Rb===a.Yd){a.Gb&&(clearTimeout(a.Gb),a.Gb(),a.Gb=null);break}a.Rb++}}function Ub(){this.qc={}}Ub.prototype.set=function(a,b){null==b?delete this.qc[a]:this.qc[a]=b};Ub.prototype.get=function(a){return Bb(this.qc,a)?this.qc[a]:null};Ub.prototype.remove=function(a){delete this.qc[a]};Ub.prototype.bf=!0;function Vb(a){this.vc=a;this.Cd="firebase:"}g=Vb.prototype;g.set=function(a,b){null==b?this.vc.removeItem(this.Cd+a):this.vc.setItem(this.Cd+a,B(b))};g.get=function(a){a=this.vc.getItem(this.Cd+a);return null==a?null:Ob(a)};g.remove=function(a){this.vc.removeItem(this.Cd+a)};g.bf=!1;g.toString=function(){return this.vc.toString()};function Wb(a){try{if("undefined"!==typeof window&&"undefined"!==typeof window[a]){var b=window[a];b.setItem("firebase:sentinel","cache");b.removeItem("firebase:sentinel");return new Vb(b)}}catch(c){}return new Ub}var Xb=Wb("localStorage"),Yb=Wb("sessionStorage");function Zb(a,b,c){this.type=$b;this.source=a;this.path=b;this.Ja=c}Zb.prototype.Nc=function(a){return this.path.e()?new Zb(this.source,C,this.Ja.R(a)):new Zb(this.source,D(this.path),this.Ja)};Zb.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" overwrite: "+this.Ja.toString()+")"};function ac(a,b){this.type=bc;this.source=a;this.path=b}ac.prototype.Nc=function(){return this.path.e()?new ac(this.source,C):new ac(this.source,D(this.path))};ac.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" listen_complete)"};function cc(a){this.He=a}cc.prototype.getToken=function(a){return this.He.INTERNAL.getToken(a).then(null,function(a){return a&&"auth/token-not-initialized"===a.code?(E("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(a)})};function dc(a,b){a.He.INTERNAL.addAuthTokenListener(b)}function ec(){this.Jd=F}ec.prototype.j=function(a){return this.Jd.Q(a)};ec.prototype.toString=function(){return this.Jd.toString()};function fc(a,b,c,d,e){this.host=a.toLowerCase();this.domain=this.host.substr(this.host.indexOf(".")+1);this.Sc=b;this.pe=c;this.Ag=d;this.mf=e||"";this.bb=Xb.get("host:"+a)||this.host}function gc(a,b){b!==a.bb&&(a.bb=b,"s-"===a.bb.substr(0,2)&&Xb.set("host:"+a.host,a.bb))}function hc(a,b,c){H("string"===typeof b,"typeof type must == string");H("object"===typeof c,"typeof params must == object");if("websocket"===b)b=(a.Sc?"wss://":"ws://")+a.bb+"/.ws?";else if("long_polling"===b)b=(a.Sc?"https://":"http://")+a.bb+"/.lp?";else throw Error("Unknown connection type: "+b);a.host!==a.bb&&(c.ns=a.pe);var d=[];t(c,function(a,b){d.push(b+"="+a)});return b+d.join("&")}fc.prototype.toString=function(){var a=(this.Sc?"https://":"http://")+this.host;this.mf&&(a+="<"+this.mf+">");return a};function ic(a,b){this.yf={};this.Vc=new jc(a);this.va=b;var c=1e4+2e4*Math.random();setTimeout(r(this.qf,this),Math.floor(c))}ic.prototype.qf=function(){var a=this.Vc.get(),b={},c=!1,d;for(d in a)0<a[d]&&Bb(this.yf,d)&&(b[d]=a[d],c=!0);c&&this.va.ye(b);setTimeout(r(this.qf,this),Math.floor(6e5*Math.random()))};function kc(){this.uc={}}function lc(a,b,c){p(c)||(c=1);Bb(a.uc,b)||(a.uc[b]=0);a.uc[b]+=c}kc.prototype.get=function(){return ya(this.uc)};function jc(a){this.Mf=a;this.rd=null}jc.prototype.get=function(){var a=this.Mf.get(),b=ya(a);if(this.rd)for(var c in this.rd)b[c]-=this.rd[c];this.rd=a;return b};var mc={},nc={};function oc(a){a=a.toString();mc[a]||(mc[a]=new kc);return mc[a]}function pc(a,b){var c=a.toString();nc[c]||(nc[c]=b());return nc[c]}function qc(){this.wb=[]}function rc(a,b){for(var c=null,d=0;d<b.length;d++){var e=b[d],f=e.Zb();null===c||f.ca(c.Zb())||(a.wb.push(c),c=null);null===c&&(c=new sc(f));c.add(e)}c&&a.wb.push(c)}function tc(a,b,c){rc(a,c);uc(a,function(a){return a.ca(b)})}function vc(a,b,c){rc(a,c);uc(a,function(a){return a.contains(b)||b.contains(a)})}function uc(a,b){for(var c=!0,d=0;d<a.wb.length;d++){var e=a.wb[d];if(e)if(e=e.Zb(),b(e)){for(var e=a.wb[d],f=0;f<e.hd.length;f++){var h=e.hd[f];if(null!==h){e.hd[f]=null;var k=h.Ub();wc&&E("event: "+h.toString());Tb(k)}}a.wb[d]=null}else c=!1}c&&(a.wb=[])}function sc(a){this.qa=a;this.hd=[]}sc.prototype.add=function(a){this.hd.push(a)};sc.prototype.Zb=function(){return this.qa};function xc(a,b,c,d){this.ae=b;this.Md=c;this.Dd=d;this.gd=a}xc.prototype.Zb=function(){var a=this.Md.xb();return"value"===this.gd?a.path:a.getParent().path};xc.prototype.ge=function(){return this.gd};xc.prototype.Ub=function(){return this.ae.Ub(this)};xc.prototype.toString=function(){return this.Zb().toString()+":"+this.gd+":"+B(this.Md.Te())};function yc(a,b,c){this.ae=a;this.error=b;this.path=c}yc.prototype.Zb=function(){return this.path};yc.prototype.ge=function(){return"cancel"};yc.prototype.Ub=function(){return this.ae.Ub(this)};yc.prototype.toString=function(){return this.path.toString()+":cancel"};function zc(){}zc.prototype.We=function(){return null};zc.prototype.fe=function(){return null};var Ac=new zc;function Bc(a,b,c){this.Ff=a;this.Na=b;this.yd=c}Bc.prototype.We=function(a){var b=this.Na.O;if(Cc(b,a))return b.j().R(a);b=null!=this.yd?new Dc(this.yd,!0,!1):this.Na.u();return this.Ff.rc(a,b)};Bc.prototype.fe=function(a,b,c){var d=null!=this.yd?this.yd:Ec(this.Na);a=this.Ff.Xd(d,b,1,c,a);return 0===a.length?null:a[0]};function I(a,b,c,d){this.type=a;this.Ma=b;this.Za=c;this.qe=d;this.Dd=void 0}function Fc(a){return new I(Gc,a)}var Gc="value";function Dc(a,b,c){this.A=a;this.ea=b;this.Tb=c}function Hc(a){return a.ea}function Ic(a){return a.Tb}function Jc(a,b){return b.e()?a.ea&&!a.Tb:Cc(a,J(b))}function Cc(a,b){return a.ea&&!a.Tb||a.A.Fa(b)}Dc.prototype.j=function(){return this.A};function Kc(a,b){return Lc(a.name,b.name)}function Mc(a,b){return Lc(a,b)}function K(a,b){this.name=a;this.S=b}function Nc(a,b){return new K(a,b)}function Oc(a,b){return a&&"object"===typeof a?(H(".sv"in a,"Unexpected leaf node or priority contents"),b[a[".sv"]]):a}function Pc(a,b){var c=new Qc;Rc(a,new L(""),function(a,e){Sc(c,a,Tc(e,b))});return c}function Tc(a,b){var c=a.C().H(),c=Oc(c,b),d;if(a.J()){var e=Oc(a.Ea(),b);return e!==a.Ea()||c!==a.C().H()?new Uc(e,M(c)):a}d=a;c!==a.C().H()&&(d=d.ga(new Uc(c)));a.P(N,function(a,c){var e=Tc(c,b);e!==c&&(d=d.U(a,e))});return d}var Vc=function(){var a=1;return function(){return a++}}(),H=Kb,Wc=Lb;function Xc(a){try{var b;if("undefined"!==typeof atob)b=atob(a);else{bb();for(var c=$a,d=[],e=0;e<a.length;){var f=c[a.charAt(e++)],h=e<a.length?c[a.charAt(e)]:0;++e;var k=e<a.length?c[a.charAt(e)]:64;++e;var m=e<a.length?c[a.charAt(e)]:64;++e;if(null==f||null==h||null==k||null==m)throw Error();d.push(f<<2|h>>4);64!=k&&(d.push(h<<4&240|k>>2),64!=m&&d.push(k<<6&192|m))}if(8192>d.length)b=String.fromCharCode.apply(null,d);else{a="";for(c=0;c<d.length;c+=8192)a+=String.fromCharCode.apply(null,Ra(d,c,c+8192));b=a}}return b}catch(l){E("base64Decode failed: ",l)}return null}function Yc(a){var b=Mb(a);a=new ma;a.update(b);var b=[],c=8*a.Pd;56>a.ac?a.update(a.zd,56-a.ac):a.update(a.zd,a.Ya-(a.ac-56));for(var d=a.Ya-1;56<=d;d--)a.Wd[d]=c&255,c/=256;na(a,a.Wd);for(d=c=0;5>d;d++)for(var e=24;0<=e;e-=8)b[c]=a.N[d]>>e&255,++c;return ab(b)}function Zc(a){for(var b="",c=0;c<arguments.length;c++)b=ea(arguments[c])?b+Zc.apply(null,arguments[c]):"object"===typeof arguments[c]?b+B(arguments[c]):b+arguments[c],b+=" ";return b}var wc=null,$c=!0;function ad(a,b){Kb(!b||!0===a||!1===a,"Can't turn on custom loggers persistently.");!0===a?("undefined"!==typeof console&&("function"===typeof console.log?wc=r(console.log,console):"object"===typeof console.log&&(wc=function(a){console.log(a)})),b&&Yb.set("logging_enabled",!0)):ga(a)?wc=a:(wc=null,Yb.remove("logging_enabled"))}function E(a){!0===$c&&($c=!1,null===wc&&!0===Yb.get("logging_enabled")&&ad(!0));if(wc){var b=Zc.apply(null,arguments);wc(b)}}function bd(a){return function(){E(a,arguments)}}function cd(a){if("undefined"!==typeof console){var b="FIREBASE INTERNAL ERROR: "+Zc.apply(null,arguments);"undefined"!==typeof console.error?console.error(b):console.log(b)}}function dd(a){var b=Zc.apply(null,arguments);throw Error("FIREBASE FATAL ERROR: "+b)}function O(a){if("undefined"!==typeof console){var b="FIREBASE WARNING: "+Zc.apply(null,arguments);"undefined"!==typeof console.warn?console.warn(b):console.log(b)}}function ed(a){var b,c,d,e,f,h=a;f=c=a=b="";d=!0;e="https";if(q(h)){var k=h.indexOf("//");0<=k&&(e=h.substring(0,k-1),h=h.substring(k+2));k=h.indexOf("/");-1===k&&(k=h.length);b=h.substring(0,k);f="";h=h.substring(k).split("/");for(k=0;k<h.length;k++)if(0<h[k].length){var m=h[k];try{m=decodeURIComponent(m.replace(/\+/g," "))}catch(l){}f+="/"+m}h=b.split(".");3===h.length?(a=h[1],c=h[0].toLowerCase()):2===h.length&&(a=h[0]);k=b.indexOf(":");0<=k&&(d="https"===e||"wss"===e)}"firebase"===a&&dd(b+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead");c&&"undefined"!=c||dd("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com");d||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&O("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");return{kc:new fc(b,d,c,"ws"===e||"wss"===e),path:new L(f)}}function fd(a){return fa(a)&&(a!=a||a==Number.POSITIVE_INFINITY||a==Number.NEGATIVE_INFINITY)}function gd(a){if("complete"===document.readyState)a();else{var b=!1,c=function(){document.body?b||(b=!0,a()):setTimeout(c,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",c,!1),window.addEventListener("load",c,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&c()}),window.attachEvent("onload",c))}}function Lc(a,b){if(a===b)return 0;if("[MIN_NAME]"===a||"[MAX_NAME]"===b)return-1;if("[MIN_NAME]"===b||"[MAX_NAME]"===a)return 1;var c=hd(a),d=hd(b);return null!==c?null!==d?0==c-d?a.length-b.length:c-d:-1:null!==d?1:a<b?-1:1}function id(a,b){if(b&&a in b)return b[a];throw Error("Missing required key ("+a+") in object: "+B(b))}function jd(a){if("object"!==typeof a||null===a)return B(a);var b=[],c;for(c in a)b.push(c);b.sort();c="{";for(var d=0;d<b.length;d++)0!==d&&(c+=","),c+=B(b[d]),c+=":",c+=jd(a[b[d]]);return c+"}"}function kd(a,b){if(a.length<=b)return[a];for(var c=[],d=0;d<a.length;d+=b)d+b>a?c.push(a.substring(d,a.length)):c.push(a.substring(d,d+b));return c}function ld(a,b){if(da(a))for(var c=0;c<a.length;++c)b(c,a[c]);else t(a,b)}function md(a){H(!fd(a),"Invalid JSON number");var b,c,d,e;0===a?(d=c=0,b=-Infinity===1/a?1:0):(b=0>a,a=Math.abs(a),a>=Math.pow(2,-1022)?(d=Math.min(Math.floor(Math.log(a)/Math.LN2),1023),c=d+1023,d=Math.round(a*Math.pow(2,52-d)-Math.pow(2,52))):(c=0,d=Math.round(a/Math.pow(2,-1074))));e=[];for(a=52;a;--a)e.push(d%2?1:0),d=Math.floor(d/2);for(a=11;a;--a)e.push(c%2?1:0),c=Math.floor(c/2);e.push(b?1:0);e.reverse();b=e.join("");c="";for(a=0;64>a;a+=8)d=parseInt(b.substr(a,8),2).toString(16),1===d.length&&(d="0"+d),c+=d;return c.toLowerCase()}var nd=/^-?\d{1,10}$/;function hd(a){return nd.test(a)&&(a=Number(a),-2147483648<=a&&2147483647>=a)?a:null}function Tb(a){try{a()}catch(b){setTimeout(function(){O("Exception was thrown by user callback.",b.stack||"");throw b},Math.floor(0))}}function od(a,b,c){Object.defineProperty(a,b,{get:c})}function pd(a){var b={};try{var c=a.split(".");Ob(Xc(c[0])||"");b=Ob(Xc(c[1])||"");delete b.d}catch(d){}a=b;return"object"===typeof a&&!0===x(a,"admin")}var qd=null;"undefined"!==typeof MozWebSocket?qd=MozWebSocket:"undefined"!==typeof WebSocket&&(qd=WebSocket);function rd(a,b,c,d){this.Zd=a;this.f=bd(this.Zd);this.frames=this.Ac=null;this.qb=this.rb=this.Fe=0;this.Xa=oc(b);a={v:"5"};"undefined"!==typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(a.r="f");c&&(a.s=c);d&&(a.ls=d);this.Me=hc(b,"websocket",a)}var td;rd.prototype.open=function(a,b){this.kb=b;this.gg=a;this.f("Websocket connecting to "+this.Me);this.xc=!1;Xb.set("previous_websocket_failure",!0);try{this.La=new qd(this.Me)}catch(c){this.f("Error instantiating WebSocket.");var d=c.message||c.data;d&&this.f(d);this.fb();return}var e=this;this.La.onopen=function(){e.f("Websocket connected.");e.xc=!0};this.La.onclose=function(){e.f("Websocket connection was disconnected.");e.La=null;e.fb()};this.La.onmessage=function(a){if(null!==e.La)if(a=a.data,e.qb+=a.length,lc(e.Xa,"bytes_received",a.length),ud(e),null!==e.frames)vd(e,a);else{a:{H(null===e.frames,"We already have a frame buffer");if(6>=a.length){var b=Number(a);if(!isNaN(b)){e.Fe=b;e.frames=[];a=null;break a}}e.Fe=1;e.frames=[]}null!==a&&vd(e,a)}};this.La.onerror=function(a){e.f("WebSocket error.  Closing connection.");(a=a.message||a.data)&&e.f(a);e.fb()}};rd.prototype.start=function(){};rd.isAvailable=function(){var a=!1;if("undefined"!==typeof navigator&&navigator.userAgent){var b=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);b&&1<b.length&&4.4>parseFloat(b[1])&&(a=!0)}return!a&&null!==qd&&!td};rd.responsesRequiredToBeHealthy=2;rd.healthyTimeout=3e4;g=rd.prototype;g.sd=function(){Xb.remove("previous_websocket_failure")};function vd(a,b){a.frames.push(b);if(a.frames.length==a.Fe){var c=a.frames.join("");a.frames=null;c=Ob(c);a.gg(c)}}g.send=function(a){ud(this);a=B(a);this.rb+=a.length;lc(this.Xa,"bytes_sent",a.length);a=kd(a,16384);1<a.length&&wd(this,String(a.length));for(var b=0;b<a.length;b++)wd(this,a[b])};g.Tc=function(){this.Bb=!0;this.Ac&&(clearInterval(this.Ac),this.Ac=null);this.La&&(this.La.close(),this.La=null)};g.fb=function(){this.Bb||(this.f("WebSocket is closing itself"),this.Tc(),this.kb&&(this.kb(this.xc),this.kb=null))};g.close=function(){this.Bb||(this.f("WebSocket is being closed"),this.Tc())};function ud(a){clearInterval(a.Ac);a.Ac=setInterval(function(){a.La&&wd(a,"0");ud(a)},Math.floor(45e3))}function wd(a,b){try{a.La.send(b)}catch(c){a.f("Exception thrown from WebSocket.send():",c.message||c.data,"Closing connection."),setTimeout(r(a.fb,a),0)}}function xd(a,b,c){this.f=bd("p:rest:");this.M=a;this.Hb=b;this.Vd=c;this.$={}}function yd(a,b){if(p(b))return"tag$"+b;H(zd(a.n),"should have a tag if it's not a default query.");return a.path.toString()}g=xd.prototype;g.cf=function(a,b,c,d){var e=a.path.toString();this.f("Listen called for "+e+" "+a.ya());var f=yd(a,c),h={};this.$[f]=h;a=Ad(a.n);var k=this;Bd(this,e+".json",a,function(a,b){var u=b;404===a&&(a=u=null);null===a&&k.Hb(e,u,!1,c);x(k.$,f)===h&&d(a?401==a?"permission_denied":"rest_error:"+a:"ok",null)})};g.Df=function(a,b){var c=yd(a,b);delete this.$[c]};g.pf=function(){};g.re=function(){};g.ff=function(){};g.xd=function(){};g.put=function(){};g.df=function(){};g.ye=function(){};function Bd(a,b,c,d){c=c||{};c.format="export";a.Vd.getToken(!1).then(function(e){(e=e&&e.accessToken)&&(c.auth=e);var f=(a.M.Sc?"https://":"http://")+a.M.host+b+"?"+Fb(c);a.f("Sending REST request for "+f);var h=new XMLHttpRequest;h.onreadystatechange=function(){if(d&&4===h.readyState){a.f("REST Response for "+f+" received. status:",h.status,"response:",h.responseText);var b=null;if(200<=h.status&&300>h.status){try{b=Ob(h.responseText)}catch(c){O("Failed to parse JSON response for "+f+": "+h.responseText)}d(null,b)}else 401!==h.status&&404!==h.status&&O("Got unsuccessful REST response for "+f+" Status: "+h.status),d(h.status);d=null}};h.open("GET",f,!0);h.send()})}function Cd(a,b,c){this.type=Dd;this.source=a;this.path=b;this.children=c}Cd.prototype.Nc=function(a){if(this.path.e())return a=this.children.subtree(new L(a)),a.e()?null:a.value?new Zb(this.source,C,a.value):new Cd(this.source,C,a);H(J(this.path)===a,"Can't get a merge for a child not on the path of the operation");return new Cd(this.source,D(this.path),this.children)};Cd.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"};function Ed(){this.hb={}}function Fd(a,b){var c=b.type,d=b.Za;H("child_added"==c||"child_changed"==c||"child_removed"==c,"Only child changes supported for tracking");H(".priority"!==d,"Only non-priority child changes can be tracked.");var e=x(a.hb,d);if(e){var f=e.type;if("child_added"==c&&"child_removed"==f)a.hb[d]=new I("child_changed",b.Ma,d,e.Ma);else if("child_removed"==c&&"child_added"==f)delete a.hb[d];else if("child_removed"==c&&"child_changed"==f)a.hb[d]=new I("child_removed",e.qe,d);else if("child_changed"==c&&"child_added"==f)a.hb[d]=new I("child_added",b.Ma,d);else if("child_changed"==c&&"child_changed"==f)a.hb[d]=new I("child_changed",b.Ma,d,e.qe);else throw Wc("Illegal combination of changes: "+b+" occurred after "+e)}else a.hb[d]=b}function Gd(a){this.W=a;this.g=a.n.g}function Hd(a,b,c,d){var e=[],f=[];Ja(b,function(b){"child_changed"===b.type&&a.g.nd(b.qe,b.Ma)&&f.push(new I("child_moved",b.Ma,b.Za))});Id(a,e,"child_removed",b,d,c);Id(a,e,"child_added",b,d,c);Id(a,e,"child_moved",f,d,c);Id(a,e,"child_changed",b,d,c);Id(a,e,Gc,b,d,c);return e}function Id(a,b,c,d,e,f){d=Ka(d,function(a){return a.type===c});Sa(d,r(a.Nf,a));Ja(d,function(c){var d=Jd(a,c,f);Ja(e,function(e){e.sf(c.type)&&b.push(e.createEvent(d,a.W))})})}function Jd(a,b,c){"value"!==b.type&&"child_removed"!==b.type&&(b.Dd=c.Ye(b.Za,b.Ma,a.g));return b}Gd.prototype.Nf=function(a,b){if(null==a.Za||null==b.Za)throw Wc("Should only compare child_ events.");return this.g.compare(new K(a.Za,a.Ma),new K(b.Za,b.Ma))};function Kd(a,b){this.Sd=a;this.Lf=b}function Ld(a){this.V=a}Ld.prototype.gb=function(a,b,c,d){var e=new Ed,f;if(b.type===$b)b.source.ee?c=Md(this,a,b.path,b.Ja,c,d,e):(H(b.source.Ve,"Unknown source."),f=b.source.Ee||Ic(a.u())&&!b.path.e(),c=Nd(this,a,b.path,b.Ja,c,d,f,e));else if(b.type===Dd)b.source.ee?c=Od(this,a,b.path,b.children,c,d,e):(H(b.source.Ve,"Unknown source."),f=b.source.Ee||Ic(a.u()),c=Pd(this,a,b.path,b.children,c,d,f,e));else if(b.type===Qd)if(b.Id)if(b=b.path,null!=c.mc(b))c=a;else{f=new Bc(c,a,d);d=a.O.j();if(b.e()||".priority"===J(b))Hc(a.u())?b=c.Ba(Ec(a)):(b=a.u().j(),H(b instanceof P,"serverChildren would be complete if leaf node"),b=c.sc(b)),b=this.V.za(d,b,e);else{var h=J(b),k=c.rc(h,a.u());null==k&&Cc(a.u(),h)&&(k=d.R(h));b=null!=k?this.V.F(d,h,k,D(b),f,e):a.O.j().Fa(h)?this.V.F(d,h,F,D(b),f,e):d;b.e()&&Hc(a.u())&&(d=c.Ba(Ec(a)),d.J()&&(b=this.V.za(b,d,e)))}d=Hc(a.u())||null!=c.mc(C);c=Rd(a,b,d,this.V.Qa())}else c=Sd(this,a,b.path,b.Pb,c,d,e);else if(b.type===bc)d=b.path,b=a.u(),f=b.j(),h=b.ea||d.e(),c=Td(this,new Ud(a.O,new Dc(f,h,b.Tb)),d,c,Ac,e);else throw Wc("Unknown operation type: "+b.type);e=sa(e.hb);d=c;b=d.O;b.ea&&(f=b.j().J()||b.j().e(),h=Vd(a),(0<e.length||!a.O.ea||f&&!b.j().ca(h)||!b.j().C().ca(h.C()))&&e.push(Fc(Vd(d))));return new Kd(c,e)};function Td(a,b,c,d,e,f){var h=b.O;if(null!=d.mc(c))return b;var k;if(c.e())H(Hc(b.u()),"If change path is empty, we must have complete server data"),Ic(b.u())?(e=Ec(b),d=d.sc(e instanceof P?e:F)):d=d.Ba(Ec(b)),f=a.V.za(b.O.j(),d,f);else{var m=J(c);if(".priority"==m)H(1==Wd(c),"Can't have a priority with additional path components"),f=h.j(),k=b.u().j(),d=d.$c(c,f,k),f=null!=d?a.V.ga(f,d):h.j();else{var l=D(c);Cc(h,m)?(k=b.u().j(),d=d.$c(c,h.j(),k),d=null!=d?h.j().R(m).F(l,d):h.j().R(m)):d=d.rc(m,b.u());f=null!=d?a.V.F(h.j(),m,d,l,e,f):h.j()}}return Rd(b,f,h.ea||c.e(),a.V.Qa())}function Nd(a,b,c,d,e,f,h,k){var m=b.u();h=h?a.V:a.V.Vb();if(c.e())d=h.za(m.j(),d,null);else if(h.Qa()&&!m.Tb)d=m.j().F(c,d),d=h.za(m.j(),d,null);else{var l=J(c);if(!Jc(m,c)&&1<Wd(c))return b;var u=D(c);d=m.j().R(l).F(u,d);d=".priority"==l?h.ga(m.j(),d):h.F(m.j(),l,d,u,Ac,null)}m=m.ea||c.e();b=new Ud(b.O,new Dc(d,m,h.Qa()));return Td(a,b,c,e,new Bc(e,b,f),k)}function Md(a,b,c,d,e,f,h){var k=b.O;e=new Bc(e,b,f);if(c.e())h=a.V.za(b.O.j(),d,h),a=Rd(b,h,!0,a.V.Qa());else if(f=J(c),".priority"===f)h=a.V.ga(b.O.j(),d),a=Rd(b,h,k.ea,k.Tb);else{c=D(c);var m=k.j().R(f);if(!c.e()){var l=e.We(f);d=null!=l?".priority"===Xd(c)&&l.Q(c.parent()).e()?l:l.F(c,d):F}m.ca(d)?a=b:(h=a.V.F(k.j(),f,d,c,e,h),a=Rd(b,h,k.ea,a.V.Qa()))}return a}function Od(a,b,c,d,e,f,h){var k=b;Yd(d,function(d,l){var u=c.m(d);Cc(b.O,J(u))&&(k=Md(a,k,u,l,e,f,h))});Yd(d,function(d,l){var u=c.m(d);Cc(b.O,J(u))||(k=Md(a,k,u,l,e,f,h))});return k}function Zd(a,b){Yd(b,function(b,d){a=a.F(b,d)});return a}function Pd(a,b,c,d,e,f,h,k){if(b.u().j().e()&&!Hc(b.u()))return b;var m=b;c=c.e()?d:$d(Q,c,d);var l=b.u().j();c.children.ia(function(c,d){if(l.Fa(c)){var G=b.u().j().R(c),G=Zd(G,d);m=Nd(a,m,new L(c),G,e,f,h,k)}});c.children.ia(function(c,d){var G=!Cc(b.u(),c)&&null==d.value;l.Fa(c)||G||(G=b.u().j().R(c),G=Zd(G,d),m=Nd(a,m,new L(c),G,e,f,h,k))});return m}function Sd(a,b,c,d,e,f,h){if(null!=e.mc(c))return b;var k=Ic(b.u()),m=b.u();if(null!=d.value){if(c.e()&&m.ea||Jc(m,c))return Nd(a,b,c,m.j().Q(c),e,f,k,h);if(c.e()){var l=Q;m.j().P(ae,function(a,b){l=l.set(new L(a),b)});return Pd(a,b,c,l,e,f,k,h)}return b}l=Q;Yd(d,function(a){var b=c.m(a);Jc(m,b)&&(l=l.set(a,m.j().Q(b)))});return Pd(a,b,c,l,e,f,k,h)}function be(a){this.g=a}g=be.prototype;g.F=function(a,b,c,d,e,f){H(a.zc(this.g),"A node must be indexed if only a child is updated");e=a.R(b);if(e.Q(d).ca(c.Q(d))&&e.e()==c.e())return a;null!=f&&(c.e()?a.Fa(b)?Fd(f,new I("child_removed",e,b)):H(a.J(),"A child remove without an old child only makes sense on a leaf node"):e.e()?Fd(f,new I("child_added",c,b)):Fd(f,new I("child_changed",c,b,e)));return a.J()&&c.e()?a:a.U(b,c).ob(this.g)};g.za=function(a,b,c){null!=c&&(a.J()||a.P(N,function(a,e){b.Fa(a)||Fd(c,new I("child_removed",e,a))}),b.J()||b.P(N,function(b,e){if(a.Fa(b)){var f=a.R(b);f.ca(e)||Fd(c,new I("child_changed",e,b,f))}else Fd(c,new I("child_added",e,b))}));return b.ob(this.g)};g.ga=function(a,b){return a.e()?F:a.ga(b)};g.Qa=function(){return!1};g.Vb=function(){return this};function ce(a){this.he=new be(a.g);this.g=a.g;var b;a.ka?(b=de(a),b=a.g.Fc(ee(a),b)):b=a.g.Ic();this.Uc=b;a.na?(b=fe(a),a=a.g.Fc(ge(a),b)):a=a.g.Gc();this.wc=a}g=ce.prototype;g.matches=function(a){return 0>=this.g.compare(this.Uc,a)&&0>=this.g.compare(a,this.wc)};g.F=function(a,b,c,d,e,f){this.matches(new K(b,c))||(c=F);return this.he.F(a,b,c,d,e,f)};g.za=function(a,b,c){b.J()&&(b=F);var d=b.ob(this.g),d=d.ga(F),e=this;b.P(N,function(a,b){e.matches(new K(a,b))||(d=d.U(a,F))});return this.he.za(a,d,c)};g.ga=function(a){return a};g.Qa=function(){return!0};g.Vb=function(){return this.he};function he(a){this.sa=new ce(a);this.g=a.g;H(a.xa,"Only valid if limit has been set");this.oa=a.oa;this.Jb=!ie(a)}g=he.prototype;g.F=function(a,b,c,d,e,f){this.sa.matches(new K(b,c))||(c=F);return a.R(b).ca(c)?a:a.Fb()<this.oa?this.sa.Vb().F(a,b,c,d,e,f):je(this,a,b,c,e,f)};g.za=function(a,b,c){var d;if(b.J()||b.e())d=F.ob(this.g);else if(2*this.oa<b.Fb()&&b.zc(this.g)){d=F.ob(this.g);b=this.Jb?b.$b(this.sa.wc,this.g):b.Yb(this.sa.Uc,this.g);for(var e=0;0<b.Sa.length&&e<this.oa;){var f=R(b),h;if(h=this.Jb?0>=this.g.compare(this.sa.Uc,f):0>=this.g.compare(f,this.sa.wc))d=d.U(f.name,f.S),e++;else break}}else{d=b.ob(this.g);d=d.ga(F);var k,m,l;if(this.Jb){b=d.Ze(this.g);k=this.sa.wc;m=this.sa.Uc;var u=ke(this.g);l=function(a,b){return u(b,a)}}else b=d.Xb(this.g),k=this.sa.Uc,m=this.sa.wc,l=ke(this.g);for(var e=0,z=!1;0<b.Sa.length;)f=R(b),!z&&0>=l(k,f)&&(z=!0),(h=z&&e<this.oa&&0>=l(f,m))?e++:d=d.U(f.name,F)}return this.sa.Vb().za(a,d,c)};g.ga=function(a){return a};g.Qa=function(){return!0};g.Vb=function(){return this.sa.Vb()};function je(a,b,c,d,e,f){var h;if(a.Jb){var k=ke(a.g);h=function(a,b){return k(b,a)}}else h=ke(a.g);H(b.Fb()==a.oa,"");var m=new K(c,d),l=a.Jb?le(b,a.g):me(b,a.g),u=a.sa.matches(m);if(b.Fa(c)){for(var z=b.R(c),l=e.fe(a.g,l,a.Jb);null!=l&&(l.name==c||b.Fa(l.name));)l=e.fe(a.g,l,a.Jb);e=null==l?1:h(l,m);if(u&&!d.e()&&0<=e)return null!=f&&Fd(f,new I("child_changed",d,c,z)),b.U(c,d);null!=f&&Fd(f,new I("child_removed",z,c));b=b.U(c,F);return null!=l&&a.sa.matches(l)?(null!=f&&Fd(f,new I("child_added",l.S,l.name)),b.U(l.name,l.S)):b}return d.e()?b:u&&0<=h(l,m)?(null!=f&&(Fd(f,new I("child_removed",l.S,l.name)),Fd(f,new I("child_added",d,c))),b.U(c,d).U(l.name,F)):b}function Uc(a,b){this.B=a;H(p(this.B)&&null!==this.B,"LeafNode shouldn't be created with null/undefined value.");this.aa=b||F;ne(this.aa);this.Eb=null}var oe=["object","boolean","number","string"];g=Uc.prototype;g.J=function(){return!0};g.C=function(){return this.aa};g.ga=function(a){return new Uc(this.B,a)};g.R=function(a){return".priority"===a?this.aa:F};g.Q=function(a){return a.e()?this:".priority"===J(a)?this.aa:F};g.Fa=function(){return!1};g.Ye=function(){return null};g.U=function(a,b){return".priority"===a?this.ga(b):b.e()&&".priority"!==a?this:F.U(a,b).ga(this.aa)};g.F=function(a,b){var c=J(a);if(null===c)return b;if(b.e()&&".priority"!==c)return this;H(".priority"!==c||1===Wd(a),".priority must be the last token in a path");return this.U(c,F.F(D(a),b))};g.e=function(){return!1};g.Fb=function(){return 0};g.P=function(){return!1};g.H=function(a){return a&&!this.C().e()?{".value":this.Ea(),".priority":this.C().H()}:this.Ea()};g.hash=function(){if(null===this.Eb){var a="";this.aa.e()||(a+="priority:"+pe(this.aa.H())+":");var b=typeof this.B,a=a+(b+":"),a="number"===b?a+md(this.B):a+this.B;this.Eb=Yc(a)}return this.Eb};g.Ea=function(){return this.B};g.tc=function(a){if(a===F)return 1;if(a instanceof P)return-1;H(a.J(),"Unknown node type");var b=typeof a.B,c=typeof this.B,d=Ia(oe,b),e=Ia(oe,c);H(0<=d,"Unknown leaf type: "+b);H(0<=e,"Unknown leaf type: "+c);return d===e?"object"===c?0:this.B<a.B?-1:this.B===a.B?0:1:e-d};g.ob=function(){return this};g.zc=function(){return!0};g.ca=function(a){return a===this?!0:a.J()?this.B===a.B&&this.aa.ca(a.aa):!1};g.toString=function(){return B(this.H(!0))};function qe(){}var re={};function ke(a){return r(a.compare,a)}qe.prototype.nd=function(a,b){return 0!==this.compare(new K("[MIN_NAME]",a),new K("[MIN_NAME]",b))};qe.prototype.Ic=function(){return se};function te(a){H(!a.e()&&".priority"!==J(a),"Can't create PathIndex with empty path or .priority key");this.cc=a}ka(te,qe);g=te.prototype;g.yc=function(a){return!a.Q(this.cc).e()};g.compare=function(a,b){var c=a.S.Q(this.cc),d=b.S.Q(this.cc),c=c.tc(d);return 0===c?Lc(a.name,b.name):c};g.Fc=function(a,b){var c=M(a),c=F.F(this.cc,c);return new K(b,c)};g.Gc=function(){var a=F.F(this.cc,ue);return new K("[MAX_NAME]",a)};g.toString=function(){return this.cc.slice().join("/")};function ve(){}ka(ve,qe);g=ve.prototype;g.compare=function(a,b){var c=a.S.C(),d=b.S.C(),c=c.tc(d);return 0===c?Lc(a.name,b.name):c};g.yc=function(a){return!a.C().e()};g.nd=function(a,b){return!a.C().ca(b.C())};g.Ic=function(){return se};g.Gc=function(){return new K("[MAX_NAME]",new Uc("[PRIORITY-POST]",ue))};g.Fc=function(a,b){var c=M(a);return new K(b,new Uc("[PRIORITY-POST]",c))};g.toString=function(){return".priority"};var N=new ve;function we(){}ka(we,qe);g=we.prototype;g.compare=function(a,b){return Lc(a.name,b.name)};g.yc=function(){throw Wc("KeyIndex.isDefinedOn not expected to be called.")};g.nd=function(){return!1};g.Ic=function(){return se};g.Gc=function(){return new K("[MAX_NAME]",F)};g.Fc=function(a){H(q(a),"KeyIndex indexValue must always be a string.");return new K(a,F)};g.toString=function(){return".key"};var ae=new we;function xe(){}ka(xe,qe);g=xe.prototype;g.compare=function(a,b){var c=a.S.tc(b.S);return 0===c?Lc(a.name,b.name):c};g.yc=function(){return!0};g.nd=function(a,b){return!a.ca(b)};g.Ic=function(){return se};g.Gc=function(){return ye};g.Fc=function(a,b){var c=M(a);return new K(b,c)};g.toString=function(){return".value"};var ze=new xe;function Ae(){this.Sb=this.na=this.Lb=this.ka=this.xa=!1;this.oa=0;this.oc="";this.ec=null;this.Ab="";this.bc=null;this.yb="";this.g=N}var Be=new Ae;function ie(a){return""===a.oc?a.ka:"l"===a.oc}function ee(a){H(a.ka,"Only valid if start has been set");return a.ec}function de(a){H(a.ka,"Only valid if start has been set");return a.Lb?a.Ab:"[MIN_NAME]"}function ge(a){H(a.na,"Only valid if end has been set");return a.bc}function fe(a){H(a.na,"Only valid if end has been set");return a.Sb?a.yb:"[MAX_NAME]"}function Ce(a){var b=new Ae;b.xa=a.xa;b.oa=a.oa;b.ka=a.ka;b.ec=a.ec;b.Lb=a.Lb;b.Ab=a.Ab;b.na=a.na;b.bc=a.bc;b.Sb=a.Sb;b.yb=a.yb;b.g=a.g;return b}g=Ae.prototype;g.ne=function(a){var b=Ce(this);b.xa=!0;b.oa=a;b.oc="l";return b};g.oe=function(a){var b=Ce(this);b.xa=!0;b.oa=a;b.oc="r";return b};g.Nd=function(a,b){var c=Ce(this);c.ka=!0;p(a)||(a=null);c.ec=a;null!=b?(c.Lb=!0,c.Ab=b):(c.Lb=!1,c.Ab="");return c};g.fd=function(a,b){var c=Ce(this);c.na=!0;p(a)||(a=null);c.bc=a;p(b)?(c.Sb=!0,c.yb=b):(c.Eg=!1,c.yb="");return c};function De(a,b){var c=Ce(a);c.g=b;return c}function Ee(a){var b={};a.ka&&(b.sp=a.ec,a.Lb&&(b.sn=a.Ab));a.na&&(b.ep=a.bc,a.Sb&&(b.en=a.yb));if(a.xa){b.l=a.oa;var c=a.oc;""===c&&(c=ie(a)?"l":"r");b.vf=c}a.g!==N&&(b.i=a.g.toString());return b}function S(a){return!(a.ka||a.na||a.xa)}function zd(a){return S(a)&&a.g==N}function Ad(a){var b={};if(zd(a))return b;var c;a.g===N?c="$priority":a.g===ze?c="$value":a.g===ae?c="$key":(H(a.g instanceof te,"Unrecognized index type!"),c=a.g.toString());b.orderBy=B(c);a.ka&&(b.startAt=B(a.ec),a.Lb&&(b.startAt+=","+B(a.Ab)));a.na&&(b.endAt=B(a.bc),a.Sb&&(b.endAt+=","+B(a.yb)));a.xa&&(ie(a)?b.limitToFirst=a.oa:b.limitToLast=a.oa);return b}g.toString=function(){return B(Ee(this))};function Fe(a,b){this.od=a;this.dc=b}Fe.prototype.get=function(a){var b=x(this.od,a);if(!b)throw Error("No index defined for "+a);return b===re?null:b};function Ge(a,b,c){var d=oa(a.od,function(d,f){var h=x(a.dc,f);H(h,"Missing index implementation for "+f);if(d===re){if(h.yc(b.S)){for(var k=[],m=c.Xb(Nc),l=R(m);l;)l.name!=b.name&&k.push(l),l=R(m);k.push(b);return He(k,ke(h))}return re}h=c.get(b.name);k=d;h&&(k=k.remove(new K(b.name,h)));return k.Ra(b,b.S)});return new Fe(d,a.dc)}function Ie(a,b,c){var d=oa(a.od,function(a){if(a===re)return a;var d=c.get(b.name);return d?a.remove(new K(b.name,d)):a});return new Fe(d,a.dc)}var Je=new Fe({".priority":re},{".priority":N});function Ke(){this.set={}}g=Ke.prototype;g.add=function(a,b){this.set[a]=null!==b?b:!0};g.contains=function(a){return Bb(this.set,a)};g.get=function(a){return this.contains(a)?this.set[a]:void 0};g.remove=function(a){delete this.set[a]};g.clear=function(){this.set={}};g.e=function(){return xa(this.set);

};g.count=function(){return qa(this.set)};function Le(a,b){t(a.set,function(a,d){b(d,a)})}g.keys=function(){var a=[];t(this.set,function(b,c){a.push(c)});return a};function Me(a,b,c,d){this.Zd=a;this.f=bd(a);this.kc=b;this.qb=this.rb=0;this.Xa=oc(b);this.Af=c;this.xc=!1;this.Db=d;this.Yc=function(a){return hc(b,"long_polling",a)}}var Ne,Oe;Me.prototype.open=function(a,b){this.Pe=0;this.ja=b;this.ef=new Qb(a);this.Bb=!1;var c=this;this.tb=setTimeout(function(){c.f("Timed out trying to connect.");c.fb();c.tb=null},Math.floor(3e4));gd(function(){if(!c.Bb){c.Wa=new Pe(function(a,b,d,k,m){Qe(c,arguments);if(c.Wa)if(c.tb&&(clearTimeout(c.tb),c.tb=null),c.xc=!0,"start"==a)c.id=b,c.lf=d;else if("close"===a)b?(c.Wa.Kd=!1,Rb(c.ef,b,function(){c.fb()})):c.fb();else throw Error("Unrecognized command received: "+a)},function(a,b){Qe(c,arguments);Sb(c.ef,a,b)},function(){c.fb()},c.Yc);var a={start:"t"};a.ser=Math.floor(1e8*Math.random());c.Wa.Qd&&(a.cb=c.Wa.Qd);a.v="5";c.Af&&(a.s=c.Af);c.Db&&(a.ls=c.Db);"undefined"!==typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(a.r="f");a=c.Yc(a);c.f("Connecting via long-poll to "+a);Re(c.Wa,a,function(){})}})};Me.prototype.start=function(){var a=this.Wa,b=this.lf;a.eg=this.id;a.fg=b;for(a.Ud=!0;Se(a););a=this.id;b=this.lf;this.gc=document.createElement("iframe");var c={dframe:"t"};c.id=a;c.pw=b;this.gc.src=this.Yc(c);this.gc.style.display="none";document.body.appendChild(this.gc)};Me.isAvailable=function(){return Ne||!Oe&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.Bg)&&!0};g=Me.prototype;g.sd=function(){};g.Tc=function(){this.Bb=!0;this.Wa&&(this.Wa.close(),this.Wa=null);this.gc&&(document.body.removeChild(this.gc),this.gc=null);this.tb&&(clearTimeout(this.tb),this.tb=null)};g.fb=function(){this.Bb||(this.f("Longpoll is closing itself"),this.Tc(),this.ja&&(this.ja(this.xc),this.ja=null))};g.close=function(){this.Bb||(this.f("Longpoll is being closed."),this.Tc())};g.send=function(a){a=B(a);this.rb+=a.length;lc(this.Xa,"bytes_sent",a.length);a=Mb(a);a=ab(a,!0);a=kd(a,1840);for(var b=0;b<a.length;b++){var c=this.Wa;c.Qc.push({tg:this.Pe,zg:a.length,Re:a[b]});c.Ud&&Se(c);this.Pe++}};function Qe(a,b){var c=B(b).length;a.qb+=c;lc(a.Xa,"bytes_received",c)}function Pe(a,b,c,d){this.Yc=d;this.kb=c;this.ve=new Ke;this.Qc=[];this.$d=Math.floor(1e8*Math.random());this.Kd=!0;this.Qd=Vc();window["pLPCommand"+this.Qd]=a;window["pRTLPCB"+this.Qd]=b;a=document.createElement("iframe");a.style.display="none";if(document.body){document.body.appendChild(a);try{a.contentWindow.document||E("No IE domain setting required")}catch(e){a.src="javascript:void((function(){document.open();document.domain='"+document.domain+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";a.contentDocument?a.ib=a.contentDocument:a.contentWindow?a.ib=a.contentWindow.document:a.document&&(a.ib=a.document);this.Ga=a;a="";this.Ga.src&&"javascript:"===this.Ga.src.substr(0,11)&&(a='<script>document.domain="'+document.domain+'";</script>');a="<html><body>"+a+"</body></html>";try{this.Ga.ib.open(),this.Ga.ib.write(a),this.Ga.ib.close()}catch(f){E("frame writing exception"),f.stack&&E(f.stack),E(f)}}Pe.prototype.close=function(){this.Ud=!1;if(this.Ga){this.Ga.ib.body.innerHTML="";var a=this;setTimeout(function(){null!==a.Ga&&(document.body.removeChild(a.Ga),a.Ga=null)},Math.floor(0))}var b=this.kb;b&&(this.kb=null,b())};function Se(a){if(a.Ud&&a.Kd&&a.ve.count()<(0<a.Qc.length?2:1)){a.$d++;var b={};b.id=a.eg;b.pw=a.fg;b.ser=a.$d;for(var b=a.Yc(b),c="",d=0;0<a.Qc.length;)if(1870>=a.Qc[0].Re.length+30+c.length){var e=a.Qc.shift(),c=c+"&seg"+d+"="+e.tg+"&ts"+d+"="+e.zg+"&d"+d+"="+e.Re;d++}else break;Te(a,b+c,a.$d);return!0}return!1}function Te(a,b,c){function d(){a.ve.remove(c);Se(a)}a.ve.add(c,1);var e=setTimeout(d,Math.floor(25e3));Re(a,b,function(){clearTimeout(e);d()})}function Re(a,b,c){setTimeout(function(){try{if(a.Kd){var d=a.Ga.ib.createElement("script");d.type="text/javascript";d.async=!0;d.src=b;d.onload=d.onreadystatechange=function(){var a=d.readyState;a&&"loaded"!==a&&"complete"!==a||(d.onload=d.onreadystatechange=null,d.parentNode&&d.parentNode.removeChild(d),c())};d.onerror=function(){E("Long-poll script failed to load: "+b);a.Kd=!1;a.close()};a.Ga.ib.body.appendChild(d)}}catch(e){}},Math.floor(1))}function Ue(a){Ve(this,a)}var We=[Me,rd];function Ve(a,b){var c=rd&&rd.isAvailable(),d=c&&!(Xb.bf||!0===Xb.get("previous_websocket_failure"));b.Ag&&(c||O("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),d=!0);if(d)a.Wc=[rd];else{var e=a.Wc=[];ld(We,function(a,b){b&&b.isAvailable()&&e.push(b)})}}function Xe(a){if(0<a.Wc.length)return a.Wc[0];throw Error("No transports available")}function Ye(a,b,c,d,e,f,h){this.id=a;this.f=bd("c:"+this.id+":");this.te=c;this.Mc=d;this.ja=e;this.se=f;this.M=b;this.Ad=[];this.Ne=0;this.zf=new Ue(b);this.L=0;this.Db=h;this.f("Connection created");Ze(this)}function Ze(a){var b=Xe(a.zf);a.I=new b("c:"+a.id+":"+a.Ne++,a.M,void 0,a.Db);a.xe=b.responsesRequiredToBeHealthy||0;var c=$e(a,a.I),d=af(a,a.I);a.Xc=a.I;a.Rc=a.I;a.D=null;a.Cb=!1;setTimeout(function(){a.I&&a.I.open(c,d)},Math.floor(0));b=b.healthyTimeout||0;0<b&&(a.md=setTimeout(function(){a.md=null;a.Cb||(a.I&&102400<a.I.qb?(a.f("Connection exceeded healthy timeout but has received "+a.I.qb+" bytes.  Marking connection healthy."),a.Cb=!0,a.I.sd()):a.I&&10240<a.I.rb?a.f("Connection exceeded healthy timeout but has sent "+a.I.rb+" bytes.  Leaving connection alive."):(a.f("Closing unhealthy connection after timeout."),a.close()))},Math.floor(b)))}function af(a,b){return function(c){b===a.I?(a.I=null,c||0!==a.L?1===a.L&&a.f("Realtime connection lost."):(a.f("Realtime connection failed."),"s-"===a.M.bb.substr(0,2)&&(Xb.remove("host:"+a.M.host),a.M.bb=a.M.host)),a.close()):b===a.D?(a.f("Secondary connection lost."),c=a.D,a.D=null,a.Xc!==c&&a.Rc!==c||a.close()):a.f("closing an old connection")}}function $e(a,b){return function(c){if(2!=a.L)if(b===a.Rc){var d=id("t",c);c=id("d",c);if("c"==d){if(d=id("t",c),"d"in c)if(c=c.d,"h"===d){var d=c.ts,e=c.v,f=c.h;a.xf=c.s;gc(a.M,f);0==a.L&&(a.I.start(),bf(a,a.I,d),"5"!==e&&O("Protocol version mismatch detected"),c=a.zf,(c=1<c.Wc.length?c.Wc[1]:null)&&cf(a,c))}else if("n"===d){a.f("recvd end transmission on primary");a.Rc=a.D;for(c=0;c<a.Ad.length;++c)a.wd(a.Ad[c]);a.Ad=[];df(a)}else"s"===d?(a.f("Connection shutdown command received. Shutting down..."),a.se&&(a.se(c),a.se=null),a.ja=null,a.close()):"r"===d?(a.f("Reset packet received.  New host: "+c),gc(a.M,c),1===a.L?a.close():(ef(a),Ze(a))):"e"===d?cd("Server Error: "+c):"o"===d?(a.f("got pong on primary."),ff(a),gf(a)):cd("Unknown control packet command: "+d)}else"d"==d&&a.wd(c)}else if(b===a.D)if(d=id("t",c),c=id("d",c),"c"==d)"t"in c&&(c=c.t,"a"===c?hf(a):"r"===c?(a.f("Got a reset on secondary, closing it"),a.D.close(),a.Xc!==a.D&&a.Rc!==a.D||a.close()):"o"===c&&(a.f("got pong on secondary."),a.wf--,hf(a)));else if("d"==d)a.Ad.push(c);else throw Error("Unknown protocol layer: "+d);else a.f("message on old connection")}}Ye.prototype.ua=function(a){jf(this,{t:"d",d:a})};function df(a){a.Xc===a.D&&a.Rc===a.D&&(a.f("cleaning up and promoting a connection: "+a.D.Zd),a.I=a.D,a.D=null)}function hf(a){0>=a.wf?(a.f("Secondary connection is healthy."),a.Cb=!0,a.D.sd(),a.D.start(),a.f("sending client ack on secondary"),a.D.send({t:"c",d:{t:"a",d:{}}}),a.f("Ending transmission on primary"),a.I.send({t:"c",d:{t:"n",d:{}}}),a.Xc=a.D,df(a)):(a.f("sending ping on secondary."),a.D.send({t:"c",d:{t:"p",d:{}}}))}Ye.prototype.wd=function(a){ff(this);this.te(a)};function ff(a){a.Cb||(a.xe--,0>=a.xe&&(a.f("Primary connection is healthy."),a.Cb=!0,a.I.sd()))}function cf(a,b){a.D=new b("c:"+a.id+":"+a.Ne++,a.M,a.xf);a.wf=b.responsesRequiredToBeHealthy||0;a.D.open($e(a,a.D),af(a,a.D));setTimeout(function(){a.D&&(a.f("Timed out trying to upgrade."),a.D.close())},Math.floor(6e4))}function bf(a,b,c){a.f("Realtime connection established.");a.I=b;a.L=1;a.Mc&&(a.Mc(c,a.xf),a.Mc=null);0===a.xe?(a.f("Primary connection is healthy."),a.Cb=!0):setTimeout(function(){gf(a)},Math.floor(5e3))}function gf(a){a.Cb||1!==a.L||(a.f("sending ping on primary."),jf(a,{t:"c",d:{t:"p",d:{}}}))}function jf(a,b){if(1!==a.L)throw"Connection is not connected";a.Xc.send(b)}Ye.prototype.close=function(){2!==this.L&&(this.f("Closing realtime connection."),this.L=2,ef(this),this.ja&&(this.ja(),this.ja=null))};function ef(a){a.f("Shutting down all connections");a.I&&(a.I.close(),a.I=null);a.D&&(a.D.close(),a.D=null);a.md&&(clearTimeout(a.md),a.md=null)}function L(a,b){if(1==arguments.length){this.o=a.split("/");for(var c=0,d=0;d<this.o.length;d++)0<this.o[d].length&&(this.o[c]=this.o[d],c++);this.o.length=c;this.Z=0}else this.o=a,this.Z=b}function T(a,b){var c=J(a);if(null===c)return b;if(c===J(b))return T(D(a),D(b));throw Error("INTERNAL ERROR: innerPath ("+b+") is not within outerPath ("+a+")")}function kf(a,b){for(var c=a.slice(),d=b.slice(),e=0;e<c.length&&e<d.length;e++){var f=Lc(c[e],d[e]);if(0!==f)return f}return c.length===d.length?0:c.length<d.length?-1:1}function J(a){return a.Z>=a.o.length?null:a.o[a.Z]}function Wd(a){return a.o.length-a.Z}function D(a){var b=a.Z;b<a.o.length&&b++;return new L(a.o,b)}function Xd(a){return a.Z<a.o.length?a.o[a.o.length-1]:null}g=L.prototype;g.toString=function(){for(var a="",b=this.Z;b<this.o.length;b++)""!==this.o[b]&&(a+="/"+this.o[b]);return a||"/"};g.slice=function(a){return this.o.slice(this.Z+(a||0))};g.parent=function(){if(this.Z>=this.o.length)return null;for(var a=[],b=this.Z;b<this.o.length-1;b++)a.push(this.o[b]);return new L(a,0)};g.m=function(a){for(var b=[],c=this.Z;c<this.o.length;c++)b.push(this.o[c]);if(a instanceof L)for(c=a.Z;c<a.o.length;c++)b.push(a.o[c]);else for(a=a.split("/"),c=0;c<a.length;c++)0<a[c].length&&b.push(a[c]);return new L(b,0)};g.e=function(){return this.Z>=this.o.length};g.ca=function(a){if(Wd(this)!==Wd(a))return!1;for(var b=this.Z,c=a.Z;b<=this.o.length;b++,c++)if(this.o[b]!==a.o[c])return!1;return!0};g.contains=function(a){var b=this.Z,c=a.Z;if(Wd(this)>Wd(a))return!1;for(;b<this.o.length;){if(this.o[b]!==a.o[c])return!1;++b;++c}return!0};var C=new L("");function lf(a,b){this.Ta=a.slice();this.Ka=Math.max(1,this.Ta.length);this.Se=b;for(var c=0;c<this.Ta.length;c++)this.Ka+=Nb(this.Ta[c]);mf(this)}lf.prototype.push=function(a){0<this.Ta.length&&(this.Ka+=1);this.Ta.push(a);this.Ka+=Nb(a);mf(this)};lf.prototype.pop=function(){var a=this.Ta.pop();this.Ka-=Nb(a);0<this.Ta.length&&--this.Ka};function mf(a){if(768<a.Ka)throw Error(a.Se+"has a key path longer than 768 bytes ("+a.Ka+").");if(32<a.Ta.length)throw Error(a.Se+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+nf(a))}function nf(a){return 0==a.Ta.length?"":"in property '"+a.Ta.join(".")+"'"}function of(a){a instanceof pf||dd("Don't call new Database() directly - please use firebase.database().");this.ta=a;this.ba=new U(a,C);this.INTERNAL=new qf(this)}var rf={TIMESTAMP:{".sv":"timestamp"}};g=of.prototype;g.app=null;g.of=function(a){sf(this,"ref");y("database.ref",0,1,arguments.length);return p(a)?this.ba.m(a):this.ba};g.qg=function(a){sf(this,"database.refFromURL");y("database.refFromURL",1,1,arguments.length);var b=ed(a);tf("database.refFromURL",b);var c=b.kc;c.host!==this.ta.M.host&&dd("database.refFromURL: Host name does not match the current database: (found "+c.host+" but expected "+this.ta.M.host+")");return this.of(b.path.toString())};function sf(a,b){null===a.ta&&dd("Cannot call "+b+" on a deleted database.")}g.Zf=function(){y("database.goOffline",0,0,arguments.length);sf(this,"goOffline");this.ta.eb()};g.$f=function(){y("database.goOnline",0,0,arguments.length);sf(this,"goOnline");this.ta.lc()};Object.defineProperty(of.prototype,"app",{get:function(){return this.ta.app}});function qf(a){this.$a=a}qf.prototype.delete=function(){sf(this.$a,"delete");var a=uf.Wb(),b=this.$a.ta;x(a.nb,b.app.name)!==b&&dd("Database "+b.app.name+" has already been deleted.");b.eb();delete a.nb[b.app.name];this.$a.ta=null;this.$a.ba=null;this.$a=this.$a.INTERNAL=null;return Promise.resolve()};of.prototype.ref=of.prototype.of;of.prototype.refFromURL=of.prototype.qg;of.prototype.goOnline=of.prototype.$f;of.prototype.goOffline=of.prototype.Zf;qf.prototype["delete"]=qf.prototype.delete;function Qc(){this.k=this.B=null}Qc.prototype.find=function(a){if(null!=this.B)return this.B.Q(a);if(a.e()||null==this.k)return null;var b=J(a);a=D(a);return this.k.contains(b)?this.k.get(b).find(a):null};function Sc(a,b,c){if(b.e())a.B=c,a.k=null;else if(null!==a.B)a.B=a.B.F(b,c);else{null==a.k&&(a.k=new Ke);var d=J(b);a.k.contains(d)||a.k.add(d,new Qc);a=a.k.get(d);b=D(b);Sc(a,b,c)}}function vf(a,b){if(b.e())return a.B=null,a.k=null,!0;if(null!==a.B){if(a.B.J())return!1;var c=a.B;a.B=null;c.P(N,function(b,c){Sc(a,new L(b),c)});return vf(a,b)}return null!==a.k?(c=J(b),b=D(b),a.k.contains(c)&&vf(a.k.get(c),b)&&a.k.remove(c),a.k.e()?(a.k=null,!0):!1):!0}function Rc(a,b,c){null!==a.B?c(b,a.B):a.P(function(a,e){var f=new L(b.toString()+"/"+a);Rc(e,f,c)})}Qc.prototype.P=function(a){null!==this.k&&Le(this.k,function(b,c){a(b,c)})};var wf=/[\[\].#$\/\u0000-\u001F\u007F]/,xf=/[\[\].#$\u0000-\u001F\u007F]/;function yf(a){return q(a)&&0!==a.length&&!wf.test(a)}function zf(a){return null===a||q(a)||fa(a)&&!fd(a)||ha(a)&&Bb(a,".sv")}function Af(a,b,c,d){d&&!p(b)||Bf(Db(a,1,d),b,c)}function Bf(a,b,c){c instanceof L&&(c=new lf(c,a));if(!p(b))throw Error(a+"contains undefined "+nf(c));if(ga(b))throw Error(a+"contains a function "+nf(c)+" with contents: "+b.toString());if(fd(b))throw Error(a+"contains "+b.toString()+" "+nf(c));if(q(b)&&b.length>10485760/3&&10485760<Nb(b))throw Error(a+"contains a string greater than 10485760 utf8 bytes "+nf(c)+" ('"+b.substring(0,50)+"...')");if(ha(b)){var d=!1,e=!1;Cb(b,function(b,h){if(".value"===b)d=!0;else if(".priority"!==b&&".sv"!==b&&(e=!0,!yf(b)))throw Error(a+" contains an invalid key ("+b+") "+nf(c)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');c.push(b);Bf(a,h,c);c.pop()});if(d&&e)throw Error(a+' contains ".value" child '+nf(c)+" in addition to actual children.")}}function Cf(a,b){var c,d;for(c=0;c<b.length;c++){d=b[c];for(var e=d.slice(),f=0;f<e.length;f++)if((".priority"!==e[f]||f!==e.length-1)&&!yf(e[f]))throw Error(a+"contains an invalid key ("+e[f]+") in path "+d.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}b.sort(kf);e=null;for(c=0;c<b.length;c++){d=b[c];if(null!==e&&e.contains(d))throw Error(a+"contains a path "+e.toString()+" that is ancestor of another path "+d.toString());e=d}}function Df(a,b,c){var d=Db(a,1,!1);if(!ha(b)||da(b))throw Error(d+" must be an object containing the children to replace.");var e=[];Cb(b,function(a,b){var k=new L(a);Bf(d,b,c.m(k));if(".priority"===Xd(k)&&!zf(b))throw Error(d+"contains an invalid value for '"+k.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");e.push(k)});Cf(d,e)}function Ef(a,b,c){if(fd(c))throw Error(Db(a,b,!1)+"is "+c.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!zf(c))throw Error(Db(a,b,!1)+"must be a valid Firebase priority (a string, finite number, server value, or null).")}function Ff(a,b,c){if(!c||p(b))switch(b){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw Error(Db(a,1,c)+'must be a valid event type: "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}function Gf(a,b){if(p(b)&&!yf(b))throw Error(Db(a,2,!0)+'was an invalid key: "'+b+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')}function Hf(a,b){if(!q(b)||0===b.length||xf.test(b))throw Error(Db(a,1,!1)+'was an invalid path: "'+b+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')}function If(a,b){if(".info"===J(b))throw Error(a+" failed: Can't modify data under /.info/")}function tf(a,b){var c=b.path.toString(),d;!(d=!q(b.kc.host)||0===b.kc.host.length||!yf(b.kc.pe))&&(d=0!==c.length)&&(c&&(c=c.replace(/^\/*\.info(\/|$)/,"/")),d=!(q(c)&&0!==c.length&&!xf.test(c)));if(d)throw Error(Db(a,1,!1)+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')}function V(a,b){this.ta=a;this.qa=b}V.prototype.cancel=function(a){y("Firebase.onDisconnect().cancel",0,1,arguments.length);A("Firebase.onDisconnect().cancel",1,a,!0);var b=new Hb;this.ta.xd(this.qa,Ib(b,a));return b.ra};V.prototype.cancel=V.prototype.cancel;V.prototype.remove=function(a){y("Firebase.onDisconnect().remove",0,1,arguments.length);If("Firebase.onDisconnect().remove",this.qa);A("Firebase.onDisconnect().remove",1,a,!0);var b=new Hb;Jf(this.ta,this.qa,null,Ib(b,a));return b.ra};V.prototype.remove=V.prototype.remove;V.prototype.set=function(a,b){y("Firebase.onDisconnect().set",1,2,arguments.length);If("Firebase.onDisconnect().set",this.qa);Af("Firebase.onDisconnect().set",a,this.qa,!1);A("Firebase.onDisconnect().set",2,b,!0);var c=new Hb;Jf(this.ta,this.qa,a,Ib(c,b));return c.ra};V.prototype.set=V.prototype.set;V.prototype.Kb=function(a,b,c){y("Firebase.onDisconnect().setWithPriority",2,3,arguments.length);If("Firebase.onDisconnect().setWithPriority",this.qa);Af("Firebase.onDisconnect().setWithPriority",a,this.qa,!1);Ef("Firebase.onDisconnect().setWithPriority",2,b);A("Firebase.onDisconnect().setWithPriority",3,c,!0);var d=new Hb;Kf(this.ta,this.qa,a,b,Ib(d,c));return d.ra};V.prototype.setWithPriority=V.prototype.Kb;V.prototype.update=function(a,b){y("Firebase.onDisconnect().update",1,2,arguments.length);If("Firebase.onDisconnect().update",this.qa);if(da(a)){for(var c={},d=0;d<a.length;++d)c[""+d]=a[d];a=c;O("Passing an Array to Firebase.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Df("Firebase.onDisconnect().update",a,this.qa);A("Firebase.onDisconnect().update",2,b,!0);c=new Hb;Lf(this.ta,this.qa,a,Ib(c,b));return c.ra};V.prototype.update=V.prototype.update;function Mf(a){H(da(a)&&0<a.length,"Requires a non-empty array");this.Jf=a;this.Ec={}}Mf.prototype.Ge=function(a,b){var c;c=this.Ec[a]||[];var d=c.length;if(0<d){for(var e=Array(d),f=0;f<d;f++)e[f]=c[f];c=e}else c=[];for(d=0;d<c.length;d++)c[d].Ke.apply(c[d].Pa,Array.prototype.slice.call(arguments,1))};Mf.prototype.hc=function(a,b,c){Nf(this,a);this.Ec[a]=this.Ec[a]||[];this.Ec[a].push({Ke:b,Pa:c});(a=this.Xe(a))&&b.apply(c,a)};Mf.prototype.Jc=function(a,b,c){Nf(this,a);a=this.Ec[a]||[];for(var d=0;d<a.length;d++)if(a[d].Ke===b&&(!c||c===a[d].Pa)){a.splice(d,1);break}};function Nf(a,b){H(Oa(a.Jf,function(a){return a===b}),"Unknown event: "+b)}function Of(){Mf.call(this,["online"]);this.ic=!0;if("undefined"!==typeof window&&"undefined"!==typeof window.addEventListener){var a=this;window.addEventListener("online",function(){a.ic||(a.ic=!0,a.Ge("online",!0))},!1);window.addEventListener("offline",function(){a.ic&&(a.ic=!1,a.Ge("online",!1))},!1)}}ka(Of,Mf);Of.prototype.Xe=function(a){H("online"===a,"Unknown event type: "+a);return[this.ic]};ba(Of);function Pf(){Mf.call(this,["visible"]);var a,b;"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(b="visibilitychange",a="hidden"):"undefined"!==typeof document.mozHidden?(b="mozvisibilitychange",a="mozHidden"):"undefined"!==typeof document.msHidden?(b="msvisibilitychange",a="msHidden"):"undefined"!==typeof document.webkitHidden&&(b="webkitvisibilitychange",a="webkitHidden"));this.Nb=!0;if(b){var c=this;document.addEventListener(b,function(){var b=!document[a];b!==c.Nb&&(c.Nb=b,c.Ge("visible",b))},!1)}}ka(Pf,Mf);Pf.prototype.Xe=function(a){H("visible"===a,"Unknown event type: "+a);return[this.Nb]};ba(Pf);var Qf=function(){var a=0,b=[];return function(c){var d=c===a;a=c;for(var e=Array(8),f=7;0<=f;f--)e[f]="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz".charAt(c%64),c=Math.floor(c/64);H(0===c,"Cannot push at time == 0");c=e.join("");if(d){for(f=11;0<=f&&63===b[f];f--)b[f]=0;b[f]++}else for(f=0;12>f;f++)b[f]=Math.floor(64*Math.random());for(f=0;12>f;f++)c+="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz".charAt(b[f]);H(20===c.length,"nextPushId: Length should be 20.");return c}}();function Rf(a,b){this.Oa=a;this.ba=b?b:Sf}g=Rf.prototype;g.Ra=function(a,b){return new Rf(this.Oa,this.ba.Ra(a,b,this.Oa).Y(null,null,!1,null,null))};g.remove=function(a){return new Rf(this.Oa,this.ba.remove(a,this.Oa).Y(null,null,!1,null,null))};g.get=function(a){for(var b,c=this.ba;!c.e();){b=this.Oa(a,c.key);if(0===b)return c.value;0>b?c=c.left:0<b&&(c=c.right)}return null};function Tf(a,b){for(var c,d=a.ba,e=null;!d.e();){c=a.Oa(b,d.key);if(0===c){if(d.left.e())return e?e.key:null;for(d=d.left;!d.right.e();)d=d.right;return d.key}0>c?d=d.left:0<c&&(e=d,d=d.right)}throw Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}g.e=function(){return this.ba.e()};g.count=function(){return this.ba.count()};g.Hc=function(){return this.ba.Hc()};g.fc=function(){return this.ba.fc()};g.ia=function(a){return this.ba.ia(a)};g.Xb=function(a){return new Uf(this.ba,null,this.Oa,!1,a)};g.Yb=function(a,b){return new Uf(this.ba,a,this.Oa,!1,b)};g.$b=function(a,b){return new Uf(this.ba,a,this.Oa,!0,b)};g.Ze=function(a){return new Uf(this.ba,null,this.Oa,!0,a)};function Uf(a,b,c,d,e){this.Hd=e||null;this.le=d;this.Sa=[];for(e=1;!a.e();)if(e=b?c(a.key,b):1,d&&(e*=-1),0>e)a=this.le?a.left:a.right;else if(0===e){this.Sa.push(a);break}else this.Sa.push(a),a=this.le?a.right:a.left}function R(a){if(0===a.Sa.length)return null;var b=a.Sa.pop(),c;c=a.Hd?a.Hd(b.key,b.value):{key:b.key,value:b.value};if(a.le)for(b=b.left;!b.e();)a.Sa.push(b),b=b.right;else for(b=b.right;!b.e();)a.Sa.push(b),b=b.left;return c}function Vf(a){if(0===a.Sa.length)return null;var b;b=a.Sa;b=b[b.length-1];return a.Hd?a.Hd(b.key,b.value):{key:b.key,value:b.value}}function Wf(a,b,c,d,e){this.key=a;this.value=b;this.color=null!=c?c:!0;this.left=null!=d?d:Sf;this.right=null!=e?e:Sf}g=Wf.prototype;g.Y=function(a,b,c,d,e){return new Wf(null!=a?a:this.key,null!=b?b:this.value,null!=c?c:this.color,null!=d?d:this.left,null!=e?e:this.right)};g.count=function(){return this.left.count()+1+this.right.count()};g.e=function(){return!1};g.ia=function(a){return this.left.ia(a)||a(this.key,this.value)||this.right.ia(a)};function Xf(a){return a.left.e()?a:Xf(a.left)}g.Hc=function(){return Xf(this).key};g.fc=function(){return this.right.e()?this.key:this.right.fc()};g.Ra=function(a,b,c){var d,e;e=this;d=c(a,e.key);e=0>d?e.Y(null,null,null,e.left.Ra(a,b,c),null):0===d?e.Y(null,b,null,null,null):e.Y(null,null,null,null,e.right.Ra(a,b,c));return Yf(e)};function Zf(a){if(a.left.e())return Sf;a.left.fa()||a.left.left.fa()||(a=$f(a));a=a.Y(null,null,null,Zf(a.left),null);return Yf(a)}g.remove=function(a,b){var c,d;c=this;if(0>b(a,c.key))c.left.e()||c.left.fa()||c.left.left.fa()||(c=$f(c)),c=c.Y(null,null,null,c.left.remove(a,b),null);else{c.left.fa()&&(c=ag(c));c.right.e()||c.right.fa()||c.right.left.fa()||(c=bg(c),c.left.left.fa()&&(c=ag(c),c=bg(c)));if(0===b(a,c.key)){if(c.right.e())return Sf;d=Xf(c.right);c=c.Y(d.key,d.value,null,null,Zf(c.right))}c=c.Y(null,null,null,null,c.right.remove(a,b))}return Yf(c)};g.fa=function(){return this.color};function Yf(a){a.right.fa()&&!a.left.fa()&&(a=cg(a));a.left.fa()&&a.left.left.fa()&&(a=ag(a));a.left.fa()&&a.right.fa()&&(a=bg(a));return a}function $f(a){a=bg(a);a.right.left.fa()&&(a=a.Y(null,null,null,null,ag(a.right)),a=cg(a),a=bg(a));return a}function cg(a){return a.right.Y(null,null,a.color,a.Y(null,null,!0,null,a.right.left),null)}function ag(a){return a.left.Y(null,null,a.color,null,a.Y(null,null,!0,a.left.right,null))}function bg(a){return a.Y(null,null,!a.color,a.left.Y(null,null,!a.left.color,null,null),a.right.Y(null,null,!a.right.color,null,null))}function dg(){}g=dg.prototype;g.Y=function(){return this};g.Ra=function(a,b){return new Wf(a,b,null)};g.remove=function(){return this};g.count=function(){return 0};g.e=function(){return!0};g.ia=function(){return!1};g.Hc=function(){return null};g.fc=function(){return null};g.fa=function(){return!1};var Sf=new dg;function P(a,b,c){this.k=a;(this.aa=b)&&ne(this.aa);a.e()&&H(!this.aa||this.aa.e(),"An empty node cannot have a priority");this.zb=c;this.Eb=null}g=P.prototype;g.J=function(){return!1};g.C=function(){return this.aa||F};g.ga=function(a){return this.k.e()?this:new P(this.k,a,this.zb)};g.R=function(a){if(".priority"===a)return this.C();a=this.k.get(a);return null===a?F:a};g.Q=function(a){var b=J(a);return null===b?this:this.R(b).Q(D(a))};g.Fa=function(a){return null!==this.k.get(a)};g.U=function(a,b){H(b,"We should always be passing snapshot nodes");if(".priority"===a)return this.ga(b);var c=new K(a,b),d,e;b.e()?(d=this.k.remove(a),c=Ie(this.zb,c,this.k)):(d=this.k.Ra(a,b),c=Ge(this.zb,c,this.k));e=d.e()?F:this.aa;return new P(d,e,c)};g.F=function(a,b){var c=J(a);if(null===c)return b;H(".priority"!==J(a)||1===Wd(a),".priority must be the last token in a path");var d=this.R(c).F(D(a),b);return this.U(c,d)};g.e=function(){return this.k.e()};g.Fb=function(){return this.k.count()};var eg=/^(0|[1-9]\d*)$/;g=P.prototype;g.H=function(a){if(this.e())return null;var b={},c=0,d=0,e=!0;this.P(N,function(f,h){b[f]=h.H(a);c++;e&&eg.test(f)?d=Math.max(d,Number(f)):e=!1});if(!a&&e&&d<2*c){var f=[],h;for(h in b)f[h]=b[h];return f}a&&!this.C().e()&&(b[".priority"]=this.C().H());return b};g.hash=function(){if(null===this.Eb){var a="";this.C().e()||(a+="priority:"+pe(this.C().H())+":");this.P(N,function(b,c){var d=c.hash();""!==d&&(a+=":"+b+":"+d)});this.Eb=""===a?"":Yc(a)}return this.Eb};g.Ye=function(a,b,c){return(c=fg(this,c))?(a=Tf(c,new K(a,b)))?a.name:null:Tf(this.k,a)};function le(a,b){var c;c=(c=fg(a,b))?(c=c.Hc())&&c.name:a.k.Hc();return c?new K(c,a.k.get(c)):null}function me(a,b){var c;c=(c=fg(a,b))?(c=c.fc())&&c.name:a.k.fc();return c?new K(c,a.k.get(c)):null}g.P=function(a,b){var c=fg(this,a);return c?c.ia(function(a){return b(a.name,a.S)}):this.k.ia(b)};g.Xb=function(a){return this.Yb(a.Ic(),a)};g.Yb=function(a,b){var c=fg(this,b);if(c)return c.Yb(a,function(a){return a});for(var c=this.k.Yb(a.name,Nc),d=Vf(c);null!=d&&0>b.compare(d,a);)R(c),d=Vf(c);return c};g.Ze=function(a){return this.$b(a.Gc(),a)};g.$b=function(a,b){var c=fg(this,b);if(c)return c.$b(a,function(a){return a});for(var c=this.k.$b(a.name,Nc),d=Vf(c);null!=d&&0<b.compare(d,a);)R(c),d=Vf(c);return c};g.tc=function(a){return this.e()?a.e()?0:-1:a.J()||a.e()?1:a===ue?-1:0};g.ob=function(a){if(a===ae||ua(this.zb.dc,a.toString()))return this;var b=this.zb,c=this.k;H(a!==ae,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var d=[],e=!1,c=c.Xb(Nc),f=R(c);f;)e=e||a.yc(f.S),d.push(f),f=R(c);d=e?He(d,ke(a)):re;e=a.toString();c=ya(b.dc);c[e]=a;a=ya(b.od);a[e]=d;return new P(this.k,this.aa,new Fe(a,c))};g.zc=function(a){return a===ae||ua(this.zb.dc,a.toString())};g.ca=function(a){if(a===this)return!0;if(a.J())return!1;if(this.C().ca(a.C())&&this.k.count()===a.k.count()){var b=this.Xb(N);a=a.Xb(N);for(var c=R(b),d=R(a);c&&d;){if(c.name!==d.name||!c.S.ca(d.S))return!1;c=R(b);d=R(a)}return null===c&&null===d}return!1};function fg(a,b){return b===ae?null:a.zb.get(b.toString())}g.toString=function(){return B(this.H(!0))};function M(a,b){if(null===a)return F;var c=null;"object"===typeof a&&".priority"in a?c=a[".priority"]:"undefined"!==typeof b&&(c=b);H(null===c||"string"===typeof c||"number"===typeof c||"object"===typeof c&&".sv"in c,"Invalid priority type found: "+typeof c);"object"===typeof a&&".value"in a&&null!==a[".value"]&&(a=a[".value"]);if("object"!==typeof a||".sv"in a)return new Uc(a,M(c));if(a instanceof Array){var d=F,e=a;t(e,function(a,b){if(Bb(e,b)&&"."!==b.substring(0,1)){var c=M(a);if(c.J()||!c.e())d=d.U(b,c)}});return d.ga(M(c))}var f=[],h=!1,k=a;Cb(k,function(a){if("string"!==typeof a||"."!==a.substring(0,1)){var b=M(k[a]);b.e()||(h=h||!b.C().e(),f.push(new K(a,b)))}});if(0==f.length)return F;var m=He(f,Kc,function(a){return a.name},Mc);if(h){var l=He(f,ke(N));return new P(m,M(c),new Fe({".priority":l},{".priority":N}))}return new P(m,M(c),Je)}var gg=Math.log(2);function hg(a){this.count=parseInt(Math.log(a+1)/gg,10);this.Qe=this.count-1;this.Kf=a+1&parseInt(Array(this.count+1).join("1"),2)}function ig(a){var b=!(a.Kf&1<<a.Qe);a.Qe--;return b}function He(a,b,c,d){function e(b,d){var f=d-b;if(0==f)return null;if(1==f){var l=a[b],u=c?c(l):l;return new Wf(u,l.S,!1,null,null)}var l=parseInt(f/2,10)+b,f=e(b,l),z=e(l+1,d),l=a[l],u=c?c(l):l;return new Wf(u,l.S,!1,f,z)}a.sort(b);var f=function(b){function d(b,h){var k=u-b,z=u;u-=b;var z=e(k+1,z),k=a[k],G=c?c(k):k,z=new Wf(G,k.S,h,null,z);f?f.left=z:l=z;f=z}for(var f=null,l=null,u=a.length,z=0;z<b.count;++z){var G=ig(b),sd=Math.pow(2,b.count-(z+1));G?d(sd,!1):(d(sd,!1),d(sd,!0))}return l}(new hg(a.length));return null!==f?new Rf(d||b,f):new Rf(d||b)}function pe(a){return"number"===typeof a?"number:"+md(a):"string:"+a}function ne(a){if(a.J()){var b=a.H();H("string"===typeof b||"number"===typeof b||"object"===typeof b&&Bb(b,".sv"),"Priority must be a string or number.")}else H(a===ue||a.e(),"priority of unexpected type.");H(a===ue||a.C().e(),"Priority nodes can't have a priority of their own.")}var F=new P(new Rf(Mc),null,Je);function jg(){P.call(this,new Rf(Mc),F,Je)}ka(jg,P);g=jg.prototype;g.tc=function(a){return a===this?0:1};g.ca=function(a){return a===this};g.C=function(){return this};g.R=function(){return F};g.e=function(){return!1};var ue=new jg,se=new K("[MIN_NAME]",F),ye=new K("[MAX_NAME]",ue);function W(a,b,c){this.A=a;this.W=b;this.g=c}W.prototype.H=function(){y("Firebase.DataSnapshot.val",0,0,arguments.length);return this.A.H()};W.prototype.val=W.prototype.H;W.prototype.Te=function(){y("Firebase.DataSnapshot.exportVal",0,0,arguments.length);return this.A.H(!0)};W.prototype.exportVal=W.prototype.Te;W.prototype.Uf=function(){y("Firebase.DataSnapshot.exists",0,0,arguments.length);return!this.A.e()};W.prototype.exists=W.prototype.Uf;W.prototype.m=function(a){y("Firebase.DataSnapshot.child",0,1,arguments.length);fa(a)&&(a=String(a));Hf("Firebase.DataSnapshot.child",a);var b=new L(a),c=this.W.m(b);return new W(this.A.Q(b),c,N)};W.prototype.child=W.prototype.m;W.prototype.Fa=function(a){y("Firebase.DataSnapshot.hasChild",1,1,arguments.length);Hf("Firebase.DataSnapshot.hasChild",a);var b=new L(a);return!this.A.Q(b).e()};W.prototype.hasChild=W.prototype.Fa;W.prototype.C=function(){y("Firebase.DataSnapshot.getPriority",0,0,arguments.length);return this.A.C().H()};W.prototype.getPriority=W.prototype.C;W.prototype.forEach=function(a){y("Firebase.DataSnapshot.forEach",1,1,arguments.length);A("Firebase.DataSnapshot.forEach",1,a,!1);if(this.A.J())return!1;var b=this;return!!this.A.P(this.g,function(c,d){return a(new W(d,b.W.m(c),N))})};W.prototype.forEach=W.prototype.forEach;W.prototype.kd=function(){y("Firebase.DataSnapshot.hasChildren",0,0,arguments.length);return this.A.J()?!1:!this.A.e()};W.prototype.hasChildren=W.prototype.kd;W.prototype.getKey=function(){y("Firebase.DataSnapshot.key",0,0,arguments.length);return this.W.getKey()};od(W.prototype,"key",W.prototype.getKey);W.prototype.Fb=function(){y("Firebase.DataSnapshot.numChildren",0,0,arguments.length);return this.A.Fb()};W.prototype.numChildren=W.prototype.Fb;W.prototype.xb=function(){y("Firebase.DataSnapshot.ref",0,0,arguments.length);return this.W};od(W.prototype,"ref",W.prototype.xb);

function Ud(a,b){this.O=a;this.Ld=b}function Rd(a,b,c,d){return new Ud(new Dc(b,c,d),a.Ld)}function Vd(a){return a.O.ea?a.O.j():null}Ud.prototype.u=function(){return this.Ld};function Ec(a){return a.Ld.ea?a.Ld.j():null}function kg(a,b){this.W=a;var c=a.n,d=new be(c.g),c=S(c)?new be(c.g):c.xa?new he(c):new ce(c);this.nf=new Ld(c);var e=b.u(),f=b.O,h=d.za(F,e.j(),null),k=c.za(F,f.j(),null);this.Na=new Ud(new Dc(k,f.ea,c.Qa()),new Dc(h,e.ea,d.Qa()));this.ab=[];this.Rf=new Gd(a)}function lg(a){return a.W}g=kg.prototype;g.u=function(){return this.Na.u().j()};g.jb=function(a){var b=Ec(this.Na);return b&&(S(this.W.n)||!a.e()&&!b.R(J(a)).e())?b.Q(a):null};g.e=function(){return 0===this.ab.length};g.Ob=function(a){this.ab.push(a)};g.mb=function(a,b){var c=[];if(b){H(null==a,"A cancel should cancel all event registrations.");var d=this.W.path;Ja(this.ab,function(a){(a=a.Oe(b,d))&&c.push(a)})}if(a){for(var e=[],f=0;f<this.ab.length;++f){var h=this.ab[f];if(!h.matches(a))e.push(h);else if(a.$e()){e=e.concat(this.ab.slice(f+1));break}}this.ab=e}else this.ab=[];return c};g.gb=function(a,b,c){a.type===Dd&&null!==a.source.Ib&&(H(Ec(this.Na),"We should always have a full cache before handling merges"),H(Vd(this.Na),"Missing event cache, even though we have a server cache"));var d=this.Na;a=this.nf.gb(d,a,b,c);b=this.nf;c=a.Sd;H(c.O.j().zc(b.V.g),"Event snap not indexed");H(c.u().j().zc(b.V.g),"Server snap not indexed");H(Hc(a.Sd.u())||!Hc(d.u()),"Once a server snap is complete, it should never go back");this.Na=a.Sd;return mg(this,a.Lf,a.Sd.O.j(),null)};function ng(a,b){var c=a.Na.O,d=[];c.j().J()||c.j().P(N,function(a,b){d.push(new I("child_added",b,a))});c.ea&&d.push(Fc(c.j()));return mg(a,d,c.j(),b)}function mg(a,b,c,d){return Hd(a.Rf,b,c,d?[d]:a.ab)}function og(a,b,c){this.Qb=a;this.sb=b;this.ub=c||null}g=og.prototype;g.sf=function(a){return"value"===a};g.createEvent=function(a,b){var c=b.n.g;return new xc("value",this,new W(a.Ma,b.xb(),c))};g.Ub=function(a){var b=this.ub;if("cancel"===a.ge()){H(this.sb,"Raising a cancel event on a listener with no cancel callback");var c=this.sb;return function(){c.call(b,a.error)}}var d=this.Qb;return function(){d.call(b,a.Md)}};g.Oe=function(a,b){return this.sb?new yc(this,a,b):null};g.matches=function(a){return a instanceof og?a.Qb&&this.Qb?a.Qb===this.Qb&&a.ub===this.ub:!0:!1};g.$e=function(){return null!==this.Qb};function pg(a,b,c){this.ha=a;this.sb=b;this.ub=c}g=pg.prototype;g.sf=function(a){a="children_added"===a?"child_added":a;return("children_removed"===a?"child_removed":a)in this.ha};g.Oe=function(a,b){return this.sb?new yc(this,a,b):null};g.createEvent=function(a,b){H(null!=a.Za,"Child events should have a childName.");var c=b.xb().m(a.Za);return new xc(a.type,this,new W(a.Ma,c,b.n.g),a.Dd)};g.Ub=function(a){var b=this.ub;if("cancel"===a.ge()){H(this.sb,"Raising a cancel event on a listener with no cancel callback");var c=this.sb;return function(){c.call(b,a.error)}}var d=this.ha[a.gd];return function(){d.call(b,a.Md,a.Dd)}};g.matches=function(a){if(a instanceof pg){if(!this.ha||!a.ha)return!0;if(this.ub===a.ub){var b=qa(a.ha);if(b===qa(this.ha)){if(1===b){var b=ra(a.ha),c=ra(this.ha);return c===b&&(!a.ha[b]||!this.ha[c]||a.ha[b]===this.ha[c])}return pa(this.ha,function(b,c){return a.ha[c]===b})}}}return!1};g.$e=function(){return null!==this.ha};function X(a,b,c,d){this.w=a;this.path=b;this.n=c;this.Oc=d}function qg(a){var b=null,c=null;a.ka&&(b=ee(a));a.na&&(c=ge(a));if(a.g===ae){if(a.ka){if("[MIN_NAME]"!=de(a))throw Error("Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().");if("string"!==typeof b)throw Error("Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.")}if(a.na){if("[MAX_NAME]"!=fe(a))throw Error("Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().");if("string"!==typeof c)throw Error("Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.")}}else if(a.g===N){if(null!=b&&!zf(b)||null!=c&&!zf(c))throw Error("Query: When ordering by priority, the first argument passed to startAt(), endAt(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(H(a.g instanceof te||a.g===ze,"unknown index type."),null!=b&&"object"===typeof b||null!=c&&"object"===typeof c)throw Error("Query: First argument passed to startAt(), endAt(), or equalTo() cannot be an object.")}function rg(a){if(a.ka&&a.na&&a.xa&&(!a.xa||""===a.oc))throw Error("Query: Can't combine startAt(), endAt(), and limit(). Use limitToFirst() or limitToLast() instead.")}function sg(a,b){if(!0===a.Oc)throw Error(b+": You can't combine multiple orderBy calls.")}g=X.prototype;g.xb=function(){y("Query.ref",0,0,arguments.length);return new U(this.w,this.path)};g.hc=function(a,b,c,d){y("Query.on",2,4,arguments.length);Ff("Query.on",a,!1);A("Query.on",2,b,!1);var e=tg("Query.on",c,d);if("value"===a)ug(this.w,this,new og(b,e.cancel||null,e.Pa||null));else{var f={};f[a]=b;ug(this.w,this,new pg(f,e.cancel,e.Pa))}return b};g.Jc=function(a,b,c){y("Query.off",0,3,arguments.length);Ff("Query.off",a,!0);A("Query.off",2,b,!0);Eb("Query.off",3,c);var d=null,e=null;"value"===a?d=new og(b||null,null,c||null):a&&(b&&(e={},e[a]=b),d=new pg(e,null,c||null));e=this.w;d=".info"===J(this.path)?e.pd.mb(this,d):e.K.mb(this,d);tc(e.da,this.path,d)};g.jg=function(a,b){function c(k){f&&(f=!1,e.Jc(a,c),b&&b.call(d.Pa,k),h.resolve(k))}y("Query.once",1,4,arguments.length);Ff("Query.once",a,!1);A("Query.once",2,b,!0);var d=tg("Query.once",arguments[2],arguments[3]),e=this,f=!0,h=new Hb;Jb(h.ra);this.hc(a,c,function(b){e.Jc(a,c);d.cancel&&d.cancel.call(d.Pa,b);h.reject(b)});return h.ra};g.ne=function(a){y("Query.limitToFirst",1,1,arguments.length);if(!fa(a)||Math.floor(a)!==a||0>=a)throw Error("Query.limitToFirst: First argument must be a positive integer.");if(this.n.xa)throw Error("Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new X(this.w,this.path,this.n.ne(a),this.Oc)};g.oe=function(a){y("Query.limitToLast",1,1,arguments.length);if(!fa(a)||Math.floor(a)!==a||0>=a)throw Error("Query.limitToLast: First argument must be a positive integer.");if(this.n.xa)throw Error("Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new X(this.w,this.path,this.n.oe(a),this.Oc)};g.kg=function(a){y("Query.orderByChild",1,1,arguments.length);if("$key"===a)throw Error('Query.orderByChild: "$key" is invalid.  Use Query.orderByKey() instead.');if("$priority"===a)throw Error('Query.orderByChild: "$priority" is invalid.  Use Query.orderByPriority() instead.');if("$value"===a)throw Error('Query.orderByChild: "$value" is invalid.  Use Query.orderByValue() instead.');Hf("Query.orderByChild",a);sg(this,"Query.orderByChild");var b=new L(a);if(b.e())throw Error("Query.orderByChild: cannot pass in empty path.  Use Query.orderByValue() instead.");b=new te(b);b=De(this.n,b);qg(b);return new X(this.w,this.path,b,!0)};g.lg=function(){y("Query.orderByKey",0,0,arguments.length);sg(this,"Query.orderByKey");var a=De(this.n,ae);qg(a);return new X(this.w,this.path,a,!0)};g.mg=function(){y("Query.orderByPriority",0,0,arguments.length);sg(this,"Query.orderByPriority");var a=De(this.n,N);qg(a);return new X(this.w,this.path,a,!0)};g.ng=function(){y("Query.orderByValue",0,0,arguments.length);sg(this,"Query.orderByValue");var a=De(this.n,ze);qg(a);return new X(this.w,this.path,a,!0)};g.Nd=function(a,b){y("Query.startAt",0,2,arguments.length);Af("Query.startAt",a,this.path,!0);Gf("Query.startAt",b);var c=this.n.Nd(a,b);rg(c);qg(c);if(this.n.ka)throw Error("Query.startAt: Starting point was already set (by another call to startAt or equalTo).");p(a)||(b=a=null);return new X(this.w,this.path,c,this.Oc)};g.fd=function(a,b){y("Query.endAt",0,2,arguments.length);Af("Query.endAt",a,this.path,!0);Gf("Query.endAt",b);var c=this.n.fd(a,b);rg(c);qg(c);if(this.n.na)throw Error("Query.endAt: Ending point was already set (by another call to endAt or equalTo).");return new X(this.w,this.path,c,this.Oc)};g.Qf=function(a,b){y("Query.equalTo",1,2,arguments.length);Af("Query.equalTo",a,this.path,!1);Gf("Query.equalTo",b);if(this.n.ka)throw Error("Query.equalTo: Starting point was already set (by another call to endAt or equalTo).");if(this.n.na)throw Error("Query.equalTo: Ending point was already set (by another call to endAt or equalTo).");return this.Nd(a,b).fd(a,b)};g.toString=function(){y("Query.toString",0,0,arguments.length);for(var a=this.path,b="",c=a.Z;c<a.o.length;c++)""!==a.o[c]&&(b+="/"+encodeURIComponent(String(a.o[c])));return this.w.toString()+(b||"/")};g.ya=function(){var a=jd(Ee(this.n));return"{}"===a?"default":a};function tg(a,b,c){var d={cancel:null,Pa:null};if(b&&c)d.cancel=b,A(a,3,d.cancel,!0),d.Pa=c,Eb(a,4,d.Pa);else if(b)if("object"===typeof b&&null!==b)d.Pa=b;else if("function"===typeof b)d.cancel=b;else throw Error(Db(a,3,!0)+" must either be a cancel callback or a context object.");return d}X.prototype.on=X.prototype.hc;X.prototype.off=X.prototype.Jc;X.prototype.once=X.prototype.jg;X.prototype.limitToFirst=X.prototype.ne;X.prototype.limitToLast=X.prototype.oe;X.prototype.orderByChild=X.prototype.kg;X.prototype.orderByKey=X.prototype.lg;X.prototype.orderByPriority=X.prototype.mg;X.prototype.orderByValue=X.prototype.ng;X.prototype.startAt=X.prototype.Nd;X.prototype.endAt=X.prototype.fd;X.prototype.equalTo=X.prototype.Qf;X.prototype.toString=X.prototype.toString;od(X.prototype,"ref",X.prototype.xb);function vg(a,b){this.value=a;this.children=b||wg}var wg=new Rf(function(a,b){return a===b?0:a<b?-1:1});function xg(a){var b=Q;t(a,function(a,d){b=b.set(new L(d),a)});return b}g=vg.prototype;g.e=function(){return null===this.value&&this.children.e()};function yg(a,b,c){if(null!=a.value&&c(a.value))return{path:C,value:a.value};if(b.e())return null;var d=J(b);a=a.children.get(d);return null!==a?(b=yg(a,D(b),c),null!=b?{path:new L(d).m(b.path),value:b.value}:null):null}function zg(a,b){return yg(a,b,function(){return!0})}g.subtree=function(a){if(a.e())return this;var b=this.children.get(J(a));return null!==b?b.subtree(D(a)):Q};g.set=function(a,b){if(a.e())return new vg(b,this.children);var c=J(a),d=(this.children.get(c)||Q).set(D(a),b),c=this.children.Ra(c,d);return new vg(this.value,c)};g.remove=function(a){if(a.e())return this.children.e()?Q:new vg(null,this.children);var b=J(a),c=this.children.get(b);return c?(a=c.remove(D(a)),b=a.e()?this.children.remove(b):this.children.Ra(b,a),null===this.value&&b.e()?Q:new vg(this.value,b)):this};g.get=function(a){if(a.e())return this.value;var b=this.children.get(J(a));return b?b.get(D(a)):null};function $d(a,b,c){if(b.e())return c;var d=J(b);b=$d(a.children.get(d)||Q,D(b),c);d=b.e()?a.children.remove(d):a.children.Ra(d,b);return new vg(a.value,d)}function Ag(a,b){return Bg(a,C,b)}function Bg(a,b,c){var d={};a.children.ia(function(a,f){d[a]=Bg(f,b.m(a),c)});return c(b,a.value,d)}function Cg(a,b,c){return Dg(a,b,C,c)}function Dg(a,b,c,d){var e=a.value?d(c,a.value):!1;if(e)return e;if(b.e())return null;e=J(b);return(a=a.children.get(e))?Dg(a,D(b),c.m(e),d):null}function Eg(a,b,c){Fg(a,b,C,c)}function Fg(a,b,c,d){if(b.e())return a;a.value&&d(c,a.value);var e=J(b);return(a=a.children.get(e))?Fg(a,D(b),c.m(e),d):Q}function Yd(a,b){Gg(a,C,b)}function Gg(a,b,c){a.children.ia(function(a,e){Gg(e,b.m(a),c)});a.value&&c(b,a.value)}function Hg(a,b){a.children.ia(function(a,d){d.value&&b(a,d.value)})}var Q=new vg(null);vg.prototype.toString=function(){var a={};Yd(this,function(b,c){a[b.toString()]=c.toString()});return B(a)};function Ig(a,b,c){this.type=Qd;this.source=Jg;this.path=a;this.Pb=b;this.Id=c}Ig.prototype.Nc=function(a){if(this.path.e()){if(null!=this.Pb.value)return H(this.Pb.children.e(),"affectedTree should not have overlapping affected paths."),this;a=this.Pb.subtree(new L(a));return new Ig(C,a,this.Id)}H(J(this.path)===a,"operationForChild called for unrelated child.");return new Ig(D(this.path),this.Pb,this.Id)};Ig.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" ack write revert="+this.Id+" affectedTree="+this.Pb+")"};var $b=0,Dd=1,Qd=2,bc=3;function Kg(a,b,c,d){this.ee=a;this.Ve=b;this.Ib=c;this.Ee=d;H(!d||b,"Tagged queries must be from server.")}var Jg=new Kg(!0,!1,null,!1),Lg=new Kg(!1,!0,null,!1);Kg.prototype.toString=function(){return this.ee?"user":this.Ee?"server(queryID="+this.Ib+")":"server"};function Mg(a){this.X=a}var Ng=new Mg(new vg(null));function Og(a,b,c){if(b.e())return new Mg(new vg(c));var d=zg(a.X,b);if(null!=d){var e=d.path,d=d.value;b=T(e,b);d=d.F(b,c);return new Mg(a.X.set(e,d))}a=$d(a.X,b,new vg(c));return new Mg(a)}function Pg(a,b,c){var d=a;Cb(c,function(a,c){d=Og(d,b.m(a),c)});return d}Mg.prototype.Ed=function(a){if(a.e())return Ng;a=$d(this.X,a,Q);return new Mg(a)};function Qg(a,b){var c=zg(a.X,b);return null!=c?a.X.get(c.path).Q(T(c.path,b)):null}function Rg(a){var b=[],c=a.X.value;null!=c?c.J()||c.P(N,function(a,c){b.push(new K(a,c))}):a.X.children.ia(function(a,c){null!=c.value&&b.push(new K(a,c.value))});return b}function Sg(a,b){if(b.e())return a;var c=Qg(a,b);return null!=c?new Mg(new vg(c)):new Mg(a.X.subtree(b))}Mg.prototype.e=function(){return this.X.e()};Mg.prototype.apply=function(a){return Tg(C,this.X,a)};function Tg(a,b,c){if(null!=b.value)return c.F(a,b.value);var d=null;b.children.ia(function(b,f){".priority"===b?(H(null!==f.value,"Priority writes must always be leaf nodes"),d=f.value):c=Tg(a.m(b),f,c)});c.Q(a).e()||null===d||(c=c.F(a.m(".priority"),d));return c}function Ug(){this.Aa={}}g=Ug.prototype;g.e=function(){return xa(this.Aa)};g.gb=function(a,b,c){var d=a.source.Ib;if(null!==d)return d=x(this.Aa,d),H(null!=d,"SyncTree gave us an op for an invalid query."),d.gb(a,b,c);var e=[];t(this.Aa,function(d){e=e.concat(d.gb(a,b,c))});return e};g.Ob=function(a,b,c,d,e){var f=a.ya(),h=x(this.Aa,f);if(!h){var h=c.Ba(e?d:null),k=!1;h?k=!0:(h=d instanceof P?c.sc(d):F,k=!1);h=new kg(a,new Ud(new Dc(h,k,!1),new Dc(d,e,!1)));this.Aa[f]=h}h.Ob(b);return ng(h,b)};g.mb=function(a,b,c){var d=a.ya(),e=[],f=[],h=null!=Vg(this);if("default"===d){var k=this;t(this.Aa,function(a,d){f=f.concat(a.mb(b,c));a.e()&&(delete k.Aa[d],S(a.W.n)||e.push(a.W))})}else{var m=x(this.Aa,d);m&&(f=f.concat(m.mb(b,c)),m.e()&&(delete this.Aa[d],S(m.W.n)||e.push(m.W)))}h&&null==Vg(this)&&e.push(new U(a.w,a.path));return{rg:e,Sf:f}};function Wg(a){return Ka(sa(a.Aa),function(a){return!S(a.W.n)})}g.jb=function(a){var b=null;t(this.Aa,function(c){b=b||c.jb(a)});return b};function Xg(a,b){if(S(b.n))return Vg(a);var c=b.ya();return x(a.Aa,c)}function Vg(a){return wa(a.Aa,function(a){return S(a.W.n)})||null}function Yg(){this.T=Ng;this.la=[];this.Cc=-1}function Zg(a,b){for(var c=0;c<a.la.length;c++){var d=a.la[c];if(d.Zc===b)return d}return null}g=Yg.prototype;g.Ed=function(a){var b=Pa(this.la,function(b){return b.Zc===a});H(0<=b,"removeWrite called with nonexistent writeId.");var c=this.la[b];this.la.splice(b,1);for(var d=c.visible,e=!1,f=this.la.length-1;d&&0<=f;){var h=this.la[f];h.visible&&(f>=b&&$g(h,c.path)?d=!1:c.path.contains(h.path)&&(e=!0));f--}if(d){if(e)this.T=ah(this.la,bh,C),this.Cc=0<this.la.length?this.la[this.la.length-1].Zc:-1;else if(c.Ja)this.T=this.T.Ed(c.path);else{var k=this;t(c.children,function(a,b){k.T=k.T.Ed(c.path.m(b))})}return!0}return!1};g.Ba=function(a,b,c,d){if(c||d){var e=Sg(this.T,a);return!d&&e.e()?b:d||null!=b||null!=Qg(e,C)?(e=ah(this.la,function(b){return(b.visible||d)&&(!c||!(0<=Ia(c,b.Zc)))&&(b.path.contains(a)||a.contains(b.path))},a),b=b||F,e.apply(b)):null}e=Qg(this.T,a);if(null!=e)return e;e=Sg(this.T,a);return e.e()?b:null!=b||null!=Qg(e,C)?(b=b||F,e.apply(b)):null};g.sc=function(a,b){var c=F,d=Qg(this.T,a);if(d)d.J()||d.P(N,function(a,b){c=c.U(a,b)});else if(b){var e=Sg(this.T,a);b.P(N,function(a,b){var d=Sg(e,new L(a)).apply(b);c=c.U(a,d)});Ja(Rg(e),function(a){c=c.U(a.name,a.S)})}else e=Sg(this.T,a),Ja(Rg(e),function(a){c=c.U(a.name,a.S)});return c};g.$c=function(a,b,c,d){H(c||d,"Either existingEventSnap or existingServerSnap must exist");a=a.m(b);if(null!=Qg(this.T,a))return null;a=Sg(this.T,a);return a.e()?d.Q(b):a.apply(d.Q(b))};g.rc=function(a,b,c){a=a.m(b);var d=Qg(this.T,a);return null!=d?d:Cc(c,b)?Sg(this.T,a).apply(c.j().R(b)):null};g.mc=function(a){return Qg(this.T,a)};g.Xd=function(a,b,c,d,e,f){var h;a=Sg(this.T,a);h=Qg(a,C);if(null==h)if(null!=b)h=a.apply(b);else return[];h=h.ob(f);if(h.e()||h.J())return[];b=[];a=ke(f);e=e?h.$b(c,f):h.Yb(c,f);for(f=R(e);f&&b.length<d;)0!==a(f,c)&&b.push(f),f=R(e);return b};function $g(a,b){return a.Ja?a.path.contains(b):!!va(a.children,function(c,d){return a.path.m(d).contains(b)})}function bh(a){return a.visible}function ah(a,b,c){for(var d=Ng,e=0;e<a.length;++e){var f=a[e];if(b(f)){var h=f.path;if(f.Ja)c.contains(h)?(h=T(c,h),d=Og(d,h,f.Ja)):h.contains(c)&&(h=T(h,c),d=Og(d,C,f.Ja.Q(h)));else if(f.children)if(c.contains(h))h=T(c,h),d=Pg(d,h,f.children);else{if(h.contains(c))if(h=T(h,c),h.e())d=Pg(d,C,f.children);else if(f=x(f.children,J(h)))f=f.Q(D(h)),d=Og(d,C,f)}else throw Wc("WriteRecord should have .snap or .children")}}return d}function ch(a,b){this.Mb=a;this.X=b}g=ch.prototype;g.Ba=function(a,b,c){return this.X.Ba(this.Mb,a,b,c)};g.sc=function(a){return this.X.sc(this.Mb,a)};g.$c=function(a,b,c){return this.X.$c(this.Mb,a,b,c)};g.mc=function(a){return this.X.mc(this.Mb.m(a))};g.Xd=function(a,b,c,d,e){return this.X.Xd(this.Mb,a,b,c,d,e)};g.rc=function(a,b){return this.X.rc(this.Mb,a,b)};g.m=function(a){return new ch(this.Mb.m(a),this.X)};function dh(){this.children={};this.ad=0;this.value=null}function eh(a,b,c){this.ud=a?a:"";this.Ha=b?b:null;this.A=c?c:new dh}function fh(a,b){for(var c=b instanceof L?b:new L(b),d=a,e;null!==(e=J(c));)d=new eh(e,d,x(d.A.children,e)||new dh),c=D(c);return d}g=eh.prototype;g.Ea=function(){return this.A.value};function gh(a,b){H("undefined"!==typeof b,"Cannot set value to undefined");a.A.value=b;hh(a)}g.clear=function(){this.A.value=null;this.A.children={};this.A.ad=0;hh(this)};g.kd=function(){return 0<this.A.ad};g.e=function(){return null===this.Ea()&&!this.kd()};g.P=function(a){var b=this;t(this.A.children,function(c,d){a(new eh(d,b,c))})};function ih(a,b,c,d){c&&!d&&b(a);a.P(function(a){ih(a,b,!0,d)});c&&d&&b(a)}function jh(a,b){for(var c=a.parent();null!==c&&!b(c);)c=c.parent()}g.path=function(){return new L(null===this.Ha?this.ud:this.Ha.path()+"/"+this.ud)};g.name=function(){return this.ud};g.parent=function(){return this.Ha};function hh(a){if(null!==a.Ha){var b=a.Ha,c=a.ud,d=a.e(),e=Bb(b.A.children,c);d&&e?(delete b.A.children[c],b.A.ad--,hh(b)):d||e||(b.A.children[c]=a.A,b.A.ad++,hh(b))}}function kh(a,b,c,d,e,f){this.id=lh++;this.f=bd("p:"+this.id+":");this.qd={};this.$={};this.pa=[];this.Pc=0;this.Lc=[];this.ma=!1;this.Va=1e3;this.td=3e5;this.Hb=b;this.Kc=c;this.ue=d;this.M=a;this.pb=this.Ia=this.Db=this.ze=null;this.Vd=e;this.de=!1;this.ke=0;if(f)throw Error("Auth override specified in options, but not supported on non Node.js platforms");this.Je=f||null;this.vb=null;this.Nb=!1;this.Gd={};this.sg=0;this.Ue=!0;this.Bc=this.me=null;mh(this,0);Pf.Wb().hc("visible",this.ig,this);-1===a.host.indexOf("fblocal")&&Of.Wb().hc("online",this.hg,this)}var lh=0,nh=0;g=kh.prototype;g.ua=function(a,b,c){var d=++this.sg;a={r:d,a:a,b:b};this.f(B(a));H(this.ma,"sendRequest call when we're not connected not allowed.");this.Ia.ua(a);c&&(this.Gd[d]=c)};g.cf=function(a,b,c,d){var e=a.ya(),f=a.path.toString();this.f("Listen called for "+f+" "+e);this.$[f]=this.$[f]||{};H(zd(a.n)||!S(a.n),"listen() called for non-default but complete query");H(!this.$[f][e],"listen() called twice for same path/queryId.");a={G:d,ld:b,og:a,tag:c};this.$[f][e]=a;this.ma&&oh(this,a)};function oh(a,b){var c=b.og,d=c.path.toString(),e=c.ya();a.f("Listen on "+d+" for "+e);var f={p:d};b.tag&&(f.q=Ee(c.n),f.t=b.tag);f.h=b.ld();a.ua("q",f,function(f){var k=f.d,m=f.s;if(k&&"object"===typeof k&&Bb(k,"w")){var l=x(k,"w");da(l)&&0<=Ia(l,"no_index")&&O("Using an unspecified index. Consider adding "+('".indexOn": "'+c.n.g.toString()+'"')+" at "+c.path.toString()+" to your security rules for better performance")}(a.$[d]&&a.$[d][e])===b&&(a.f("listen response",f),"ok"!==m&&ph(a,d,e),b.G&&b.G(m,k))})}g.pf=function(a){this.pb=a;this.f("Auth token refreshed");this.pb?qh(this):this.ma&&this.ua("unauth",{},function(){});if(a&&40===a.length||pd(a))this.f("Admin auth credential detected.  Reducing max reconnect time."),this.td=3e4};function qh(a){if(a.ma&&a.pb){var b=a.pb,c={cred:b};a.Je&&(c.authvar=a.Je);a.ua("auth",c,function(c){var e=c.s;c=c.d||"error";a.pb===b&&("ok"===e?this.ke=0:rh(a,e,c))})}}g.Df=function(a,b){var c=a.path.toString(),d=a.ya();this.f("Unlisten called for "+c+" "+d);H(zd(a.n)||!S(a.n),"unlisten() called for non-default but complete query");if(ph(this,c,d)&&this.ma){var e=Ee(a.n);this.f("Unlisten on "+c+" for "+d);c={p:c};b&&(c.q=e,c.t=b);this.ua("n",c)}};g.re=function(a,b,c){this.ma?sh(this,"o",a,b,c):this.Lc.push({we:a,action:"o",data:b,G:c})};g.ff=function(a,b,c){this.ma?sh(this,"om",a,b,c):this.Lc.push({we:a,action:"om",data:b,G:c})};g.xd=function(a,b){this.ma?sh(this,"oc",a,null,b):this.Lc.push({we:a,action:"oc",data:null,G:b})};function sh(a,b,c,d,e){c={p:c,d:d};a.f("onDisconnect "+b,c);a.ua(b,c,function(a){e&&setTimeout(function(){e(a.s,a.d)},Math.floor(0))})}g.put=function(a,b,c,d){th(this,"p",a,b,c,d)};g.df=function(a,b,c,d){th(this,"m",a,b,c,d)};function th(a,b,c,d,e,f){d={p:c,d:d};p(f)&&(d.h=f);a.pa.push({action:b,rf:d,G:e});a.Pc++;b=a.pa.length-1;a.ma?uh(a,b):a.f("Buffering put: "+c)}function uh(a,b){var c=a.pa[b].action,d=a.pa[b].rf,e=a.pa[b].G;a.pa[b].pg=a.ma;a.ua(c,d,function(d){a.f(c+" response",d);delete a.pa[b];a.Pc--;0===a.Pc&&(a.pa=[]);e&&e(d.s,d.d)})}g.ye=function(a){this.ma&&(a={c:a},this.f("reportStats",a),this.ua("s",a,function(a){"ok"!==a.s&&this.f("reportStats","Error sending stats: "+a.d)}))};g.wd=function(a){if("r"in a){this.f("from server: "+B(a));var b=a.r,c=this.Gd[b];c&&(delete this.Gd[b],c(a.b))}else{if("error"in a)throw"A server-side error has occurred: "+a.error;"a"in a&&(b=a.a,a=a.b,this.f("handleServerMessage",b,a),"d"===b?this.Hb(a.p,a.d,!1,a.t):"m"===b?this.Hb(a.p,a.d,!0,a.t):"c"===b?vh(this,a.p,a.q):"ac"===b?rh(this,a.s,a.d):"sd"===b?this.ze?this.ze(a):"msg"in a&&"undefined"!==typeof console&&console.log("FIREBASE: "+a.msg.replace("\n","\nFIREBASE: ")):cd("Unrecognized action received from server: "+B(b)+"\nAre you using the latest client?"))}};g.Mc=function(a,b){this.f("connection ready");this.ma=!0;this.Bc=(new Date).getTime();this.ue({serverTimeOffset:a-(new Date).getTime()});this.Db=b;if(this.Ue){var c={};c["sdk.js."+firebase.SDK_VERSION.replace(/\./g,"-")]=1;"undefined"!==typeof window&&(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test("undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:"")?c["framework.cordova"]=1:"object"===typeof navigator&&"ReactNative"===navigator.product&&(c["framework.reactnative"]=1);this.ye(c)}wh(this);this.Ue=!1;this.Kc(!0)};function mh(a,b){H(!a.Ia,"Scheduling a connect when we're already connected/ing?");a.vb&&clearTimeout(a.vb);a.vb=setTimeout(function(){a.vb=null;xh(a)},Math.floor(b))}g.ig=function(a){a&&!this.Nb&&this.Va===this.td&&(this.f("Window became visible.  Reducing delay."),this.Va=1e3,this.Ia||mh(this,0));this.Nb=a};g.hg=function(a){a?(this.f("Browser went online."),this.Va=1e3,this.Ia||mh(this,0)):(this.f("Browser went offline.  Killing connection."),this.Ia&&this.Ia.close())};g.hf=function(){this.f("data client disconnected");this.ma=!1;this.Ia=null;for(var a=0;a<this.pa.length;a++){var b=this.pa[a];b&&"h"in b.rf&&b.pg&&(b.G&&b.G("disconnect"),delete this.pa[a],this.Pc--)}0===this.Pc&&(this.pa=[]);this.Gd={};yh(this)&&(this.Nb?this.Bc&&(3e4<(new Date).getTime()-this.Bc&&(this.Va=1e3),this.Bc=null):(this.f("Window isn't visible.  Delaying reconnect."),this.Va=this.td,this.me=(new Date).getTime()),a=Math.max(0,this.Va-((new Date).getTime()-this.me)),a*=Math.random(),this.f("Trying to reconnect in "+a+"ms"),mh(this,a),this.Va=Math.min(this.td,1.3*this.Va));this.Kc(!1)};function xh(a){if(yh(a)){a.f("Making a connection attempt");a.me=(new Date).getTime();a.Bc=null;var b=r(a.wd,a),c=r(a.Mc,a),d=r(a.hf,a),e=a.id+":"+nh++,f=a.Db,h=!1,k=null,m=function(){k?k.close():(h=!0,d())};a.Ia={close:m,ua:function(a){H(k,"sendRequest call when we're not connected not allowed.");k.ua(a)}};var l=a.de;a.de=!1;a.Vd.getToken(l).then(function(l){h?E("getToken() completed but was canceled"):(E("getToken() completed. Creating connection."),a.pb=l&&l.accessToken,k=new Ye(e,a.M,b,c,d,function(b){O(b+" ("+a.M.toString()+")");a.eb("server_kill")},f))}).then(null,function(b){a.f("Failed to get token: "+b);h||m()})}}g.eb=function(a){E("Interrupting connection for reason: "+a);this.qd[a]=!0;this.Ia?this.Ia.close():(this.vb&&(clearTimeout(this.vb),this.vb=null),this.ma&&this.hf())};g.lc=function(a){E("Resuming connection for reason: "+a);delete this.qd[a];xa(this.qd)&&(this.Va=1e3,this.Ia||mh(this,0))};function vh(a,b,c){c=c?La(c,function(a){return jd(a)}).join("$"):"default";(a=ph(a,b,c))&&a.G&&a.G("permission_denied")}function ph(a,b,c){b=new L(b).toString();var d;p(a.$[b])?(d=a.$[b][c],delete a.$[b][c],0===qa(a.$[b])&&delete a.$[b]):d=void 0;return d}function rh(a,b,c){E("Auth token revoked: "+b+"/"+c);a.pb=null;a.de=!0;a.Ia.close();"invalid_token"===b&&(a.ke++,3<=a.ke&&(a.Va=3e4,O("Provided authentication credentials are invalid. This usually indicates your FirebaseApp instance was not initialized correctly. Make sure your apiKey and databaseURL match the values provided for your app at https://console.firebase.google.com/, or if you're using a service account, make sure it's authorized to access the specified databaseURL and is from the correct project.")))}function wh(a){qh(a);t(a.$,function(b){t(b,function(b){oh(a,b)})});for(var b=0;b<a.pa.length;b++)a.pa[b]&&uh(a,b);for(;a.Lc.length;)b=a.Lc.shift(),sh(a,b.action,b.we,b.data,b.G)}function yh(a){var b;b=Of.Wb().ic;return xa(a.qd)&&b}var Y={Wf:function(){Ne=td=!0}};Y.forceLongPolling=Y.Wf;Y.Xf=function(){Oe=!0};Y.forceWebSockets=Y.Xf;Y.cg=function(){return rd.isAvailable()};Y.isWebSocketsAvailable=Y.cg;Y.vg=function(a,b){a.w.Ua.ze=b};Y.setSecurityDebugCallback=Y.vg;Y.Be=function(a,b){a.w.Be(b)};Y.stats=Y.Be;Y.Ce=function(a,b){a.w.Ce(b)};Y.statsIncrementCounter=Y.Ce;Y.ed=function(a){return a.w.ed};Y.dataUpdateCount=Y.ed;Y.bg=function(a,b){a.w.je=b};Y.interceptServerData=Y.bg;function zh(a){this.wa=Q;this.lb=new Yg;this.De={};this.jc={};this.Dc=a}function Ah(a,b,c,d,e){var f=a.lb,h=e;H(d>f.Cc,"Stacking an older write on top of newer ones");p(h)||(h=!0);f.la.push({path:b,Ja:c,Zc:d,visible:h});h&&(f.T=Og(f.T,b,c));f.Cc=d;return e?Bh(a,new Zb(Jg,b,c)):[]}function Ch(a,b,c,d){var e=a.lb;H(d>e.Cc,"Stacking an older merge on top of newer ones");e.la.push({path:b,children:c,Zc:d,visible:!0});e.T=Pg(e.T,b,c);e.Cc=d;c=xg(c);return Bh(a,new Cd(Jg,b,c))}function Dh(a,b,c){c=c||!1;var d=Zg(a.lb,b);if(a.lb.Ed(b)){var e=Q;null!=d.Ja?e=e.set(C,!0):Cb(d.children,function(a,b){e=e.set(new L(a),b)});return Bh(a,new Ig(d.path,e,c))}return[]}function Eh(a,b,c){c=xg(c);return Bh(a,new Cd(Lg,b,c))}function Fh(a,b,c,d){d=Gh(a,d);if(null!=d){var e=Hh(d);d=e.path;e=e.Ib;b=T(d,b);c=new Zb(new Kg(!1,!0,e,!0),b,c);return Ih(a,d,c)}return[]}function Jh(a,b,c,d){if(d=Gh(a,d)){var e=Hh(d);d=e.path;e=e.Ib;b=T(d,b);c=xg(c);c=new Cd(new Kg(!1,!0,e,!0),b,c);return Ih(a,d,c)}return[]}zh.prototype.Ob=function(a,b){var c=a.path,d=null,e=!1;Eg(this.wa,c,function(a,b){var f=T(a,c);d=d||b.jb(f);e=e||null!=Vg(b)});var f=this.wa.get(c);f?(e=e||null!=Vg(f),d=d||f.jb(C)):(f=new Ug,this.wa=this.wa.set(c,f));var h;null!=d?h=!0:(h=!1,d=F,Hg(this.wa.subtree(c),function(a,b){var c=b.jb(C);c&&(d=d.U(a,c))}));var k=null!=Xg(f,a);if(!k&&!S(a.n)){var m=Kh(a);H(!(m in this.jc),"View does not exist, but we have a tag");var l=Lh++;this.jc[m]=l;this.De["_"+l]=m}h=f.Ob(a,b,new ch(c,this.lb),d,h);k||e||(f=Xg(f,a),h=h.concat(Mh(this,a,f)));return h};zh.prototype.mb=function(a,b,c){var d=a.path,e=this.wa.get(d),f=[];if(e&&("default"===a.ya()||null!=Xg(e,a))){f=e.mb(a,b,c);e.e()&&(this.wa=this.wa.remove(d));e=f.rg;f=f.Sf;b=-1!==Pa(e,function(a){return S(a.n)});var h=Cg(this.wa,d,function(a,b){return null!=Vg(b)});if(b&&!h&&(d=this.wa.subtree(d),!d.e()))for(var d=Nh(d),k=0;k<d.length;++k){var m=d[k],l=m.W,m=Oh(this,m);this.Dc.Ae(Ph(l),Qh(this,l),m.ld,m.G)}if(!h&&0<e.length&&!c)if(b)this.Dc.Od(Ph(a),null);else{var u=this;Ja(e,function(a){a.ya();var b=u.jc[Kh(a)];u.Dc.Od(Ph(a),b)})}Rh(this,e)}return f};zh.prototype.Ba=function(a,b){var c=this.lb,d=Cg(this.wa,a,function(b,c){var d=T(b,a);if(d=c.jb(d))return d});return c.Ba(a,d,b,!0)};function Nh(a){return Ag(a,function(a,c,d){if(c&&null!=Vg(c))return[Vg(c)];var e=[];c&&(e=Wg(c));t(d,function(a){e=e.concat(a)});return e})}function Rh(a,b){for(var c=0;c<b.length;++c){var d=b[c];if(!S(d.n)){var d=Kh(d),e=a.jc[d];delete a.jc[d];delete a.De["_"+e]}}}function Ph(a){return S(a.n)&&!zd(a.n)?a.xb():a}function Mh(a,b,c){var d=b.path,e=Qh(a,b);c=Oh(a,c);b=a.Dc.Ae(Ph(b),e,c.ld,c.G);d=a.wa.subtree(d);if(e)H(null==Vg(d.value),"If we're adding a query, it shouldn't be shadowed");else for(e=Ag(d,function(a,b,c){if(!a.e()&&b&&null!=Vg(b))return[lg(Vg(b))];var d=[];b&&(d=d.concat(La(Wg(b),function(a){return a.W})));t(c,function(a){d=d.concat(a)});return d}),d=0;d<e.length;++d)c=e[d],a.Dc.Od(Ph(c),Qh(a,c));return b}function Oh(a,b){var c=b.W,d=Qh(a,c);return{ld:function(){return(b.u()||F).hash()},G:function(b){if("ok"===b){if(d){var f=c.path;if(b=Gh(a,d)){var h=Hh(b);b=h.path;h=h.Ib;f=T(b,f);f=new ac(new Kg(!1,!0,h,!0),f);b=Ih(a,b,f)}else b=[]}else b=Bh(a,new ac(Lg,c.path));return b}f="Unknown Error";"too_big"===b?f="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"==b?f="Client doesn't have permission to access the desired data.":"unavailable"==b&&(f="The service is unavailable");f=Error(b+" at "+c.path.toString()+": "+f);f.code=b.toUpperCase();return a.mb(c,null,f)}}}function Kh(a){return a.path.toString()+"$"+a.ya()}function Hh(a){var b=a.indexOf("$");H(-1!==b&&b<a.length-1,"Bad queryKey.");return{Ib:a.substr(b+1),path:new L(a.substr(0,b))}}function Gh(a,b){var c=a.De,d="_"+b;return d in c?c[d]:void 0}function Qh(a,b){var c=Kh(b);return x(a.jc,c)}var Lh=1;function Ih(a,b,c){var d=a.wa.get(b);H(d,"Missing sync point for query tag that we're tracking");return d.gb(c,new ch(b,a.lb),null)}function Bh(a,b){return Sh(a,b,a.wa,null,new ch(C,a.lb))}function Sh(a,b,c,d,e){if(b.path.e())return Th(a,b,c,d,e);var f=c.get(C);null==d&&null!=f&&(d=f.jb(C));var h=[],k=J(b.path),m=b.Nc(k);if((c=c.children.get(k))&&m)var l=d?d.R(k):null,k=e.m(k),h=h.concat(Sh(a,m,c,l,k));f&&(h=h.concat(f.gb(b,e,d)));return h}function Th(a,b,c,d,e){var f=c.get(C);null==d&&null!=f&&(d=f.jb(C));var h=[];c.children.ia(function(c,f){var l=d?d.R(c):null,u=e.m(c),z=b.Nc(c);z&&(h=h.concat(Th(a,z,f,l,u)))});f&&(h=h.concat(f.gb(b,e,d)));return h}function pf(a,b,c){this.app=c;var d=new cc(c);this.M=a;this.Xa=oc(a);this.Vc=null;this.da=new qc;this.vd=1;this.Ua=null;if(b||0<=("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i))this.va=new xd(this.M,r(this.Hb,this),d),setTimeout(r(this.Kc,this,!0),0);else{b=c.options.databaseAuthVariableOverride||null;if(null!==b){if("object"!==ca(b))throw Error("Only objects are supported for option databaseAuthVariableOverride");try{B(b)}catch(e){throw Error("Invalid authOverride provided: "+e)}}this.va=this.Ua=new kh(this.M,r(this.Hb,this),r(this.Kc,this),r(this.ue,this),d,b)}var f=this;dc(d,function(a){f.va.pf(a)});this.xg=pc(a,r(function(){
return new ic(this.Xa,this.va)},this));this.nc=new eh;this.ie=new ec;this.pd=new zh({Ae:function(a,b,c,d){b=[];c=f.ie.j(a.path);c.e()||(b=Bh(f.pd,new Zb(Lg,a.path,c)),setTimeout(function(){d("ok")},0));return b},Od:aa});Uh(this,"connected",!1);this.ja=new Qc;this.$a=new of(this);this.ed=0;this.je=null;this.K=new zh({Ae:function(a,b,c,d){f.va.cf(a,c,b,function(b,c){var e=d(b,c);vc(f.da,a.path,e)});return[]},Od:function(a,b){f.va.Df(a,b)}})}g=pf.prototype;g.toString=function(){return(this.M.Sc?"https://":"http://")+this.M.host};g.name=function(){return this.M.pe};function Vh(a){a=a.ie.j(new L(".info/serverTimeOffset")).H()||0;return(new Date).getTime()+a}function Wh(a){a=a={timestamp:Vh(a)};a.timestamp=a.timestamp||(new Date).getTime();return a}g.Hb=function(a,b,c,d){this.ed++;var e=new L(a);b=this.je?this.je(a,b):b;a=[];d?c?(b=oa(b,function(a){return M(a)}),a=Jh(this.K,e,b,d)):(b=M(b),a=Fh(this.K,e,b,d)):c?(d=oa(b,function(a){return M(a)}),a=Eh(this.K,e,d)):(d=M(b),a=Bh(this.K,new Zb(Lg,e,d)));d=e;0<a.length&&(d=Xh(this,e));vc(this.da,d,a)};g.Kc=function(a){Uh(this,"connected",a);!1===a&&Yh(this)};g.ue=function(a){var b=this;ld(a,function(a,d){Uh(b,d,a)})};function Uh(a,b,c){b=new L("/.info/"+b);c=M(c);var d=a.ie;d.Jd=d.Jd.F(b,c);c=Bh(a.pd,new Zb(Lg,b,c));vc(a.da,b,c)}g.Kb=function(a,b,c,d){this.f("set",{path:a.toString(),value:b,Dg:c});var e=Wh(this);b=M(b,c);var e=Tc(b,e),f=this.vd++,e=Ah(this.K,a,e,f,!0);rc(this.da,e);var h=this;this.va.put(a.toString(),b.H(!0),function(b,c){var e="ok"===b;e||O("set at "+a+" failed: "+b);e=Dh(h.K,f,!e);vc(h.da,a,e);Zh(d,b,c)});e=$h(this,a);Xh(this,e);vc(this.da,e,[])};g.update=function(a,b,c){this.f("update",{path:a.toString(),value:b});var d=!0,e=Wh(this),f={};t(b,function(a,b){d=!1;var c=M(a);f[b]=Tc(c,e)});if(d)E("update() called with empty data.  Don't do anything."),Zh(c,"ok");else{var h=this.vd++,k=Ch(this.K,a,f,h);rc(this.da,k);var m=this;this.va.df(a.toString(),b,function(b,d){var e="ok"===b;e||O("update at "+a+" failed: "+b);var e=Dh(m.K,h,!e),f=a;0<e.length&&(f=Xh(m,a));vc(m.da,f,e);Zh(c,b,d)});b=$h(this,a);Xh(this,b);vc(this.da,a,[])}};function Yh(a){a.f("onDisconnectEvents");var b=Wh(a),c=[];Rc(Pc(a.ja,b),C,function(b,e){c=c.concat(Bh(a.K,new Zb(Lg,b,e)));var f=$h(a,b);Xh(a,f)});a.ja=new Qc;vc(a.da,C,c)}g.xd=function(a,b){var c=this;this.va.xd(a.toString(),function(d,e){"ok"===d&&vf(c.ja,a);Zh(b,d,e)})};function Jf(a,b,c,d){var e=M(c);a.va.re(b.toString(),e.H(!0),function(c,h){"ok"===c&&Sc(a.ja,b,e);Zh(d,c,h)})}function Kf(a,b,c,d,e){var f=M(c,d);a.va.re(b.toString(),f.H(!0),function(c,d){"ok"===c&&Sc(a.ja,b,f);Zh(e,c,d)})}function Lf(a,b,c,d){var e=!0,f;for(f in c)e=!1;e?(E("onDisconnect().update() called with empty data.  Don't do anything."),Zh(d,"ok")):a.va.ff(b.toString(),c,function(e,f){if("ok"===e)for(var m in c){var l=M(c[m]);Sc(a.ja,b.m(m),l)}Zh(d,e,f)})}function ug(a,b,c){c=".info"===J(b.path)?a.pd.Ob(b,c):a.K.Ob(b,c);tc(a.da,b.path,c)}g.eb=function(){this.Ua&&this.Ua.eb("repo_interrupt")};g.lc=function(){this.Ua&&this.Ua.lc("repo_interrupt")};g.Be=function(a){if("undefined"!==typeof console){a?(this.Vc||(this.Vc=new jc(this.Xa)),a=this.Vc.get()):a=this.Xa.get();var b=Ma(ta(a),function(a,b){return Math.max(b.length,a)},0),c;for(c in a){for(var d=a[c],e=c.length;e<b+2;e++)c+=" ";console.log(c+d)}}};g.Ce=function(a){lc(this.Xa,a);this.xg.yf[a]=!0};g.f=function(a){var b="";this.Ua&&(b=this.Ua.id+":");E(b,arguments)};function Zh(a,b,c){a&&Tb(function(){if("ok"==b)a(null);else{var d=(b||"error").toUpperCase(),e=d;c&&(e+=": "+c);e=Error(e);e.code=d;a(e)}})}function ai(a,b,c,d,e){function f(){}a.f("transaction on "+b);var h=new U(a,b);h.hc("value",f);c={path:b,update:c,G:d,status:null,kf:Vc(),Ie:e,uf:0,Rd:function(){h.Jc("value",f)},Td:null,Da:null,bd:null,cd:null,dd:null};d=a.K.Ba(b,void 0)||F;c.bd=d;d=c.update(d.H());if(p(d)){Bf("transaction failed: Data returned ",d,c.path);c.status=1;e=fh(a.nc,b);var k=e.Ea()||[];k.push(c);gh(e,k);"object"===typeof d&&null!==d&&Bb(d,".priority")?(k=x(d,".priority"),H(zf(k),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):k=(a.K.Ba(b)||F).C().H();e=Wh(a);d=M(d,k);e=Tc(d,e);c.cd=d;c.dd=e;c.Da=a.vd++;c=Ah(a.K,b,e,c.Da,c.Ie);vc(a.da,b,c);bi(a)}else c.Rd(),c.cd=null,c.dd=null,c.G&&(a=new W(c.bd,new U(a,c.path),N),c.G(null,!1,a))}function bi(a,b){var c=b||a.nc;b||ci(a,c);if(null!==c.Ea()){var d=di(a,c);H(0<d.length,"Sending zero length transaction queue");Na(d,function(a){return 1===a.status})&&ei(a,c.path(),d)}else c.kd()&&c.P(function(b){bi(a,b)})}function ei(a,b,c){for(var d=La(c,function(a){return a.Da}),e=a.K.Ba(b,d)||F,d=e,e=e.hash(),f=0;f<c.length;f++){var h=c[f];H(1===h.status,"tryToSendTransactionQueue_: items in queue should all be run.");h.status=2;h.uf++;var k=T(b,h.path),d=d.F(k,h.cd)}d=d.H(!0);a.va.put(b.toString(),d,function(d){a.f("transaction put response",{path:b.toString(),status:d});var e=[];if("ok"===d){d=[];for(f=0;f<c.length;f++){c[f].status=3;e=e.concat(Dh(a.K,c[f].Da));if(c[f].G){var h=c[f].dd,k=new U(a,c[f].path);d.push(r(c[f].G,null,null,!0,new W(h,k,N)))}c[f].Rd()}ci(a,fh(a.nc,b));bi(a);vc(a.da,b,e);for(f=0;f<d.length;f++)Tb(d[f])}else{if("datastale"===d)for(f=0;f<c.length;f++)c[f].status=4===c[f].status?5:1;else for(O("transaction at "+b.toString()+" failed: "+d),f=0;f<c.length;f++)c[f].status=5,c[f].Td=d;Xh(a,b)}},e)}function Xh(a,b){var c=fi(a,b),d=c.path(),c=di(a,c);gi(a,c,d);return d}function gi(a,b,c){if(0!==b.length){for(var d=[],e=[],f=La(b,function(a){return a.Da}),h=0;h<b.length;h++){var k=b[h],m=T(c,k.path),l=!1,u;H(null!==m,"rerunTransactionsUnderNode_: relativePath should not be null.");if(5===k.status)l=!0,u=k.Td,e=e.concat(Dh(a.K,k.Da,!0));else if(1===k.status)if(25<=k.uf)l=!0,u="maxretry",e=e.concat(Dh(a.K,k.Da,!0));else{var z=a.K.Ba(k.path,f)||F;k.bd=z;var G=b[h].update(z.H());p(G)?(Bf("transaction failed: Data returned ",G,k.path),m=M(G),"object"===typeof G&&null!=G&&Bb(G,".priority")||(m=m.ga(z.C())),z=k.Da,G=Wh(a),G=Tc(m,G),k.cd=m,k.dd=G,k.Da=a.vd++,Qa(f,z),e=e.concat(Ah(a.K,k.path,G,k.Da,k.Ie)),e=e.concat(Dh(a.K,z,!0))):(l=!0,u="nodata",e=e.concat(Dh(a.K,k.Da,!0)))}vc(a.da,c,e);e=[];l&&(b[h].status=3,setTimeout(b[h].Rd,Math.floor(0)),b[h].G&&("nodata"===u?(k=new U(a,b[h].path),d.push(r(b[h].G,null,null,!1,new W(b[h].bd,k,N)))):d.push(r(b[h].G,null,Error(u),!1,null))))}ci(a,a.nc);for(h=0;h<d.length;h++)Tb(d[h]);bi(a)}}function fi(a,b){for(var c,d=a.nc;null!==(c=J(b))&&null===d.Ea();)d=fh(d,c),b=D(b);return d}function di(a,b){var c=[];hi(a,b,c);c.sort(function(a,b){return a.kf-b.kf});return c}function hi(a,b,c){var d=b.Ea();if(null!==d)for(var e=0;e<d.length;e++)c.push(d[e]);b.P(function(b){hi(a,b,c)})}function ci(a,b){var c=b.Ea();if(c){for(var d=0,e=0;e<c.length;e++)3!==c[e].status&&(c[d]=c[e],d++);c.length=d;gh(b,0<c.length?c:null)}b.P(function(b){ci(a,b)})}function $h(a,b){var c=fi(a,b).path(),d=fh(a.nc,b);jh(d,function(b){ii(a,b)});ii(a,d);ih(d,function(b){ii(a,b)});return c}function ii(a,b){var c=b.Ea();if(null!==c){for(var d=[],e=[],f=-1,h=0;h<c.length;h++)4!==c[h].status&&(2===c[h].status?(H(f===h-1,"All SENT items should be at beginning of queue."),f=h,c[h].status=4,c[h].Td="set"):(H(1===c[h].status,"Unexpected transaction status in abort"),c[h].Rd(),e=e.concat(Dh(a.K,c[h].Da,!0)),c[h].G&&d.push(r(c[h].G,null,Error("set"),!1,null))));-1===f?gh(b,null):c.length=f+1;vc(a.da,b.path(),e);for(h=0;h<d.length;h++)Tb(d[h])}}function uf(){this.nb={};this.Ef=!1}uf.prototype.eb=function(){for(var a in this.nb)this.nb[a].eb()};uf.prototype.lc=function(){for(var a in this.nb)this.nb[a].lc()};uf.prototype.ce=function(a){this.Ef=a};ba(uf);uf.prototype.interrupt=uf.prototype.eb;uf.prototype.resume=uf.prototype.lc;var Z={};Z.pc=kh;Z.DataConnection=Z.pc;kh.prototype.wg=function(a,b){this.ua("q",{p:a},b)};Z.pc.prototype.simpleListen=Z.pc.prototype.wg;kh.prototype.Pf=function(a,b){this.ua("echo",{d:a},b)};Z.pc.prototype.echo=Z.pc.prototype.Pf;kh.prototype.interrupt=kh.prototype.eb;Z.Hf=Ye;Z.RealTimeConnection=Z.Hf;Ye.prototype.sendRequest=Ye.prototype.ua;Ye.prototype.close=Ye.prototype.close;Z.ag=function(a){var b=kh.prototype.put;kh.prototype.put=function(c,d,e,f){p(f)&&(f=a());b.call(this,c,d,e,f)};return function(){kh.prototype.put=b}};Z.hijackHash=Z.ag;Z.Gf=fc;Z.ConnectionTarget=Z.Gf;Z.ya=function(a){return a.ya()};Z.queryIdentifier=Z.ya;Z.dg=function(a){return a.w.Ua.$};Z.listens=Z.dg;Z.ce=function(a){uf.Wb().ce(a)};Z.forceRestClient=Z.ce;Z.Context=uf;function U(a,b){if(!(a instanceof pf))throw Error("new Firebase() no longer supported - use app.database().");X.call(this,a,b,Be,!1);this.then=void 0;this["catch"]=void 0}ka(U,X);g=U.prototype;g.getKey=function(){y("Firebase.key",0,0,arguments.length);return this.path.e()?null:Xd(this.path)};g.m=function(a){y("Firebase.child",1,1,arguments.length);if(fa(a))a=String(a);else if(!(a instanceof L))if(null===J(this.path)){var b=a;b&&(b=b.replace(/^\/*\.info(\/|$)/,"/"));Hf("Firebase.child",b)}else Hf("Firebase.child",a);return new U(this.w,this.path.m(a))};g.getParent=function(){y("Firebase.parent",0,0,arguments.length);var a=this.path.parent();return null===a?null:new U(this.w,a)};g.Yf=function(){y("Firebase.ref",0,0,arguments.length);for(var a=this;null!==a.getParent();)a=a.getParent();return a};g.Of=function(){return this.w.$a};g.set=function(a,b){y("Firebase.set",1,2,arguments.length);If("Firebase.set",this.path);Af("Firebase.set",a,this.path,!1);A("Firebase.set",2,b,!0);var c=new Hb;this.w.Kb(this.path,a,null,Ib(c,b));return c.ra};g.update=function(a,b){y("Firebase.update",1,2,arguments.length);If("Firebase.update",this.path);if(da(a)){for(var c={},d=0;d<a.length;++d)c[""+d]=a[d];a=c;O("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Df("Firebase.update",a,this.path);A("Firebase.update",2,b,!0);c=new Hb;this.w.update(this.path,a,Ib(c,b));return c.ra};g.Kb=function(a,b,c){y("Firebase.setWithPriority",2,3,arguments.length);If("Firebase.setWithPriority",this.path);Af("Firebase.setWithPriority",a,this.path,!1);Ef("Firebase.setWithPriority",2,b);A("Firebase.setWithPriority",3,c,!0);if(".length"===this.getKey()||".keys"===this.getKey())throw"Firebase.setWithPriority failed: "+this.getKey()+" is a read-only object.";var d=new Hb;this.w.Kb(this.path,a,b,Ib(d,c));return d.ra};g.remove=function(a){y("Firebase.remove",0,1,arguments.length);If("Firebase.remove",this.path);A("Firebase.remove",1,a,!0);return this.set(null,a)};g.transaction=function(a,b,c){y("Firebase.transaction",1,3,arguments.length);If("Firebase.transaction",this.path);A("Firebase.transaction",1,a,!1);A("Firebase.transaction",2,b,!0);if(p(c)&&"boolean"!=typeof c)throw Error(Db("Firebase.transaction",3,!0)+"must be a boolean.");if(".length"===this.getKey()||".keys"===this.getKey())throw"Firebase.transaction failed: "+this.getKey()+" is a read-only object.";"undefined"===typeof c&&(c=!0);var d=new Hb;ga(b)&&Jb(d.ra);ai(this.w,this.path,a,function(a,c,h){a?d.reject(a):d.resolve(new Pb(c,h));ga(b)&&b(a,c,h)},c);return d.ra};g.ug=function(a,b){y("Firebase.setPriority",1,2,arguments.length);If("Firebase.setPriority",this.path);Ef("Firebase.setPriority",1,a);A("Firebase.setPriority",2,b,!0);var c=new Hb;this.w.Kb(this.path.m(".priority"),a,null,Ib(c,b));return c.ra};g.push=function(a,b){y("Firebase.push",0,2,arguments.length);If("Firebase.push",this.path);Af("Firebase.push",a,this.path,!0);A("Firebase.push",2,b,!0);var c=Vh(this.w),d=Qf(c),c=this.m(d);if(null!=a){var e=this,f=c.set(a,b).then(function(){return e.m(d)});c.then=r(f.then,f);c["catch"]=r(f.then,f,void 0);ga(b)&&Jb(f)}return c};g.kb=function(){If("Firebase.onDisconnect",this.path);return new V(this.w,this.path)};U.prototype.child=U.prototype.m;U.prototype.set=U.prototype.set;U.prototype.update=U.prototype.update;U.prototype.setWithPriority=U.prototype.Kb;U.prototype.remove=U.prototype.remove;U.prototype.transaction=U.prototype.transaction;U.prototype.setPriority=U.prototype.ug;U.prototype.push=U.prototype.push;U.prototype.onDisconnect=U.prototype.kb;od(U.prototype,"database",U.prototype.Of);od(U.prototype,"key",U.prototype.getKey);od(U.prototype,"parent",U.prototype.getParent);od(U.prototype,"root",U.prototype.Yf);if("undefined"===typeof firebase)throw Error("Cannot install Firebase Database - be sure to load firebase-app.js first.");try{firebase.INTERNAL.registerService("database",function(a){var b=uf.Wb(),c=a.options.databaseURL;p(c)||dd("Can't determine Firebase Database URL.  Be sure to include databaseURL option when calling firebase.intializeApp().");var d=ed(c),c=d.kc;tf("Invalid Firebase Database URL",d);d.path.e()||dd("Database URL must point to the root of a Firebase Database (not including a child path).");(d=x(b.nb,a.name))&&dd("FIREBASE INTERNAL ERROR: Database initialized multiple times.");d=new pf(c,b.Ef,a);b.nb[a.name]=d;return d.$a},{Reference:U,Query:X,Database:of,enableLogging:ad,INTERNAL:Y,TEST_ACCESS:Z,ServerValue:rf})}catch(ji){dd("Failed to register the Firebase Database Service ("+ji+")")}})();(function(){var k,aa=aa||{},m=this,n=function(a){return void 0!==a},ba=function(){},p=function(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";else if("function"==b&&"undefined"==typeof a.call)return"object";return b},ca=function(a){var b=p(a);return"array"==b||"object"==b&&"number"==typeof a.length},q=function(a){return"string"==typeof a},r=function(a){return"function"==p(a)},da=function(a){var b=typeof a;return"object"==b&&null!=a||"function"==b},ea="closure_uid_"+(1e9*Math.random()>>>0),fa=0,ga=function(a,b,c){return a.call.apply(a.bind,arguments)},ha=function(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}},t=function(a,b,c){t=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ga:ha;return t.apply(null,arguments)},ia=Date.now||function(){return+new Date},u=function(a,b){function c(){}c.prototype=b.prototype;a.G=b.prototype;a.prototype=new c;a.Ma=function(a,c,f){for(var g=Array(arguments.length-2),h=2;h<arguments.length;h++)g[h-2]=arguments[h];return b.prototype[c].apply(a,g)}};var ja=function(a,b,c){function d(){N||(N=!0,b.apply(null,arguments))}function e(b){l=setTimeout(function(){l=null;a(f,2===w)},b)}function f(a,b){if(!N)if(a)d.apply(null,arguments);else if(2===w||B)d.apply(null,arguments);else{64>h&&(h*=2);var c;1===w?(w=2,c=0):c=1e3*(h+Math.random());e(c)}}function g(a){Tb||(Tb=!0,N||(null!==l?(a||(w=2),clearTimeout(l),e(0)):a||(w=1)))}var h=1,l=null,B=!1,w=0,N=!1,Tb=!1;e(0);setTimeout(function(){B=!0;g(!0)},c);return g};var ka="https://firebasestorage.googleapis.com";var v=function(a,b){this.code="storage/"+a;this.message="Firebase Storage: "+b;this.serverResponse=null;this.name="FirebaseError"};u(v,Error);var la=function(){return new v("unknown","An unknown error occurred, please check the error payload for server response.")},ma=function(){return new v("canceled","User canceled the upload/download.")},na=function(a,b,c){return new v("invalid-argument","Invalid argument in `"+b+"` at index "+a+": "+c)},oa=function(){return new v("app-deleted","The Firebase app was deleted.")};var pa=function(a,b){for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&b(c,a[c])},qa=function(a){var b={};pa(a,function(a,d){b[a]=d});return b};var x=function(a,b,c,d){this.l=a;this.f={};this.i=b;this.b={};this.c="";this.N=c;this.g=this.a=null;this.h=[200];this.j=d};var ra={STATE_CHANGED:"state_changed"},sa={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"},ta=function(a){switch(a){case"running":case"pausing":case"canceling":return"running";case"paused":return"paused";case"success":return"success";case"canceled":return"canceled";case"error":return"error";default:return"error"}};var y=function(a){return n(a)&&null!==a},ua=function(a){return"string"===typeof a||a instanceof String};var va=function(a,b,c){this.f=c;this.c=a;this.g=b;this.b=0;this.a=null};va.prototype.get=function(){var a;0<this.b?(this.b--,a=this.a,this.a=a.next,a.next=null):a=this.c();return a};var wa=function(a,b){a.g(b);a.b<a.f&&(a.b++,b.next=a.a,a.a=b)};var xa=function(a){if(Error.captureStackTrace)Error.captureStackTrace(this,xa);else{var b=Error().stack;b&&(this.stack=b)}a&&(this.message=String(a))};u(xa,Error);xa.prototype.name="CustomError";var ya=function(a,b,c,d,e){this.reset(a,b,c,d,e)};ya.prototype.a=null;var za=0;ya.prototype.reset=function(a,b,c,d,e){"number"==typeof e||za++;d||ia();this.b=b;delete this.a};var Aa=function(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b},Ba=function(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b},Ca="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),Da=function(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var f=0;f<Ca.length;f++)c=Ca[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};var Ea=function(a){a.prototype.then=a.prototype.then;a.prototype.$goog_Thenable=!0},Fa=function(a){if(!a)return!1;try{return!!a.$goog_Thenable}catch(b){return!1}};var Ga=function(a){Ga[" "](a);return a};Ga[" "]=ba;var Ha=function(a,b){for(var c=a.split("%s"),d="",e=Array.prototype.slice.call(arguments,1);e.length&&1<c.length;)d+=c.shift()+e.shift();return d+c.join("%s")},Ia=String.prototype.trim?function(a){return a.trim()}:function(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},Ja=function(a,b){return a<b?-1:a>b?1:0};var Ka=function(a,b){this.a=a;this.b=b};Ka.prototype.clone=function(){return new Ka(this.a,this.b)};var z=function(a,b){this.bucket=a;this.path=b},La=function(a){var b=encodeURIComponent;return"/b/"+b(a.bucket)+"/o/"+b(a.path)},Ma=function(a){for(var b=null,c=[{ja:/^gs:\/\/([A-Za-z0-9.\-]+)(\/(.*))?$/i,aa:{bucket:1,path:3},ia:function(a){"/"===a.path.charAt(a.path.length-1)&&(a.path=a.path.slice(0,-1))}},{ja:/^https?:\/\/firebasestorage\.googleapis\.com\/v[A-Za-z0-9_]+\/b\/([A-Za-z0-9.\-]+)\/o(\/([^?#]*).*)?$/i,aa:{bucket:1,path:3},ia:function(a){a.path=decodeURIComponent(a.path)}}],d=0;d<c.length;d++){var e=c[d],f=e.ja.exec(a);if(f){b=f[e.aa.bucket];(f=f[e.aa.path])||(f="");b=new z(b,f);e.ia(b);break}}if(null==b)throw new v("invalid-url","Invalid URL '"+a+"'.");return b};var Na=function(a,b,c){r(a)||y(b)||y(c)?(this.next=a,this.error=b||null,this.a=c||null):(this.next=a.next||null,this.error=a.error||null,this.a=a.complete||null)};var Oa=function(a){var b=encodeURIComponent,c="?";pa(a,function(a,e){a=b(a)+"="+b(e);c=c+a+"&"});return c=c.slice(0,-1)};var A=function(a,b,c,d,e,f){this.b=a;this.h=b;this.f=c;this.a=d;this.g=e;this.c=f};k=A.prototype;k.qa=function(){return this.b};k.La=function(){return this.h};k.Ia=function(){return this.f};k.Da=function(){return this.a};k.sa=function(){if(y(this.a)){var a=this.a.downloadURLs;return y(a)&&y(a[0])?a[0]:null}return null};k.Ka=function(){return this.g};k.Ga=function(){return this.c};var Pa=function(a,b){b.unshift(a);xa.call(this,Ha.apply(null,b));b.shift()};u(Pa,xa);Pa.prototype.name="AssertionError";var Qa=function(a,b,c,d){var e="Assertion failed";if(c)var e=e+(": "+c),f=d;else a&&(e+=": "+a,f=b);throw new Pa(""+e,f||[])},C=function(a,b,c){a||Qa("",null,b,Array.prototype.slice.call(arguments,2))},Ra=function(a,b){throw new Pa("Failure"+(a?": "+a:""),Array.prototype.slice.call(arguments,1))},Sa=function(a,b,c){r(a)||Qa("Expected function but got %s: %s.",[p(a),a],b,Array.prototype.slice.call(arguments,2))};var D=function(){this.g=this.g;this.s=this.s};D.prototype.g=!1;D.prototype.fa=function(){this.g||(this.g=!0,this.A())};D.prototype.A=function(){if(this.s)for(;this.s.length;)this.s.shift()()};var Ta="closure_listenable_"+(1e6*Math.random()|0),Ua=0;var Wa;a:{var Xa=m.navigator;if(Xa){var Ya=Xa.userAgent;if(Ya){Wa=Ya;break a}}Wa=""}var E=function(a){return-1!=Wa.indexOf(a)};var Za=function(){};Za.prototype.a=null;var ab=function(a){var b;(b=a.a)||(b={},$a(a)&&(b[0]=!0,b[1]=!0),b=a.a=b);return b};var bb=Array.prototype.indexOf?function(a,b,c){C(null!=a.length);return Array.prototype.indexOf.call(a,b,c)}:function(a,b,c){c=null==c?0:0>c?Math.max(0,a.length+c):c;if(q(a))return q(b)&&1==b.length?a.indexOf(b,c):-1;for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},cb=Array.prototype.forEach?function(a,b,c){C(null!=a.length);Array.prototype.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=q(a)?a.split(""):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)},db=Array.prototype.filter?function(a,b,c){C(null!=a.length);return Array.prototype.filter.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=[],f=0,g=q(a)?a.split(""):a,h=0;h<d;h++)if(h in g){var l=g[h];b.call(c,l,h,a)&&(e[f++]=l)}return e},eb=Array.prototype.map?function(a,b,c){C(null!=a.length);return Array.prototype.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=Array(d),f=q(a)?a.split(""):a,g=0;g<d;g++)g in f&&(e[g]=b.call(c,f[g],g,a));return e},fb=Array.prototype.some?function(a,b,c){C(null!=a.length);return Array.prototype.some.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=q(a)?a.split(""):a,f=0;f<d;f++)if(f in e&&b.call(c,e[f],f,a))return!0;return!1},hb=function(a){var b;a:{b=gb;for(var c=a.length,d=q(a)?a.split(""):a,e=0;e<c;e++)if(e in d&&b.call(void 0,d[e],e,a)){b=e;break a}b=-1}return 0>b?null:q(a)?a.charAt(b):a[b]},ib=function(a){if("array"!=p(a))for(var b=a.length-1;0<=b;b--)delete a[b];a.length=0},jb=function(a,b){b=bb(a,b);var c;if(c=0<=b)C(null!=a.length),Array.prototype.splice.call(a,b,1);return c},kb=function(a){var b=a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}return[]};var mb=new va(function(){return new lb},function(a){a.reset()},100),ob=function(){var a=nb,b=null;a.a&&(b=a.a,a.a=a.a.next,a.a||(a.b=null),b.next=null);return b},lb=function(){this.next=this.b=this.a=null};lb.prototype.set=function(a,b){this.a=a;this.b=b;this.next=null};lb.prototype.reset=function(){this.next=this.b=this.a=null};var pb=function(a,b){this.type=a;this.a=this.target=b;this.ka=!0};pb.prototype.b=function(){this.ka=!1};var qb=function(a,b,c,d,e){this.listener=a;this.a=null;this.src=b;this.type=c;this.U=!!d;this.N=e;++Ua;this.O=this.T=!1},rb=function(a){a.O=!0;a.listener=null;a.a=null;a.src=null;a.N=null};var sb=/^(?:([^:\/?#.]+):)?(?:\/\/(?:([^\/?#]*)@)?([^\/#?]*?)(?::([0-9]+))?(?=[\/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#(.*))?$/;var tb=function(a,b){b=db(b.split("/"),function(a){return 0<a.length}).join("/");return 0===a.length?b:a+"/"+b},ub=function(a){var b=a.lastIndexOf("/",a.length-2);return-1===b?a:a.slice(b+1)};var vb=function(a){this.src=a;this.a={};this.b=0},xb=function(a,b,c,d,e,f){var g=b.toString();b=a.a[g];b||(b=a.a[g]=[],a.b++);var h=wb(b,c,e,f);-1<h?(a=b[h],d||(a.T=!1)):(a=new qb(c,a.src,g,!!e,f),a.T=d,b.push(a));return a},yb=function(a,b){var c=b.type;c in a.a&&jb(a.a[c],b)&&(rb(b),0==a.a[c].length&&(delete a.a[c],a.b--))},wb=function(a,b,c,d){for(var e=0;e<a.length;++e){var f=a[e];if(!f.O&&f.listener==b&&f.U==!!c&&f.N==d)return e}return-1};var zb,Ab=function(){};u(Ab,Za);var Bb=function(a){return(a=$a(a))?new ActiveXObject(a):new XMLHttpRequest},$a=function(a){if(!a.b&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var b=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],c=0;c<b.length;c++){var d=b[c];try{return new ActiveXObject(d),a.b=d}catch(e){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return a.b};zb=new Ab;var Cb=function(a){this.a=[];if(a)a:{var b;if(a instanceof Cb){if(b=a.D(),a=a.w(),0>=this.o()){for(var c=this.a,d=0;d<b.length;d++)c.push(new Ka(b[d],a[d]));break a}}else b=Ba(a),a=Aa(a);for(d=0;d<b.length;d++)Db(this,b[d],a[d])}},Db=function(a,b,c){var d=a.a;d.push(new Ka(b,c));b=d.length-1;a=a.a;for(c=a[b];0<b;)if(d=b-1>>1,a[d].a>c.a)a[b]=a[d],b=d;else break;a[b]=c};k=Cb.prototype;k.w=function(){for(var a=this.a,b=[],c=a.length,d=0;d<c;d++)b.push(a[d].b);return b};k.D=function(){for(var a=this.a,b=[],c=a.length,d=0;d<c;d++)b.push(a[d].a);return b};k.clone=function(){return new Cb(this)};k.o=function(){return this.a.length};k.F=function(){return 0==this.a.length};k.clear=function(){ib(this.a)};var Eb=function(){this.b=[];this.a=[]},Fb=function(a){0==a.b.length&&(a.b=a.a,a.b.reverse(),a.a=[]);return a.b.pop()};Eb.prototype.o=function(){return this.b.length+this.a.length};Eb.prototype.F=function(){return 0==this.b.length&&0==this.a.length};Eb.prototype.clear=function(){this.b=[];this.a=[]};Eb.prototype.w=function(){for(var a=[],b=this.b.length-1;0<=b;--b)a.push(this.b[b]);for(var c=this.a.length,b=0;b<c;++b)a.push(this.a[b]);return a};var Gb=function(a){if(a.w&&"function"==typeof a.w)return a.w();if(q(a))return a.split("");if(ca(a)){for(var b=[],c=a.length,d=0;d<c;d++)b.push(a[d]);return b}return Aa(a)},Hb=function(a,b){if(a.forEach&&"function"==typeof a.forEach)a.forEach(b,void 0);else if(ca(a)||q(a))cb(a,b,void 0);else{var c;if(a.D&&"function"==typeof a.D)c=a.D();else if(a.w&&"function"==typeof a.w)c=void 0;else if(ca(a)||q(a)){c=[];for(var d=a.length,e=0;e<d;e++)c.push(e)}else c=Ba(a);for(var d=Gb(a),e=d.length,f=0;f<e;f++)b.call(void 0,d[f],c&&c[f],a)}};var Ib=function(a){m.setTimeout(function(){throw a},0)},Jb,Kb=function(){var a=m.MessageChannel;"undefined"===typeof a&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&!E("Presto")&&(a=function(){var a=document.createElement("IFRAME");a.style.display="none";a.src="";document.documentElement.appendChild(a);var b=a.contentWindow,a=b.document;a.open();a.write("");a.close();var c="callImmediate"+Math.random(),d="file:"==b.location.protocol?"*":b.location.protocol+"//"+b.location.host,a=t(function(a){if(("*"==d||a.origin==d)&&a.data==c)this.port1.onmessage()},this);b.addEventListener("message",a,!1);this.port1={};this.port2={postMessage:function(){b.postMessage(c,d)}}});if("undefined"!==typeof a&&!E("Trident")&&!E("MSIE")){var b=new a,c={},d=c;b.port1.onmessage=function(){if(n(c.next)){c=c.next;var a=c.ea;c.ea=null;a()}};return function(a){d.next={ea:a};d=d.next;b.port2.postMessage(0)}}return"undefined"!==typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(a){var b=document.createElement("SCRIPT");b.onreadystatechange=function(){b.onreadystatechange=null;b.parentNode.removeChild(b);b=null;a();a=null};document.documentElement.appendChild(b)}:function(a){m.setTimeout(a,0)}};var Lb="StopIteration"in m?m.StopIteration:{message:"StopIteration",stack:""},Mb=function(){};Mb.prototype.next=function(){throw Lb};Mb.prototype.Y=function(){return this};var Nb=function(){Cb.call(this)};u(Nb,Cb);var Ob=E("Opera"),F=E("Trident")||E("MSIE"),Pb=E("Edge"),Qb=E("Gecko")&&!(-1!=Wa.toLowerCase().indexOf("webkit")&&!E("Edge"))&&!(E("Trident")||E("MSIE"))&&!E("Edge"),Rb=-1!=Wa.toLowerCase().indexOf("webkit")&&!E("Edge"),Sb=function(){var a=m.document;return a?a.documentMode:void 0},Ub;a:{var Vb="",Wb=function(){var a=Wa;if(Qb)return/rv\:([^\);]+)(\)|;)/.exec(a);if(Pb)return/Edge\/([\d\.]+)/.exec(a);if(F)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a);if(Rb)return/WebKit\/(\S+)/.exec(a);if(Ob)return/(?:Version)[ \/]?(\S+)/.exec(a)}();Wb&&(Vb=Wb?Wb[1]:"");if(F){var Xb=Sb();if(null!=Xb&&Xb>parseFloat(Vb)){Ub=String(Xb);break a}}Ub=Vb}var Yb=Ub,Zb={},G=function(a){var b;if(!(b=Zb[a])){b=0;for(var c=Ia(String(Yb)).split("."),d=Ia(String(a)).split("."),e=Math.max(c.length,d.length),f=0;0==b&&f<e;f++){var g=c[f]||"",h=d[f]||"",l=/(\d*)(\D*)/g,B=/(\d*)(\D*)/g;do{var w=l.exec(g)||["","",""],N=B.exec(h)||["","",""];if(0==w[0].length&&0==N[0].length)break;b=Ja(0==w[1].length?0:parseInt(w[1],10),0==N[1].length?0:parseInt(N[1],10))||Ja(0==w[2].length,0==N[2].length)||Ja(w[2],N[2])}while(0==b)}b=Zb[a]=0<=b}return b},$b=m.document,ac=$b&&F?Sb()||("CSS1Compat"==$b.compatMode?parseInt(Yb,10):5):void 0;var ec=function(a,b){bc||cc();dc||(bc(),dc=!0);var c=nb,d=mb.get();d.set(a,b);c.b?c.b.next=d:(C(!c.a),c.a=d);c.b=d},bc,cc=function(){if(m.Promise&&m.Promise.resolve){var a=m.Promise.resolve(void 0);bc=function(){a.then(fc)}}else bc=function(){var a=fc;!r(m.setImmediate)||m.Window&&m.Window.prototype&&!E("Edge")&&m.Window.prototype.setImmediate==m.setImmediate?(Jb||(Jb=Kb()),Jb(a)):m.setImmediate(a)}},dc=!1,nb=new function(){this.b=this.a=null},fc=function(){for(var a;a=ob();){try{a.a.call(a.b)}catch(b){Ib(b)}wa(mb,a)}dc=!1};var gc;(gc=!F)||(gc=9<=Number(ac));var hc=gc,ic=F&&!G("9");!Rb||G("528");Qb&&G("1.9b")||F&&G("8")||Ob&&G("9.5")||Rb&&G("528");Qb&&!G("8")||F&&G("9");var jc=function(a,b){this.b={};this.a=[];this.f=this.c=0;var c=arguments.length;if(1<c){if(c%2)throw Error("Uneven number of arguments");for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else if(a){a instanceof jc?(c=a.D(),d=a.w()):(c=Ba(a),d=Aa(a));for(var e=0;e<c.length;e++)this.set(c[e],d[e])}};k=jc.prototype;k.o=function(){return this.c};k.w=function(){kc(this);for(var a=[],b=0;b<this.a.length;b++)a.push(this.b[this.a[b]]);return a};k.D=function(){kc(this);return this.a.concat()};k.F=function(){return 0==this.c};k.clear=function(){this.b={};this.f=this.c=this.a.length=0};var lc=function(a,b){return Object.prototype.hasOwnProperty.call(a.b,b)?(delete a.b[b],a.c--,a.f++,a.a.length>2*a.c&&kc(a),!0):!1},kc=function(a){if(a.c!=a.a.length){for(var b=0,c=0;b<a.a.length;){var d=a.a[b];Object.prototype.hasOwnProperty.call(a.b,d)&&(a.a[c++]=d);b++}a.a.length=c}if(a.c!=a.a.length){for(var e={},c=b=0;b<a.a.length;)d=a.a[b],Object.prototype.hasOwnProperty.call(e,d)||(a.a[c++]=d,e[d]=1),b++;a.a.length=c}};k=jc.prototype;k.get=function(a,b){return Object.prototype.hasOwnProperty.call(this.b,a)?this.b[a]:b};k.set=function(a,b){Object.prototype.hasOwnProperty.call(this.b,a)||(this.c++,this.a.push(a),this.f++);this.b[a]=b};k.forEach=function(a,b){for(var c=this.D(),d=0;d<c.length;d++){var e=c[d],f=this.get(e);a.call(b,f,e,this)}};k.clone=function(){return new jc(this)};k.Y=function(a){kc(this);var b=0,c=this.f,d=this,e=new Mb;e.next=function(){if(c!=d.f)throw Error("The map has changed since the iterator was created");if(b>=d.a.length)throw Lb;var e=d.a[b++];return a?e:d.b[e]};return e};var mc=function(a,b){pb.call(this,a?a.type:"");this.c=this.a=this.target=null;if(a){this.type=a.type;this.target=a.target||a.srcElement;this.a=b;if((b=a.relatedTarget)&&Qb)try{Ga(b.nodeName)}catch(c){}this.c=a;a.defaultPrevented&&this.b()}};u(mc,pb);mc.prototype.b=function(){mc.G.b.call(this);var a=this.c;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,ic)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};var H=function(a,b){this.a=0;this.i=void 0;this.c=this.b=this.f=null;this.g=this.h=!1;if(a!=ba)try{var c=this;a.call(b,function(a){nc(c,2,a)},function(a){try{if(a instanceof Error)throw a;throw Error("Promise rejected.")}catch(b){}nc(c,3,a)})}catch(d){nc(this,3,d)}},oc=function(){this.next=this.f=this.c=this.a=this.b=null;this.g=!1};oc.prototype.reset=function(){this.f=this.c=this.a=this.b=null;this.g=!1};var pc=new va(function(){return new oc},function(a){a.reset()},100),qc=function(a,b,c){var d=pc.get();d.a=a;d.c=b;d.f=c;return d},rc=function(a){if(a instanceof H)return a;var b=new H(ba);nc(b,2,a);return b},sc=function(a){return new H(function(b,c){c(a)})};H.prototype.then=function(a,b,c){null!=a&&Sa(a,"opt_onFulfilled should be a function.");

null!=b&&Sa(b,"opt_onRejected should be a function. Did you pass opt_context as the second argument instead of the third?");return tc(this,r(a)?a:null,r(b)?b:null,c)};Ea(H);H.prototype.l=function(a,b){return tc(this,null,a,b)};var vc=function(a,b){a.b||2!=a.a&&3!=a.a||uc(a);C(null!=b.a);a.c?a.c.next=b:a.b=b;a.c=b},tc=function(a,b,c,d){var e=qc(null,null,null);e.b=new H(function(a,g){e.a=b?function(c){try{var e=b.call(d,c);a(e)}catch(B){g(B)}}:a;e.c=c?function(b){try{var e=c.call(d,b);a(e)}catch(B){g(B)}}:g});e.b.f=a;vc(a,e);return e.b};H.prototype.s=function(a){C(1==this.a);this.a=0;nc(this,2,a)};H.prototype.m=function(a){C(1==this.a);this.a=0;nc(this,3,a)};var nc=function(a,b,c){if(0==a.a){a===c&&(b=3,c=new TypeError("Promise cannot resolve to itself"));a.a=1;var d;a:{var e=c,f=a.s,g=a.m;if(e instanceof H)null!=f&&Sa(f,"opt_onFulfilled should be a function."),null!=g&&Sa(g,"opt_onRejected should be a function. Did you pass opt_context as the second argument instead of the third?"),vc(e,qc(f||ba,g||null,a)),d=!0;else if(Fa(e))e.then(f,g,a),d=!0;else{if(da(e))try{var h=e.then;if(r(h)){wc(e,h,f,g,a);d=!0;break a}}catch(l){g.call(a,l);d=!0;break a}d=!1}}d||(a.i=c,a.a=b,a.f=null,uc(a),3!=b||xc(a,c))}},wc=function(a,b,c,d,e){var f=!1,g=function(a){f||(f=!0,c.call(e,a))},h=function(a){f||(f=!0,d.call(e,a))};try{b.call(a,g,h)}catch(l){h(l)}},uc=function(a){a.h||(a.h=!0,ec(a.j,a))},yc=function(a){var b=null;a.b&&(b=a.b,a.b=b.next,b.next=null);a.b||(a.c=null);null!=b&&C(null!=b.a);return b};H.prototype.j=function(){for(var a;a=yc(this);){var b=this.a,c=this.i;if(3==b&&a.c&&!a.g){var d;for(d=this;d&&d.g;d=d.f)d.g=!1}if(a.b)a.b.f=null,zc(a,b,c);else try{a.g?a.a.call(a.f):zc(a,b,c)}catch(e){Ac.call(null,e)}wa(pc,a)}this.h=!1};var zc=function(a,b,c){2==b?a.a.call(a.f,c):a.c&&a.c.call(a.f,c)},xc=function(a,b){a.g=!0;ec(function(){a.g&&Ac.call(null,b)})},Ac=Ib;var Cc=function(a){this.a=new jc;if(a){a=Gb(a);for(var b=a.length,c=0;c<b;c++){var d=a[c];this.a.set(Bc(d),d)}}},Bc=function(a){var b=typeof a;return"object"==b&&a||"function"==b?"o"+(a[ea]||(a[ea]=++fa)):b.substr(0,1)+a};k=Cc.prototype;k.o=function(){return this.a.o()};k.clear=function(){this.a.clear()};k.F=function(){return this.a.F()};k.w=function(){return this.a.w()};k.clone=function(){return new Cc(this)};k.Y=function(){return this.a.Y(!1)};var Dc=function(a){return function(){var b=[];Array.prototype.push.apply(b,arguments);rc(!0).then(function(){a.apply(null,b)})}};var Ec="closure_lm_"+(1e6*Math.random()|0),Fc={},Gc=0,Hc=function(a,b,c,d,e){if("array"==p(b)){for(var f=0;f<b.length;f++)Hc(a,b[f],c,d,e);return null}c=Ic(c);a&&a[Ta]?(Jc(a),a=xb(a.b,String(b),c,!1,d,e)):a=Kc(a,b,c,!1,d,e);return a},Kc=function(a,b,c,d,e,f){if(!b)throw Error("Invalid event type");var g=!!e,h=Lc(a);h||(a[Ec]=h=new vb(a));c=xb(h,b,c,d,e,f);if(c.a)return c;d=Mc();c.a=d;d.src=a;d.listener=c;if(a.addEventListener)a.addEventListener(b.toString(),d,g);else if(a.attachEvent)a.attachEvent(Nc(b.toString()),d);else throw Error("addEventListener and attachEvent are unavailable.");Gc++;return c},Mc=function(){var a=Oc,b=hc?function(c){return a.call(b.src,b.listener,c)}:function(c){c=a.call(b.src,b.listener,c);if(!c)return c};return b},Pc=function(a,b,c,d,e){if("array"==p(b))for(var f=0;f<b.length;f++)Pc(a,b[f],c,d,e);else c=Ic(c),a&&a[Ta]?xb(a.b,String(b),c,!0,d,e):Kc(a,b,c,!0,d,e)},Qc=function(a,b,c,d,e){if("array"==p(b))for(var f=0;f<b.length;f++)Qc(a,b[f],c,d,e);else(c=Ic(c),a&&a[Ta])?(a=a.b,b=String(b).toString(),b in a.a&&(f=a.a[b],c=wb(f,c,d,e),-1<c&&(rb(f[c]),C(null!=f.length),Array.prototype.splice.call(f,c,1),0==f.length&&(delete a.a[b],a.b--)))):a&&(a=Lc(a))&&(b=a.a[b.toString()],a=-1,b&&(a=wb(b,c,!!d,e)),(c=-1<a?b[a]:null)&&Rc(c))},Rc=function(a){if("number"!=typeof a&&a&&!a.O){var b=a.src;if(b&&b[Ta])yb(b.b,a);else{var c=a.type,d=a.a;b.removeEventListener?b.removeEventListener(c,d,a.U):b.detachEvent&&b.detachEvent(Nc(c),d);Gc--;(c=Lc(b))?(yb(c,a),0==c.b&&(c.src=null,b[Ec]=null)):rb(a)}}},Nc=function(a){return a in Fc?Fc[a]:Fc[a]="on"+a},Tc=function(a,b,c,d){var e=!0;if(a=Lc(a))if(b=a.a[b.toString()])for(b=b.concat(),a=0;a<b.length;a++){var f=b[a];f&&f.U==c&&!f.O&&(f=Sc(f,d),e=e&&!1!==f)}return e},Sc=function(a,b){var c=a.listener,d=a.N||a.src;a.T&&Rc(a);return c.call(d,b)},Oc=function(a,b){if(a.O)return!0;if(!hc){if(!b)a:{b=["window","event"];for(var c=m,d;d=b.shift();)if(null!=c[d])c=c[d];else{b=null;break a}b=c}d=b;b=new mc(d,this);c=!0;if(!(0>d.keyCode||void 0!=d.returnValue)){a:{var e=!1;if(0==d.keyCode)try{d.keyCode=-1;break a}catch(g){e=!0}if(e||void 0==d.returnValue)d.returnValue=!0}d=[];for(e=b.a;e;e=e.parentNode)d.push(e);a=a.type;for(e=d.length-1;0<=e;e--){b.a=d[e];var f=Tc(d[e],a,!0,b),c=c&&f}for(e=0;e<d.length;e++)b.a=d[e],f=Tc(d[e],a,!1,b),c=c&&f}return c}return Sc(a,new mc(b,this))},Lc=function(a){a=a[Ec];return a instanceof vb?a:null},Uc="__closure_events_fn_"+(1e9*Math.random()>>>0),Ic=function(a){C(a,"Listener can not be null.");if(r(a))return a;C(a.handleEvent,"An object listener must have handleEvent method.");a[Uc]||(a[Uc]=function(b){return a.handleEvent(b)});return a[Uc]};var I=function(a,b){D.call(this);this.l=a||0;this.c=b||10;if(this.l>this.c)throw Error("[goog.structs.Pool] Min can not be greater than max");this.a=new Eb;this.b=new Cc;this.i=null;this.S()};u(I,D);I.prototype.W=function(){var a=ia();if(!(null!=this.i&&0>a-this.i)){for(var b;0<this.a.o()&&(b=Fb(this.a),!this.j(b));)this.S();!b&&this.o()<this.c&&(b=this.h());b&&(this.i=a,this.b.a.set(Bc(b),b));return b}};var Wc=function(a){var b=Vc;lc(b.b.a,Bc(a))&&b.Z(a)};I.prototype.Z=function(a){lc(this.b.a,Bc(a));this.j(a)&&this.o()<this.c?this.a.a.push(a):Xc(a)};I.prototype.S=function(){for(var a=this.a;this.o()<this.l;){var b=this.h();a.a.push(b)}for(;this.o()>this.c&&0<this.a.o();)Xc(Fb(a))};I.prototype.h=function(){return{}};var Xc=function(a){if("function"==typeof a.fa)a.fa();else for(var b in a)a[b]=null};I.prototype.j=function(a){return"function"==typeof a.ra?a.ra():!0};I.prototype.o=function(){return this.a.o()+this.b.o()};I.prototype.F=function(){return this.a.F()&&this.b.F()};I.prototype.A=function(){I.G.A.call(this);if(0<this.b.o())throw Error("[goog.structs.Pool] Objects not released");delete this.b;for(var a=this.a;!a.F();)Xc(Fb(a));delete this.a};var Yc=function(a,b){this.c=[];this.m=b||null;this.a=this.h=!1;this.b=void 0;this.j=this.g=!1;this.f=0;this.i=null;this.s=0};Yc.prototype.l=function(a,b){this.g=!1;this.h=!0;this.b=b;this.a=!a;Zc(this)};var $c=function(a,b,c){C(!a.j,"Blocking Deferreds can not be re-used");a.c.push([b,c,void 0]);a.h&&Zc(a)};Yc.prototype.then=function(a,b,c){var d,e,f=new H(function(a,b){d=a;e=b});$c(this,d,function(a){e(a)});return f.then(a,b,c)};Ea(Yc);var ad=function(a){return fb(a.c,function(a){return r(a[1])})},Zc=function(a){if(a.f&&a.h&&ad(a)){var b=a.f,c=bd[b];c&&(m.clearTimeout(c.a),delete bd[b]);a.f=0}a.i&&(a.i.s--,delete a.i);for(var b=a.b,d=c=!1;a.c.length&&!a.g;){var e=a.c.shift(),f=e[0],g=e[1],e=e[2];if(f=a.a?g:f)try{var h=f.call(e||a.m,b);n(h)&&(a.a=a.a&&(h==b||h instanceof Error),a.b=b=h);if(Fa(b)||"function"===typeof m.Promise&&b instanceof m.Promise)d=!0,a.g=!0}catch(l){b=l,a.a=!0,ad(a)||(c=!0)}}a.b=b;d&&(h=t(a.l,a,!0),d=t(a.l,a,!1),b instanceof Yc?($c(b,h,d),b.j=!0):b.then(h,d));c&&(b=new cd(b),bd[b.a]=b,a.f=b.a)},cd=function(a){this.a=m.setTimeout(t(this.c,this),0);this.b=a};cd.prototype.c=function(){C(bd[this.a],"Cannot throw an error that is not scheduled.");delete bd[this.a];throw this.b};var bd={};var dd=function(a){this.f=a;this.b=this.c=this.a=null},ed=function(a,b){this.name=a;this.value=b};ed.prototype.toString=function(){return this.name};var fd=new ed("SEVERE",1e3),gd=new ed("CONFIG",700),hd=new ed("FINE",500),id=function(a){if(a.c)return a.c;if(a.a)return id(a.a);Ra("Root logger has no level set.");return null};dd.prototype.log=function(a,b,c){if(a.value>=id(this).value)for(r(b)&&(b=b()),a=new ya(a,String(b),this.f),c&&(a.a=c),c="log:"+a.b,m.console&&(m.console.timeStamp?m.console.timeStamp(c):m.console.markTimeline&&m.console.markTimeline(c)),m.msWriteProfilerMark&&m.msWriteProfilerMark(c),c=this;c;)c=c.a};var jd={},kd=null,ld=function(a){kd||(kd=new dd(""),jd[""]=kd,kd.c=gd);var b;if(!(b=jd[a])){b=new dd(a);var c=a.lastIndexOf("."),d=a.substr(c+1),c=ld(a.substr(0,c));c.b||(c.b={});c.b[d]=b;b.a=c;jd[a]=b}return b};var J=function(){D.call(this);this.b=new vb(this);this.ma=this;this.I=null};u(J,D);J.prototype[Ta]=!0;J.prototype.removeEventListener=function(a,b,c,d){Qc(this,a,b,c,d)};var K=function(a,b){Jc(a);var c,d=a.I;if(d){c=[];for(var e=1;d;d=d.I)c.push(d),C(1e3>++e,"infinite loop")}a=a.ma;d=b.type||b;q(b)?b=new pb(b,a):b instanceof pb?b.target=b.target||a:(e=b,b=new pb(d,a),Da(b,e));var e=!0,f;if(c)for(var g=c.length-1;0<=g;g--)f=b.a=c[g],e=md(f,d,!0,b)&&e;f=b.a=a;e=md(f,d,!0,b)&&e;e=md(f,d,!1,b)&&e;if(c)for(g=0;g<c.length;g++)f=b.a=c[g],e=md(f,d,!1,b)&&e};J.prototype.A=function(){J.G.A.call(this);if(this.b){var a=this.b,b=0,c;for(c in a.a){for(var d=a.a[c],e=0;e<d.length;e++)++b,rb(d[e]);delete a.a[c];a.b--}}this.I=null};var md=function(a,b,c,d){b=a.b.a[String(b)];if(!b)return!0;b=b.concat();for(var e=!0,f=0;f<b.length;++f){var g=b[f];if(g&&!g.O&&g.U==c){var h=g.listener,l=g.N||g.src;g.T&&yb(a.b,g);e=!1!==h.call(l,d)&&e}}return e&&0!=d.ka},Jc=function(a){C(a.b,"Event target is not initialized. Did you call the superclass (goog.events.EventTarget) constructor?")};var L=function(a,b){this.f=new Nb;I.call(this,a,b)};u(L,I);k=L.prototype;k.W=function(a,b){if(!a)return L.G.W.call(this);Db(this.f,n(b)?b:100,a);this.$()};k.$=function(){for(var a=this.f;0<a.o();){var b=this.W();if(b){var c;var d=a,e=d.a,f=e.length;c=e[0];if(0>=f)c=void 0;else{if(1==f)ib(e);else{e[0]=e.pop();for(var e=0,d=d.a,f=d.length,g=d[e];e<f>>1;){var h=2*e+1,l=2*e+2,h=l<f&&d[l].a<d[h].a?l:h;if(d[h].a>g.a)break;d[e]=d[h];e=h}d[e]=g}c=c.b}c.apply(this,[b])}else break}};k.Z=function(a){L.G.Z.call(this,a);this.$()};k.S=function(){L.G.S.call(this);this.$()};k.A=function(){L.G.A.call(this);m.clearTimeout(void 0);this.f.clear();this.f=null};var M=function(a,b){a&&a.log(hd,b,void 0)};var nd=function(a,b,c){if(r(a))c&&(a=t(a,c));else if(a&&"function"==typeof a.handleEvent)a=t(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(b)?-1:m.setTimeout(a,b||0)};var O=function(a){J.call(this);this.L=new jc;this.C=a||null;this.c=!1;this.B=this.a=null;this.P=this.l="";this.J=0;this.h="";this.f=this.H=this.j=this.K=!1;this.i=0;this.m=null;this.da="";this.v=this.ba=this.X=!1};u(O,J);var od=O.prototype,pd=ld("goog.net.XhrIo");od.u=pd;var qd=/^https?$/i,rd=["POST","PUT"];O.prototype.send=function(a,b,c,d){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.l+"; newUri="+a);b=b?b.toUpperCase():"GET";this.l=a;this.h="";this.J=0;this.P=b;this.K=!1;this.c=!0;this.a=this.C?Bb(this.C):Bb(zb);this.B=this.C?ab(this.C):ab(zb);this.a.onreadystatechange=t(this.ca,this);this.ba&&"onprogress"in this.a&&(this.a.onprogress=t(function(a){this.R(a,!0)},this),this.a.upload&&(this.a.upload.onprogress=t(this.R,this)));try{M(this.u,P(this,"Opening Xhr")),this.H=!0,this.a.open(b,String(a),!0),this.H=!1}catch(f){M(this.u,P(this,"Error opening Xhr: "+f.message));sd(this,f);return}a=c||"";var e=this.L.clone();d&&Hb(d,function(a,b){e.set(b,a)});d=hb(e.D());c=m.FormData&&a instanceof m.FormData;!(0<=bb(rd,b))||d||c||e.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");e.forEach(function(a,b){this.a.setRequestHeader(b,a)},this);this.da&&(this.a.responseType=this.da);"withCredentials"in this.a&&this.a.withCredentials!==this.X&&(this.a.withCredentials=this.X);try{td(this),0<this.i&&(this.v=ud(this.a),M(this.u,P(this,"Will abort after "+this.i+"ms if incomplete, xhr2 "+this.v)),this.v?(this.a.timeout=this.i,this.a.ontimeout=t(this.M,this)):this.m=nd(this.M,this.i,this)),M(this.u,P(this,"Sending request")),this.j=!0,this.a.send(a),this.j=!1}catch(f){M(this.u,P(this,"Send error: "+f.message)),sd(this,f)}};var ud=function(a){return F&&G(9)&&"number"==typeof a.timeout&&n(a.ontimeout)},gb=function(a){return"content-type"==a.toLowerCase()};O.prototype.M=function(){"undefined"!=typeof aa&&this.a&&(this.h="Timed out after "+this.i+"ms, aborting",this.J=8,M(this.u,P(this,this.h)),K(this,"timeout"),vd(this,8))};var sd=function(a,b){a.c=!1;a.a&&(a.f=!0,a.a.abort(),a.f=!1);a.h=b;a.J=5;wd(a);xd(a)},wd=function(a){a.K||(a.K=!0,K(a,"complete"),K(a,"error"))},vd=function(a,b){a.a&&a.c&&(M(a.u,P(a,"Aborting")),a.c=!1,a.f=!0,a.a.abort(),a.f=!1,a.J=b||7,K(a,"complete"),K(a,"abort"),xd(a))};O.prototype.A=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),xd(this,!0));O.G.A.call(this)};O.prototype.ca=function(){this.g||(this.H||this.j||this.f?yd(this):this.na())};O.prototype.na=function(){yd(this)};var yd=function(a){if(a.c&&"undefined"!=typeof aa)if(a.B[1]&&4==zd(a)&&2==Q(a))M(a.u,P(a,"Local request error detected and ignored"));else if(a.j&&4==zd(a))nd(a.ca,0,a);else if(K(a,"readystatechange"),4==zd(a)){M(a.u,P(a,"Request complete"));a.c=!1;try{if(Bd(a))K(a,"complete"),K(a,"success");else{a.J=6;var b;try{b=2<zd(a)?a.a.statusText:""}catch(c){M(a.u,"Can not get status: "+c.message),b=""}a.h=b+" ["+Q(a)+"]";wd(a)}}finally{xd(a)}}};O.prototype.R=function(a,b){C("progress"===a.type,"goog.net.EventType.PROGRESS is of the same type as raw XHR progress.");K(this,Cd(a,"progress"));K(this,Cd(a,b?"downloadprogress":"uploadprogress"))};var Cd=function(a,b){return{type:b,lengthComputable:a.lengthComputable,loaded:a.loaded,total:a.total}},xd=function(a,b){if(a.a){td(a);var c=a.a,d=a.B[0]?ba:null;a.a=null;a.B=null;b||K(a,"ready");try{c.onreadystatechange=d}catch(e){(a=a.u)&&a.log(fd,"Problem encountered resetting onreadystatechange: "+e.message,void 0)}}},td=function(a){a.a&&a.v&&(a.a.ontimeout=null);"number"==typeof a.m&&(m.clearTimeout(a.m),a.m=null)},Bd=function(a){var b=Q(a),c;a:switch(b){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:c=!0;break a;default:c=!1}if(!c){if(b=0===b)a=String(a.l).match(sb)[1]||null,!a&&m.self&&m.self.location&&(a=m.self.location.protocol,a=a.substr(0,a.length-1)),b=!qd.test(a?a.toLowerCase():"");c=b}return c},zd=function(a){return a.a?a.a.readyState:0},Q=function(a){try{return 2<zd(a)?a.a.status:-1}catch(b){return-1}},Dd=function(a){try{return a.a?a.a.responseText:""}catch(b){return M(a.u,"Can not get responseText: "+b.message),""}},Ed=function(a,b){return a.a&&4==zd(a)?a.a.getResponseHeader(b):void 0},P=function(a,b){return b+" ["+a.P+" "+a.l+" "+Q(a)+"]"};var Fd=function(a,b,c,d){this.m=a;this.v=!!d;L.call(this,b,c)};u(Fd,L);Fd.prototype.h=function(){var a=new O,b=this.m;b&&b.forEach(function(b,d){a.L.set(d,b)});this.v&&(a.X=!0);return a};Fd.prototype.j=function(a){return!a.g&&!a.a};var Vc=new Fd;var Hd=function(a,b,c,d,e,f,g,h,l,B){this.L=a;this.H=b;this.B=c;this.m=d;this.I=e.slice();this.s=this.l=this.f=this.c=null;this.h=this.i=!1;this.v=f;this.j=g;this.g=l;this.M=B;this.K=h;var w=this;this.C=new H(function(a,b){w.l=a;w.s=b;Gd(w)})},Id=function(a,b,c){this.b=a;this.c=b;this.a=!!c},Gd=function(a){function b(a,b){b?a(!1,new Id(!1,null,!0)):Vc.W(function(b){b.X=d.M;d.c=b;var c=null;null!==d.g&&(b.ba=!0,c=Hc(b,"uploadprogress",function(a){d.g(a.loaded,a.lengthComputable?a.total:-1)}),b.ba=null!==d.g);b.send(d.L,d.H,d.m,d.B);Pc(b,"complete",function(b){null!==c&&Rc(c);d.c=null;b=b.target;var f=6===b.J&&100<=Q(b),f=Bd(b)||f,g=Q(b);!f||500<=g&&600>g||429===g?(f=7===b.J,Wc(b),a(!1,new Id(!1,null,f))):(f=0<=bb(d.I,g),a(!0,new Id(f,b)))})})}function c(a,b){var c=d.l;a=d.s;var h=b.c;if(b.b)try{var l=d.v(h,Dd(h));n(l)?c(l):c()}catch(B){a(B)}else null!==h?(b=la(),l=Dd(h),b.serverResponse=l,d.j?a(d.j(h,b)):a(b)):(b=b.a?d.h?oa():ma():new v("retry-limit-exceeded","Max retry time for operation exceeded, please try again."),a(b));Wc(h)}var d=a;a.i?c(0,new Id(!1,null,!0)):a.f=ja(b,c,a.K)};Hd.prototype.a=function(){return this.C};Hd.prototype.b=function(a){this.i=!0;this.h=a||!1;null!==this.f&&(0,this.f)(!1);null!==this.c&&vd(this.c)};var Jd=function(a,b,c){var d=Oa(a.f),d=a.l+d,e=a.b?qa(a.b):{};null!==b&&0<b.length&&(e.Authorization="Firebase "+b);e["X-Firebase-Storage-Version"]="webjs/1.0.0";return new Hd(d,a.i,e,a.c,a.h,a.N,a.a,a.j,a.g,c)};var Kd=function(a){var b=m.BlobBuilder||m.WebKitBlobBuilder;if(n(b)){for(var b=new b,c=0;c<arguments.length;c++)b.append(arguments[c]);return b.getBlob()}b=kb(arguments);c=m.BlobBuilder||m.WebKitBlobBuilder;if(n(c)){for(var c=new c,d=0;d<b.length;d++)c.append(b[d],void 0);b=c.getBlob(void 0)}else if(n(m.Blob))b=new Blob(b,{});else throw Error("This browser doesn't seem to support creating Blobs");return b},Ld=function(a,b,c){n(c)||(c=a.size);return a.webkitSlice?a.webkitSlice(b,c):a.mozSlice?a.mozSlice(b,c):a.slice?Qb&&!G("13.0")||Rb&&!G("537.1")?(0>b&&(b+=a.size),0>b&&(b=0),0>c&&(c+=a.size),c<b&&(c=b),a.slice(b,c-b)):a.slice(b,c):null};var Md=function(a){this.c=sc(a)};Md.prototype.a=function(){return this.c};Md.prototype.b=function(){};var Nd=function(){this.a={};this.b=Number.MIN_SAFE_INTEGER},Od=function(a,b){function c(){delete e.a[d]}var d=a.b;a.b++;a.a[d]=b;var e=a;b.a().then(c,c)};Nd.prototype.clear=function(){pa(this.a,function(a,b){b&&b.b(!0)});this.a={}};var Pd=function(a,b,c,d){this.a=a;this.g=null;if(null!==this.a&&(a=this.a.options,y(a))){a=a.storageBucket||null;if(null==a)a=null;else{var e=null;try{e=Ma(a)}catch(f){}if(null!==e){if(""!==e.path)throw new v("invalid-default-bucket","Invalid default bucket '"+a+"'.");a=e.bucket}}this.g=a}this.l=b;this.j=c;this.i=d;this.c=12e4;this.b=6e4;this.h=new Nd;this.f=!1},Qd=function(a){return null!==a.a&&y(a.a.INTERNAL)&&y(a.a.INTERNAL.getToken)?a.a.INTERNAL.getToken().then(function(a){return y(a)?a.accessToken:null},function(){return null}):rc(null)};Pd.prototype.bucket=function(){if(this.f)throw oa();return this.g};var R=function(a,b,c){if(a.f)return new Md(oa());b=a.j(b,c,null===a.a);Od(a.h,b);return b};var Rd=function(a,b){return b},S=function(a,b,c,d){this.c=a;this.b=b||a;this.f=!!c;this.a=d||Rd},Sd=null,Td=function(){if(Sd)return Sd;var a=[];a.push(new S("bucket"));a.push(new S("generation"));a.push(new S("metageneration"));a.push(new S("name","fullPath",!0));var b=new S("name");b.a=function(a,b){return!ua(b)||2>b.length?b:ub(b)};a.push(b);b=new S("size");b.a=function(a,b){return y(b)?+b:b};a.push(b);a.push(new S("timeCreated"));a.push(new S("updated"));a.push(new S("md5Hash",null,!0));a.push(new S("cacheControl",null,!0));a.push(new S("contentDisposition",null,!0));a.push(new S("contentEncoding",null,!0));a.push(new S("contentLanguage",null,!0));a.push(new S("contentType",null,!0));a.push(new S("metadata","customMetadata",!0));a.push(new S("downloadTokens","downloadURLs",!1,function(a,b){if(!(ua(b)&&0<b.length))return[];var e=encodeURIComponent;return eb(b.split(","),function(b){var d=a.fullPath,d="https://firebasestorage.googleapis.com/v0"+("/b/"+e(a.bucket)+"/o/"+e(d));b=Oa({alt:"media",token:b});return d+b})}));return Sd=a},Ud=function(a,b){Object.defineProperty(a,"ref",{get:function(){return b.l(b,new z(a.bucket,a.fullPath))}})},Vd=function(a,b){for(var c={},d=b.length,e=0;e<d;e++){var f=b[e];f.f&&(c[f.c]=a[f.b])}return JSON.stringify(c)},Wd=function(a){if(!a||"object"!==typeof a)throw"Expected Metadata object.";for(var b in a){var c=a[b];if("customMetadata"===b&&"object"!==typeof c)throw"Expected object for 'customMetadata' mapping."}};var T=function(a,b,c){for(var d=b.length,e=b.length,f=0;f<b.length;f++)if(b[f].b){d=f;break}if(!(d<=c.length&&c.length<=e))throw d===e?(b=d,d=1===d?"argument":"arguments"):(b="between "+d+" and "+e,d="arguments"),new v("invalid-argument-count","Invalid argument count in `"+a+"`: Expected "+b+" "+d+", received "+c.length+".");for(f=0;f<c.length;f++)try{b[f].a(c[f])}catch(g){if(g instanceof Error)throw na(f,a,g.message);throw na(f,a,g)}},U=function(a,b){var c=this;this.a=function(b){c.b&&!n(b)||a(b)};this.b=!!b},Xd=function(a,b){return function(c){a(c);b(c)}},Yd=function(a,b){function c(a){if(!("string"===typeof a||a instanceof String))throw"Expected string."}var d;a?d=Xd(c,a):d=c;return new U(d,b)},Zd=function(){return new U(function(a){if(!(a instanceof Blob))throw"Expected Blob or File."})},$d=function(){return new U(function(a){if(!(("number"===typeof a||a instanceof Number)&&0<=a))throw"Expected a number 0 or greater."})},ae=function(a,b){return new U(function(b){if(!(null===b||y(b)&&b instanceof Object))throw"Expected an Object.";y(a)&&a(b)},b)},be=function(){return new U(function(a){if(null!==a&&!r(a))throw"Expected a Function."},!0)};var ce=function(a){if(!a)throw la()},de=function(a,b){return function(c,d){a:{var e;try{e=JSON.parse(d)}catch(h){c=null;break a}c=da(e)?e:null}if(null===c)c=null;else{d={type:"file"};e=b.length;for(var f=0;f<e;f++){var g=b[f];d[g.b]=g.a(d,c[g.c])}Ud(d,a);c=d}ce(null!==c);return c}},ee=function(a){return function(b,c){b=401===Q(b)?new v("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===Q(b)?new v("quota-exceeded","Quota for bucket '"+a.bucket+"' exceeded, please view quota on https://firebase.google.com/pricing/."):403===Q(b)?new v("unauthorized","User does not have permission to access '"+a.path+"'."):c;b.serverResponse=c.serverResponse;return b}},fe=function(a){var b=ee(a);return function(c,d){var e=b(c,d);404===Q(c)&&(e=new v("object-not-found","Object '"+a.path+"' does not exist."));e.serverResponse=d.serverResponse;return e}},ge=function(a,b,c){var d=La(b);a=new x(ka+"/v0"+d,"GET",de(a,c),a.c);a.a=fe(b);return a},he=function(a,b){var c=La(b);a=new x(ka+"/v0"+c,"DELETE",function(){},a.c);a.h=[200,204];a.a=fe(b);return a},ie=function(a,b,c){c=c?qa(c):{};c.fullPath=a.path;c.size=b.size;c.contentType||(c.contentType=b&&b.type||"application/octet-stream");return c},je=function(a,b,c,d,e){var f="/b/"+encodeURIComponent(b.bucket)+"/o",g={"X-Goog-Upload-Protocol":"multipart"},h;h="";for(var l=0;2>l;l++)h+=Math.random().toString().slice(2);g["Content-Type"]="multipart/related; boundary="+h;e=ie(b,d,e);l=Vd(e,c);d=Kd("--"+h+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+l+"\r\n--"+h+"\r\nContent-Type: "+e.contentType+"\r\n\r\n",d,"\r\n--"+h+"--");a=new x(ka+"/v0"+f,"POST",de(a,c),a.b);a.f={name:e.fullPath};a.b=g;a.c=d;a.a=ee(b);return a},ke=function(a,b,c,d){this.a=a;this.total=b;this.b=!!c;this.c=d||null},le=function(a,b){var c;try{c=Ed(a,"X-Goog-Upload-Status")}catch(d){ce(!1)}a=0<=bb(b||["active"],c);ce(a);return c},me=function(a,b,c,d,e){var f="/b/"+encodeURIComponent(b.bucket)+"/o",g=ie(b,d,e);e={name:g.fullPath};f=ka+"/v0"+f;d={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":d.size,"X-Goog-Upload-Header-Content-Type":g.contentType,"Content-Type":"application/json; charset=utf-8"};c=Vd(g,c);a=new x(f,"POST",function(a){le(a);var b;try{b=Ed(a,"X-Goog-Upload-URL")}catch(c){ce(!1)}ce(ua(b));return b},a.b);a.f=e;a.b=d;a.c=c;a.a=ee(b);return a},ne=function(a,b,c,d){a=new x(c,"POST",function(a){var b=le(a,["active","final"]),c;try{c=Ed(a,"X-Goog-Upload-Size-Received")}catch(h){ce(!1)}a=c;isFinite(a)&&(a=String(a));a=q(a)?/^\s*-?0x/i.test(a)?parseInt(a,16):parseInt(a,10):NaN;ce(!isNaN(a));return new ke(a,d.size,"final"===b)},a.b);a.b={"X-Goog-Upload-Command":"query"};a.a=ee(b);return a},oe=function(a,b,c,d,e,f){var g=new ke(0,0);f?(g.a=f.a,g.total=f.total):(g.a=0,g.total=d.size);if(d.size!==g.total)throw new v("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var h=f=g.total-g.a,h=Math.min(h,262144),l=g.a;f={"X-Goog-Upload-Command":h===f?"upload, finalize":"upload","X-Goog-Upload-Offset":g.a};l=Ld(d,l,l+h);if(null===l)throw new v("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.");c=new x(c,"POST",function(a,c){var f=le(a,["active","final"]),l=g.a+h,Ad=d.size,Va;"final"===f?Va=de(b,e)(a,c):Va=null;return new ke(l,Ad,"final"===f,Va)},b.b);c.b=f;c.c=l;c.g=null;c.a=ee(a);return c};var W=function(a,b,c,d,e,f){this.K=a;this.c=b;this.i=c;this.f=e;this.h=f||null;this.l=d;this.j=0;this.B=this.s=!1;this.v=[];this.R=262144<this.f.size;this.b="running";this.a=this.m=this.g=null;var g=this;this.V=function(a){g.a=null;"storage/canceled"===a.code?(g.s=!0,pe(g)):(g.g=a,V(g,"error"))};this.P=function(a){g.a=null;"storage/canceled"===a.code?pe(g):(g.g=a,V(g,"error"))};qe(this)},qe=function(a){"running"===a.b&&null===a.a&&(a.R?null===a.m?re(a):a.s?se(a):a.B?te(a):ue(a):ve(a))},we=function(a,b){Qd(a.c).then(function(c){switch(a.b){case"running":b(c);break;case"canceling":V(a,"canceled");break;case"pausing":V(a,"paused")}})},re=function(a){we(a,function(b){var c=me(a.c,a.i,a.l,a.f,a.h);a.a=R(a.c,c,b);a.a.a().then(function(b){a.a=null;a.m=b;a.s=!1;pe(a)},this.V)})},se=function(a){var b=a.m;we(a,function(c){var d=ne(a.c,a.i,b,a.f);a.a=R(a.c,d,c);a.a.a().then(function(b){a.a=null;xe(a,b.a);a.s=!1;b.b&&(a.B=!0);pe(a)},a.V)})},ue=function(a){var b=new ke(a.j,a.f.size),c=a.m;we(a,function(d){var e;try{e=oe(a.i,a.c,c,a.f,a.l,b)}catch(f){a.g=f;V(a,"error");return}a.a=R(a.c,e,d);a.a.a().then(function(b){a.a=null;xe(a,b.a);b.b?(a.h=b.c,V(a,"success")):pe(a)},a.V)})},te=function(a){we(a,function(b){var c=ge(a.c,a.i,a.l);a.a=R(a.c,c,b);a.a.a().then(function(b){a.a=null;a.h=b;V(a,"success")},a.P)})},ve=function(a){we(a,function(b){var c=je(a.c,a.i,a.l,a.f,a.h);a.a=R(a.c,c,b);a.a.a().then(function(b){a.a=null;a.h=b;xe(a,a.f.size);V(a,"success")},a.V)})},xe=function(a,b){var c=a.j;a.j=b;a.j>c&&ye(a)},V=function(a,b){if(a.b!==b)switch(b){case"canceling":a.b=b;null!==a.a&&a.a.b();break;case"pausing":a.b=b;null!==a.a&&a.a.b();break;case"running":var c="paused"===a.b;a.b=b;c&&(ye(a),qe(a));break;case"paused":a.b=b;ye(a);break;case"canceled":a.g=ma();a.b=b;ye(a);break;case"error":a.b=b;ye(a);break;case"success":a.b=b,ye(a)}},pe=function(a){switch(a.b){case"pausing":V(a,"paused");break;case"canceling":V(a,"canceled");break;case"running":qe(a)}};W.prototype.C=function(){return new A(this.j,this.f.size,ta(this.b),this.h,this,this.K)};W.prototype.I=function(a,b,c,d){function e(a){try{g(a);return}catch(b){}try{if(h(a),!(n(a.next)||n(a.error)||n(a.complete)))throw""}catch(b){throw"Expected a function or an Object with one of `next`, `error`, `complete` properties."}}function f(a){return function(b,c,d){null!==a&&T("on",a,arguments);var e=new Na(b,c,d);ze(l,e);return function(){jb(l.v,e)}}}var g=be().a,h=ae(null,!0).a;T("on",[Yd(function(){if("state_changed"!==a)throw"Expected one of the event types: [state_changed]."}),ae(e,!0),be(),be()],arguments);var l=this,B=[ae(function(a){if(null===a)throw"Expected a function or an Object with one of `next`, `error`, `complete` properties.";e(a)}),be(),be()];return n(b)||n(c)||n(d)?f(null)(b,c,d):f(B)};var ze=function(a,b){a.v.push(b);Ae(a,b)},ye=function(a){var b=kb(a.v);cb(b,function(b){Ae(a,b)})},Ae=function(a,b){switch(ta(a.b)){case"running":case"paused":null!==b.next&&Dc(b.next.bind(b,a.C()))();break;case"success":null!==b.a&&Dc(b.a.bind(b))();break;case"canceled":case"error":null!==b.error&&Dc(b.error.bind(b,a.g))();break;default:null!==b.error&&Dc(b.error.bind(b,a.g))()}};W.prototype.M=function(){T("resume",[],arguments);var a="paused"===this.b||"pausing"===this.b;a&&V(this,"running");return a};W.prototype.L=function(){T("pause",[],arguments);var a="running"===this.b;a&&V(this,"pausing");return a};W.prototype.H=function(){T("cancel",[],arguments);var a="running"===this.b||"pausing"===this.b;a&&V(this,"canceling");return a};var X=function(a,b){this.b=a;if(b)this.a=b instanceof z?b:Ma(b);else if(a=a.bucket(),null!==a)this.a=new z(a,"");else throw new v("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?")};X.prototype.toString=function(){T("toString",[],arguments);return"gs://"+this.a.bucket+"/"+this.a.path};var Be=function(a,b){return new X(a,b)};k=X.prototype;k.ga=function(a){T("child",[Yd()],arguments);var b=tb(this.a.path,a);return Be(this.b,new z(this.a.bucket,b))};k.Fa=function(){var a;a=this.a.path;if(0==a.length)a=null;else{var b=a.lastIndexOf("/");a=-1===b?"":a.slice(0,b)}return null===a?null:Be(this.b,new z(this.a.bucket,a))};k.Ha=function(){return Be(this.b,new z(this.a.bucket,""))};k.pa=function(){return this.a.bucket};k.Aa=function(){return this.a.path};k.Ea=function(){return ub(this.a.path)};k.Ja=function(){return this.b.i};k.ua=function(a,b){T("put",[Zd(),new U(Wd,!0)],arguments);Ce(this,"put");return new W(this,this.b,this.a,Td(),a,b)};k.delete=function(){T("delete",[],arguments);Ce(this,"delete");var a=this;return Qd(this.b).then(function(b){var c=he(a.b,a.a);return R(a.b,c,b).a()})};k.ha=function(){T("getMetadata",[],arguments);Ce(this,"getMetadata");var a=this;return Qd(this.b).then(function(b){var c=ge(a.b,a.a,Td());return R(a.b,c,b).a()})};k.va=function(a){T("updateMetadata",[new U(Wd,void 0)],arguments);Ce(this,"updateMetadata");var b=this;return Qd(this.b).then(function(c){var d=b.b,e=b.a,f=a,g=Td(),h=La(e),h=ka+"/v0"+h,f=Vd(f,g),d=new x(h,"PATCH",de(d,g),d.c);d.b={"Content-Type":"application/json; charset=utf-8"};d.c=f;d.a=fe(e);return R(b.b,d,c).a()})};k.ta=function(){T("getDownloadURL",[],arguments);Ce(this,"getDownloadURL");return this.ha().then(function(a){a=a.downloadURLs[0];if(y(a))return a;throw new v("no-download-url","The given file does not have any download URLs.")})};var Ce=function(a,b){if(""===a.a.path)throw new v("invalid-root-operation","The operation '"+b+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")};var Y=function(a){this.a=new Pd(a,function(a,c){return new X(a,c)},Jd,this);this.b=a;this.c=new De(this)};k=Y.prototype;k.wa=function(a){T("ref",[Yd(function(a){if(/^[A-Za-z]+:\/\//.test(a))throw"Expected child path but got a URL, use refFromURL instead."},!0)],arguments);var b=new X(this.a);return n(a)?b.ga(a):b};k.xa=function(a){T("refFromURL",[Yd(function(a){if(!/^[A-Za-z]+:\/\//.test(a))throw"Expected full URL but got a child path, use ref instead.";try{Ma(a)}catch(c){throw"Expected valid full URL but got an invalid one."}},!1)],arguments);return new X(this.a,a)};k.Ca=function(){return this.a.b};k.za=function(a){T("setMaxUploadRetryTime",[$d()],arguments);this.a.b=a};k.Ba=function(){return this.a.c};k.ya=function(a){T("setMaxOperationRetryTime",[$d()],arguments);this.a.c=a};k.oa=function(){return this.b};k.la=function(){return this.c};var De=function(a){this.a=a};De.prototype.delete=function(){var a=this.a.a;a.f=!0;a.a=null;a.h.clear()};var Z=function(a,b,c){Object.defineProperty(a,b,{get:c})};X.prototype.toString=X.prototype.toString;X.prototype.child=X.prototype.ga;X.prototype.put=X.prototype.ua;X.prototype["delete"]=X.prototype.delete;X.prototype.getMetadata=X.prototype.ha;X.prototype.updateMetadata=X.prototype.va;X.prototype.getDownloadURL=X.prototype.ta;Z(X.prototype,"parent",X.prototype.Fa);Z(X.prototype,"root",X.prototype.Ha);Z(X.prototype,"bucket",X.prototype.pa);Z(X.prototype,"fullPath",X.prototype.Aa);Z(X.prototype,"name",X.prototype.Ea);Z(X.prototype,"storage",X.prototype.Ja);Y.prototype.ref=Y.prototype.wa;Y.prototype.refFromURL=Y.prototype.xa;Z(Y.prototype,"maxOperationRetryTime",Y.prototype.Ba);Y.prototype.setMaxOperationRetryTime=Y.prototype.ya;Z(Y.prototype,"maxUploadRetryTime",Y.prototype.Ca);Y.prototype.setMaxUploadRetryTime=Y.prototype.za;Z(Y.prototype,"app",Y.prototype.oa);Z(Y.prototype,"INTERNAL",Y.prototype.la);De.prototype["delete"]=De.prototype.delete;Y.prototype.capi_=function(a){ka=a};W.prototype.on=W.prototype.I;W.prototype.resume=W.prototype.M;W.prototype.pause=W.prototype.L;W.prototype.cancel=W.prototype.H;Z(W.prototype,"snapshot",W.prototype.C);Z(A.prototype,"bytesTransferred",A.prototype.qa);Z(A.prototype,"totalBytes",A.prototype.La);Z(A.prototype,"state",A.prototype.Ia);Z(A.prototype,"metadata",A.prototype.Da);Z(A.prototype,"downloadURL",A.prototype.sa);Z(A.prototype,"task",A.prototype.Ka);Z(A.prototype,"ref",A.prototype.Ga);

ra.STATE_CHANGED="state_changed";sa.RUNNING="running";sa.PAUSED="paused";sa.SUCCESS="success";sa.CANCELED="canceled";sa.ERROR="error";H.prototype["catch"]=H.prototype.l;H.prototype.then=H.prototype.then;(function(){function a(a){return new Y(a)}var b={TaskState:sa,TaskEvent:ra,Storage:Y,Reference:X};if(window.firebase&&firebase.INTERNAL&&firebase.INTERNAL.registerService)firebase.INTERNAL.registerService("storage",a,b);else throw Error("Cannot install Firebase Storage - be sure to load firebase-app.js first.")})()})()}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],228:[function(require,module,exports){var util=require("util");var INDENT_START=/[\{\[]/;var INDENT_END=/[\}\]]/;module.exports=function(){var lines=[];var indent=0;var push=function(str){var spaces="";while(spaces.length<indent*2)spaces+="  ";lines.push(spaces+str)};var line=function(fmt){if(!fmt)return line;if(INDENT_END.test(fmt.trim()[0])&&INDENT_START.test(fmt[fmt.length-1])){indent--;push(util.format.apply(util,arguments));indent++;return line}if(INDENT_START.test(fmt[fmt.length-1])){push(util.format.apply(util,arguments));indent++;return line}if(INDENT_END.test(fmt.trim()[0])){indent--;push(util.format.apply(util,arguments));return line}push(util.format.apply(util,arguments));return line};line.toString=function(){return lines.join("\n")};line.toFunction=function(scope){var src="return ("+line.toString()+")";var keys=Object.keys(scope||{}).map(function(key){return key});var vals=keys.map(function(key){return scope[key]});return Function.apply(null,keys.concat(src)).apply(null,vals)};if(arguments.length)line.apply(null,arguments);return line}},{util:282}],229:[function(require,module,exports){var isProperty=require("is-property");var gen=function(obj,prop){return isProperty(prop)?obj+"."+prop:obj+"["+JSON.stringify(prop)+"]"};gen.valid=isProperty;gen.property=function(prop){return isProperty(prop)?prop:JSON.stringify(prop)};module.exports=gen},{"is-property":236}],230:[function(require,module,exports){"use strict";function Hashids(salt,minHashLength,alphabet){var uniqueAlphabet,i,j,len,sepsLength,diff,guardCount;if(!(this instanceof Hashids)){return new Hashids(salt,minHashLength,alphabet)}this.version="1.0.2";this.minAlphabetLength=16;this.sepDiv=3.5;this.guardDiv=12;this.errorAlphabetLength="error: alphabet must contain at least X unique characters";this.errorAlphabetSpace="error: alphabet cannot contain spaces";this.alphabet="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890";this.seps="cfhistuCFHISTU";this.minHashLength=parseInt(minHashLength,10)>0?minHashLength:0;this.salt=typeof salt==="string"?salt:"";if(typeof alphabet==="string"){this.alphabet=alphabet}for(uniqueAlphabet="",i=0,len=this.alphabet.length;i!==len;i++){if(uniqueAlphabet.indexOf(this.alphabet[i])===-1){uniqueAlphabet+=this.alphabet[i]}}this.alphabet=uniqueAlphabet;if(this.alphabet.length<this.minAlphabetLength){throw this.errorAlphabetLength.replace("X",this.minAlphabetLength)}if(this.alphabet.search(" ")!==-1){throw this.errorAlphabetSpace}for(i=0,len=this.seps.length;i!==len;i++){j=this.alphabet.indexOf(this.seps[i]);if(j===-1){this.seps=this.seps.substr(0,i)+" "+this.seps.substr(i+1)}else{this.alphabet=this.alphabet.substr(0,j)+" "+this.alphabet.substr(j+1)}}this.alphabet=this.alphabet.replace(/ /g,"");this.seps=this.seps.replace(/ /g,"");this.seps=this.consistentShuffle(this.seps,this.salt);if(!this.seps.length||this.alphabet.length/this.seps.length>this.sepDiv){sepsLength=Math.ceil(this.alphabet.length/this.sepDiv);if(sepsLength===1){sepsLength++}if(sepsLength>this.seps.length){diff=sepsLength-this.seps.length;this.seps+=this.alphabet.substr(0,diff);this.alphabet=this.alphabet.substr(diff)}else{this.seps=this.seps.substr(0,sepsLength)}}this.alphabet=this.consistentShuffle(this.alphabet,this.salt);guardCount=Math.ceil(this.alphabet.length/this.guardDiv);if(this.alphabet.length<3){this.guards=this.seps.substr(0,guardCount);this.seps=this.seps.substr(guardCount)}else{this.guards=this.alphabet.substr(0,guardCount);this.alphabet=this.alphabet.substr(guardCount)}}Hashids.prototype.encode=function(){var ret="",i,len,numbers=Array.prototype.slice.call(arguments);if(!numbers.length){return ret}if(numbers[0]instanceof Array){numbers=numbers[0]}for(i=0,len=numbers.length;i!==len;i++){if(typeof numbers[i]!=="number"||numbers[i]%1!==0||numbers[i]<0){return ret}}return this._encode(numbers)};Hashids.prototype.decode=function(hash){var ret=[];if(!hash.length||typeof hash!=="string"){return ret}return this._decode(hash,this.alphabet)};Hashids.prototype.encodeHex=function(str){var i,len,numbers;str=str.toString();if(!/^[0-9a-fA-F]+$/.test(str)){return""}numbers=str.match(/[\w\W]{1,12}/g);for(i=0,len=numbers.length;i!==len;i++){numbers[i]=parseInt("1"+numbers[i],16)}return this.encode.apply(this,numbers)};Hashids.prototype.decodeHex=function(hash){var ret="",i,len,numbers=this.decode(hash);for(i=0,len=numbers.length;i!==len;i++){ret+=numbers[i].toString(16).substr(1)}return ret};Hashids.prototype._encode=function(numbers){var ret,lottery,i,len,number,buffer,last,sepsIndex,guardIndex,guard,halfLength,excess,alphabet=this.alphabet,numbersSize=numbers.length,numbersHashInt=0;for(i=0,len=numbers.length;i!==len;i++){numbersHashInt+=numbers[i]%(i+100)}lottery=ret=alphabet[numbersHashInt%alphabet.length];for(i=0,len=numbers.length;i!==len;i++){number=numbers[i];buffer=lottery+this.salt+alphabet;alphabet=this.consistentShuffle(alphabet,buffer.substr(0,alphabet.length));last=this.hash(number,alphabet);ret+=last;if(i+1<numbersSize){number%=last.charCodeAt(0)+i;sepsIndex=number%this.seps.length;ret+=this.seps[sepsIndex]}}if(ret.length<this.minHashLength){guardIndex=(numbersHashInt+ret[0].charCodeAt(0))%this.guards.length;guard=this.guards[guardIndex];ret=guard+ret;if(ret.length<this.minHashLength){guardIndex=(numbersHashInt+ret[2].charCodeAt(0))%this.guards.length;guard=this.guards[guardIndex];ret+=guard}}halfLength=parseInt(alphabet.length/2,10);while(ret.length<this.minHashLength){alphabet=this.consistentShuffle(alphabet,alphabet);ret=alphabet.substr(halfLength)+ret+alphabet.substr(0,halfLength);excess=ret.length-this.minHashLength;if(excess>0){ret=ret.substr(excess/2,this.minHashLength)}}return ret};Hashids.prototype._decode=function(hash,alphabet){var ret=[],i=0,lottery,len,subHash,buffer,r=new RegExp("["+this.guards+"]","g"),hashBreakdown=hash.replace(r," "),hashArray=hashBreakdown.split(" ");if(hashArray.length===3||hashArray.length===2){i=1}hashBreakdown=hashArray[i];if(typeof hashBreakdown[0]!=="undefined"){lottery=hashBreakdown[0];hashBreakdown=hashBreakdown.substr(1);r=new RegExp("["+this.seps+"]","g");hashBreakdown=hashBreakdown.replace(r," ");hashArray=hashBreakdown.split(" ");for(i=0,len=hashArray.length;i!==len;i++){subHash=hashArray[i];buffer=lottery+this.salt+alphabet;alphabet=this.consistentShuffle(alphabet,buffer.substr(0,alphabet.length));ret.push(this.unhash(subHash,alphabet))}if(this._encode(ret)!==hash){ret=[]}}return ret};Hashids.prototype.consistentShuffle=function(alphabet,salt){var integer,j,temp,i,v,p;if(!salt.length){return alphabet}for(i=alphabet.length-1,v=0,p=0;i>0;i--,v++){v%=salt.length;p+=integer=salt[v].charCodeAt(0);j=(integer+v+p)%i;temp=alphabet[j];alphabet=alphabet.substr(0,j)+alphabet[i]+alphabet.substr(j+1);alphabet=alphabet.substr(0,i)+temp+alphabet.substr(i+1)}return alphabet};Hashids.prototype.hash=function(input,alphabet){var hash="",alphabetLength=alphabet.length;do{hash=alphabet[input%alphabetLength]+hash;input=parseInt(input/alphabetLength,10)}while(input);return hash};Hashids.prototype.unhash=function(input,alphabet){var number=0,pos,i;for(i=0;i<input.length;i++){pos=alphabet.indexOf(input[i]);number+=pos*Math.pow(alphabet.length,input.length-i-1)}return number};module.exports=Hashids},{}],231:[function(require,module,exports){(function(){var cache={};var ctx=null,usingWebAudio=true,noAudio=false;try{if(typeof AudioContext!=="undefined"){ctx=new AudioContext}else if(typeof webkitAudioContext!=="undefined"){ctx=new webkitAudioContext}else{usingWebAudio=false}}catch(e){usingWebAudio=false}if(!usingWebAudio){if(typeof Audio!=="undefined"){try{new Audio}catch(e){noAudio=true}}else{noAudio=true}}if(usingWebAudio){var masterGain=typeof ctx.createGain==="undefined"?ctx.createGainNode():ctx.createGain();masterGain.gain.value=1;masterGain.connect(ctx.destination)}var HowlerGlobal=function(codecs){this._volume=1;this._muted=false;this.usingWebAudio=usingWebAudio;this.ctx=ctx;this.noAudio=noAudio;this._howls=[];this._codecs=codecs;this.iOSAutoEnable=true};HowlerGlobal.prototype={volume:function(vol){var self=this;vol=parseFloat(vol);if(vol>=0&&vol<=1){self._volume=vol;if(usingWebAudio){masterGain.gain.value=vol}for(var key in self._howls){if(self._howls.hasOwnProperty(key)&&self._howls[key]._webAudio===false){for(var i=0;i<self._howls[key]._audioNode.length;i++){self._howls[key]._audioNode[i].volume=self._howls[key]._volume*self._volume}}}return self}return usingWebAudio?masterGain.gain.value:self._volume},mute:function(){this._setMuted(true);return this},unmute:function(){this._setMuted(false);return this},_setMuted:function(muted){var self=this;self._muted=muted;if(usingWebAudio){masterGain.gain.value=muted?0:self._volume}for(var key in self._howls){if(self._howls.hasOwnProperty(key)&&self._howls[key]._webAudio===false){for(var i=0;i<self._howls[key]._audioNode.length;i++){self._howls[key]._audioNode[i].muted=muted}}}},codecs:function(ext){return this._codecs[ext]},_enableiOSAudio:function(){var self=this;if(ctx&&(self._iOSEnabled||!/iPhone|iPad|iPod/i.test(navigator.userAgent))){return}self._iOSEnabled=false;var unlock=function(){var buffer=ctx.createBuffer(1,1,22050);var source=ctx.createBufferSource();source.buffer=buffer;source.connect(ctx.destination);if(typeof source.start==="undefined"){source.noteOn(0)}else{source.start(0)}setTimeout(function(){if(source.playbackState===source.PLAYING_STATE||source.playbackState===source.FINISHED_STATE){self._iOSEnabled=true;self.iOSAutoEnable=false;window.removeEventListener("touchend",unlock,false)}},0)};window.addEventListener("touchend",unlock,false);return self}};var audioTest=null;var codecs={};if(!noAudio){audioTest=new Audio;codecs={mp3:!!audioTest.canPlayType("audio/mpeg;").replace(/^no$/,""),opus:!!audioTest.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!audioTest.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!audioTest.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),aac:!!audioTest.canPlayType("audio/aac;").replace(/^no$/,""),m4a:!!(audioTest.canPlayType("audio/x-m4a;")||audioTest.canPlayType("audio/m4a;")||audioTest.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(audioTest.canPlayType("audio/x-mp4;")||audioTest.canPlayType("audio/mp4;")||audioTest.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!audioTest.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")}}var Howler=new HowlerGlobal(codecs);var Howl=function(o){var self=this;self._autoplay=o.autoplay||false;self._buffer=o.buffer||false;self._duration=o.duration||0;self._format=o.format||null;self._loop=o.loop||false;self._loaded=false;self._sprite=o.sprite||{};self._src=o.src||"";self._pos3d=o.pos3d||[0,0,-.5];self._volume=o.volume!==undefined?o.volume:1;self._urls=o.urls||[];self._rate=o.rate||1;self._model=o.model||null;self._onload=[o.onload||function(){}];self._onloaderror=[o.onloaderror||function(){}];self._onend=[o.onend||function(){}];self._onpause=[o.onpause||function(){}];self._onplay=[o.onplay||function(){}];self._onendTimer=[];self._webAudio=usingWebAudio&&!self._buffer;self._audioNode=[];if(self._webAudio){self._setupAudioNode()}if(typeof ctx!=="undefined"&&ctx&&Howler.iOSAutoEnable){Howler._enableiOSAudio()}Howler._howls.push(self);self.load()};Howl.prototype={load:function(){var self=this,url=null;if(noAudio){self.on("loaderror",new Error("No audio support."));return}for(var i=0;i<self._urls.length;i++){var ext,urlItem;if(self._format){ext=self._format}else{urlItem=self._urls[i];ext=/^data:audio\/([^;,]+);/i.exec(urlItem);if(!ext){ext=/\.([^.]+)$/.exec(urlItem.split("?",1)[0])}if(ext){ext=ext[1].toLowerCase()}else{self.on("loaderror",new Error("Could not extract format from passed URLs, please add format parameter."));return}}if(codecs[ext]){url=self._urls[i];break}}if(!url){self.on("loaderror",new Error("No codec support for selected audio sources."));return}self._src=url;if(self._webAudio){loadBuffer(self,url)}else{var newNode=new Audio;newNode.addEventListener("error",function(){if(newNode.error&&newNode.error.code===4){HowlerGlobal.noAudio=true}self.on("loaderror",{type:newNode.error?newNode.error.code:0})},false);self._audioNode.push(newNode);newNode.src=url;newNode._pos=0;newNode.preload="auto";newNode.volume=Howler._muted?0:self._volume*Howler.volume();var listener=function(){self._duration=Math.ceil(newNode.duration*10)/10;if(Object.getOwnPropertyNames(self._sprite).length===0){self._sprite={_default:[0,self._duration*1e3]}}if(!self._loaded){self._loaded=true;self.on("load")}if(self._autoplay){self.play()}newNode.removeEventListener("canplaythrough",listener,false)};newNode.addEventListener("canplaythrough",listener,false);newNode.load()}return self},urls:function(urls){var self=this;if(urls){self.stop();self._urls=typeof urls==="string"?[urls]:urls;self._loaded=false;self.load();return self}else{return self._urls}},play:function(sprite,callback){var self=this;if(typeof sprite==="function"){callback=sprite}if(!sprite||typeof sprite==="function"){sprite="_default"}if(!self._loaded){self.on("load",function(){self.play(sprite,callback)});return self}if(!self._sprite[sprite]){if(typeof callback==="function")callback();return self}self._inactiveNode(function(node){node._sprite=sprite;var pos=node._pos>0?node._pos:self._sprite[sprite][0]/1e3;var duration=0;if(self._webAudio){duration=self._sprite[sprite][1]/1e3-node._pos;if(node._pos>0){pos=self._sprite[sprite][0]/1e3+pos}}else{duration=self._sprite[sprite][1]/1e3-(pos-self._sprite[sprite][0]/1e3)}var loop=!!(self._loop||self._sprite[sprite][2]);var soundId=typeof callback==="string"?callback:Math.round(Date.now()*Math.random())+"",timerId;(function(){var data={id:soundId,sprite:sprite,loop:loop};timerId=setTimeout(function(){if(!self._webAudio&&loop){self.stop(data.id).play(sprite,data.id)}if(self._webAudio&&!loop){self._nodeById(data.id).paused=true;self._nodeById(data.id)._pos=0;self._clearEndTimer(data.id)}if(!self._webAudio&&!loop){self.stop(data.id)}self.on("end",soundId)},duration/self._rate*1e3);self._onendTimer.push({timer:timerId,id:data.id})})();if(self._webAudio){var loopStart=self._sprite[sprite][0]/1e3,loopEnd=self._sprite[sprite][1]/1e3;node.id=soundId;node.paused=false;refreshBuffer(self,[loop,loopStart,loopEnd],soundId);self._playStart=ctx.currentTime;node.gain.value=self._volume;if(typeof node.bufferSource.start==="undefined"){loop?node.bufferSource.noteGrainOn(0,pos,86400):node.bufferSource.noteGrainOn(0,pos,duration)}else{loop?node.bufferSource.start(0,pos,86400):node.bufferSource.start(0,pos,duration)}}else{if(node.readyState===4||!node.readyState&&navigator.isCocoonJS){node.readyState=4;node.id=soundId;node.currentTime=pos;node.muted=Howler._muted||node.muted;node.volume=self._volume*Howler.volume();setTimeout(function(){node.play()},0)}else{self._clearEndTimer(soundId);(function(){var sound=self,playSprite=sprite,fn=callback,newNode=node;var listener=function(){sound.play(playSprite,fn);newNode.removeEventListener("canplaythrough",listener,false)};newNode.addEventListener("canplaythrough",listener,false)})();return self}}self.on("play");if(typeof callback==="function")callback(soundId);return self});return self},pause:function(id){var self=this;if(!self._loaded){self.on("play",function(){self.pause(id)});return self}self._clearEndTimer(id);var activeNode=id?self._nodeById(id):self._activeNode();if(activeNode){activeNode._pos=self.pos(null,id);if(self._webAudio){if(!activeNode.bufferSource||activeNode.paused){return self}activeNode.paused=true;if(typeof activeNode.bufferSource.stop==="undefined"){activeNode.bufferSource.noteOff(0)}else{activeNode.bufferSource.stop(0)}}else{activeNode.pause()}}self.on("pause");return self},stop:function(id){var self=this;if(!self._loaded){self.on("play",function(){self.stop(id)});return self}self._clearEndTimer(id);var activeNode=id?self._nodeById(id):self._activeNode();if(activeNode){activeNode._pos=0;if(self._webAudio){if(!activeNode.bufferSource||activeNode.paused){return self}activeNode.paused=true;if(typeof activeNode.bufferSource.stop==="undefined"){activeNode.bufferSource.noteOff(0)}else{activeNode.bufferSource.stop(0)}}else if(!isNaN(activeNode.duration)){activeNode.pause();activeNode.currentTime=0}}return self},mute:function(id){var self=this;if(!self._loaded){self.on("play",function(){self.mute(id)});return self}var activeNode=id?self._nodeById(id):self._activeNode();if(activeNode){if(self._webAudio){activeNode.gain.value=0}else{activeNode.muted=true}}return self},unmute:function(id){var self=this;if(!self._loaded){self.on("play",function(){self.unmute(id)});return self}var activeNode=id?self._nodeById(id):self._activeNode();if(activeNode){if(self._webAudio){activeNode.gain.value=self._volume}else{activeNode.muted=false}}return self},volume:function(vol,id){var self=this;vol=parseFloat(vol);if(vol>=0&&vol<=1){self._volume=vol;if(!self._loaded){self.on("play",function(){self.volume(vol,id)});return self}var activeNode=id?self._nodeById(id):self._activeNode();if(activeNode){if(self._webAudio){activeNode.gain.value=vol}else{activeNode.volume=vol*Howler.volume()}}return self}else{return self._volume}},loop:function(loop){var self=this;if(typeof loop==="boolean"){self._loop=loop;return self}else{return self._loop}},sprite:function(sprite){var self=this;if(typeof sprite==="object"){self._sprite=sprite;return self}else{return self._sprite}},pos:function(pos,id){var self=this;if(!self._loaded){self.on("load",function(){self.pos(pos)});return typeof pos==="number"?self:self._pos||0}pos=parseFloat(pos);var activeNode=id?self._nodeById(id):self._activeNode();if(activeNode){if(pos>=0){self.pause(id);activeNode._pos=pos;self.play(activeNode._sprite,id);return self}else{return self._webAudio?activeNode._pos+(ctx.currentTime-self._playStart):activeNode.currentTime}}else if(pos>=0){return self}else{for(var i=0;i<self._audioNode.length;i++){if(self._audioNode[i].paused&&self._audioNode[i].readyState===4){return self._webAudio?self._audioNode[i]._pos:self._audioNode[i].currentTime}}}},pos3d:function(x,y,z,id){var self=this;y=typeof y==="undefined"||!y?0:y;z=typeof z==="undefined"||!z?-.5:z;if(!self._loaded){self.on("play",function(){self.pos3d(x,y,z,id)});return self}if(x>=0||x<0){if(self._webAudio){var activeNode=id?self._nodeById(id):self._activeNode();if(activeNode){self._pos3d=[x,y,z];activeNode.panner.setPosition(x,y,z);activeNode.panner.panningModel=self._model||"HRTF"}}}else{return self._pos3d}return self},fade:function(from,to,len,callback,id){var self=this,diff=Math.abs(from-to),dir=from>to?"down":"up",steps=diff/.01,stepTime=len/steps;if(!self._loaded){self.on("load",function(){self.fade(from,to,len,callback,id)});return self}self.volume(from,id);for(var i=1;i<=steps;i++){(function(){var change=self._volume+(dir==="up"?.01:-.01)*i,vol=Math.round(1e3*change)/1e3,toVol=to;setTimeout(function(){self.volume(vol,id);if(vol===toVol){if(callback)callback()}},stepTime*i)})()}},fadeIn:function(to,len,callback){return this.volume(0).play().fade(0,to,len,callback)},fadeOut:function(to,len,callback,id){var self=this;return self.fade(self._volume,to,len,function(){if(callback)callback();self.pause(id);self.on("end")},id)},_nodeById:function(id){var self=this,node=self._audioNode[0];for(var i=0;i<self._audioNode.length;i++){if(self._audioNode[i].id===id){node=self._audioNode[i];break}}return node},_activeNode:function(){var self=this,node=null;for(var i=0;i<self._audioNode.length;i++){if(!self._audioNode[i].paused){node=self._audioNode[i];break}}self._drainPool();return node},_inactiveNode:function(callback){var self=this,node=null;for(var i=0;i<self._audioNode.length;i++){if(self._audioNode[i].paused&&self._audioNode[i].readyState===4){callback(self._audioNode[i]);node=true;break}}self._drainPool();if(node){return}var newNode;if(self._webAudio){newNode=self._setupAudioNode();callback(newNode)}else{self.load();newNode=self._audioNode[self._audioNode.length-1];var listenerEvent=navigator.isCocoonJS?"canplaythrough":"loadedmetadata";var listener=function(){newNode.removeEventListener(listenerEvent,listener,false);callback(newNode)};newNode.addEventListener(listenerEvent,listener,false)}},_drainPool:function(){var self=this,inactive=0,i;for(i=0;i<self._audioNode.length;i++){if(self._audioNode[i].paused){inactive++}}for(i=self._audioNode.length-1;i>=0;i--){if(inactive<=5){break}if(self._audioNode[i].paused){if(self._webAudio){self._audioNode[i].disconnect(0)}inactive--;self._audioNode.splice(i,1)}}},_clearEndTimer:function(soundId){var self=this,index=-1;for(var i=0;i<self._onendTimer.length;i++){if(self._onendTimer[i].id===soundId){index=i;break}}var timer=self._onendTimer[index];if(timer){clearTimeout(timer.timer);self._onendTimer.splice(index,1)}},_setupAudioNode:function(){var self=this,node=self._audioNode,index=self._audioNode.length;node[index]=typeof ctx.createGain==="undefined"?ctx.createGainNode():ctx.createGain();node[index].gain.value=self._volume;node[index].paused=true;node[index]._pos=0;node[index].readyState=4;node[index].connect(masterGain);node[index].panner=ctx.createPanner();node[index].panner.panningModel=self._model||"equalpower";node[index].panner.setPosition(self._pos3d[0],self._pos3d[1],self._pos3d[2]);node[index].panner.connect(node[index]);return node[index]},on:function(event,fn){var self=this,events=self["_on"+event];if(typeof fn==="function"){events.push(fn)}else{for(var i=0;i<events.length;i++){if(fn){events[i].call(self,fn)}else{events[i].call(self)}}}return self},off:function(event,fn){var self=this,events=self["_on"+event];if(fn){for(var i=0;i<events.length;i++){if(fn===events[i]){events.splice(i,1);break}}}else{self["_on"+event]=[]}return self},unload:function(){var self=this;var nodes=self._audioNode;for(var i=0;i<self._audioNode.length;i++){if(!nodes[i].paused){self.stop(nodes[i].id);self.on("end",nodes[i].id)}if(!self._webAudio){nodes[i].src=""}else{nodes[i].disconnect(0)}}for(i=0;i<self._onendTimer.length;i++){clearTimeout(self._onendTimer[i].timer)}var index=Howler._howls.indexOf(self);if(index!==null&&index>=0){Howler._howls.splice(index,1)}delete cache[self._src];self=null}};if(usingWebAudio){var loadBuffer=function(obj,url){if(url in cache){obj._duration=cache[url].duration;loadSound(obj);return}if(/^data:[^;]+;base64,/.test(url)){var data=atob(url.split(",")[1]);var dataView=new Uint8Array(data.length);for(var i=0;i<data.length;++i){dataView[i]=data.charCodeAt(i)}decodeAudioData(dataView.buffer,obj,url)}else{var xhr=new XMLHttpRequest;xhr.open("GET",url,true);xhr.responseType="arraybuffer";xhr.onload=function(){decodeAudioData(xhr.response,obj,url)};xhr.onerror=function(){if(obj._webAudio){obj._buffer=true;obj._webAudio=false;obj._audioNode=[];delete obj._gainNode;delete cache[url];obj.load()}};try{xhr.send()}catch(e){xhr.onerror()}}};var decodeAudioData=function(arraybuffer,obj,url){ctx.decodeAudioData(arraybuffer,function(buffer){if(buffer){cache[url]=buffer;loadSound(obj,buffer)}},function(err){obj.on("loaderror",err)})};var loadSound=function(obj,buffer){obj._duration=buffer?buffer.duration:obj._duration;if(Object.getOwnPropertyNames(obj._sprite).length===0){obj._sprite={_default:[0,obj._duration*1e3]}}if(!obj._loaded){obj._loaded=true;obj.on("load")}if(obj._autoplay){obj.play()}};var refreshBuffer=function(obj,loop,id){var node=obj._nodeById(id);node.bufferSource=ctx.createBufferSource();node.bufferSource.buffer=cache[obj._src];node.bufferSource.connect(node.panner);node.bufferSource.loop=loop[0];if(loop[0]){node.bufferSource.loopStart=loop[1];node.bufferSource.loopEnd=loop[1]+loop[2]}node.bufferSource.playbackRate.value=obj._rate}}if(typeof define==="function"&&define.amd){define(function(){return{Howler:Howler,Howl:Howl}})}if(typeof exports!=="undefined"){exports.Howler=Howler;exports.Howl=Howl}if(typeof window!=="undefined"){window.Howler=Howler;window.Howl=Howl}})()},{}],232:[function(require,module,exports){(function(global){"use strict";var root=typeof window!=="undefined"?window:typeof global!=="undefined"?global:{};module.exports=Individual;function Individual(key,value){if(key in root){return root[key]}root[key]=value;return value}}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],233:[function(require,module,exports){"use strict";var Individual=require("./index.js");module.exports=OneVersion;function OneVersion(moduleName,version,defaultValue){var key="__INDIVIDUAL_ONE_VERSION_"+moduleName;var enforceKey=key+"_ENFORCE_SINGLETON";var versionValue=Individual(enforceKey,version);if(versionValue!==version){throw new Error("Can only have one copy of "+moduleName+".\n"+"You already have version "+versionValue+" installed.\n"+"This means you cannot install version "+version)}return Individual(key,defaultValue)}},{"./index.js":232}],234:[function(require,module,exports){if(typeof Object.create==="function"){module.exports=function inherits(ctor,superCtor){ctor.super_=superCtor;ctor.prototype=Object.create(superCtor.prototype,{constructor:{value:ctor,enumerable:false,writable:true,configurable:true}})}}else{module.exports=function inherits(ctor,superCtor){ctor.super_=superCtor;var TempCtor=function(){};TempCtor.prototype=superCtor.prototype;ctor.prototype=new TempCtor;ctor.prototype.constructor=ctor}}},{}],235:[function(require,module,exports){module.exports=isPromise;function isPromise(obj){return!!obj&&(typeof obj==="object"||typeof obj==="function")&&typeof obj.then==="function"}},{}],236:[function(require,module,exports){"use strict";function isProperty(str){return/^[$A-Z\_a-z\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u08a0\u08a2-\u08ac\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097f\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c3d\u0c58\u0c59\u0c60\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d60\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f0\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1877\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191c\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19c1-\u19c7\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1ce9-\u1cec\u1cee-\u1cf1\u1cf5\u1cf6\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2e2f\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua697\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua78e\ua790-\ua793\ua7a0-\ua7aa\ua7f8-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa80-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uabc0-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc][$A-Z\_a-z\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u08a0\u08a2-\u08ac\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097f\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c3d\u0c58\u0c59\u0c60\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d60\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f0\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1877\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191c\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19c1-\u19c7\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1ce9-\u1cec\u1cee-\u1cf1\u1cf5\u1cf6\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2e2f\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua697\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua78e\ua790-\ua793\ua7a0-\ua7aa\ua7f8-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa80-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uabc0-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc0-9\u0300-\u036f\u0483-\u0487\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u0669\u0670\u06d6-\u06dc\u06df-\u06e4\u06e7\u06e8\u06ea-\u06ed\u06f0-\u06f9\u0711\u0730-\u074a\u07a6-\u07b0\u07c0-\u07c9\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0859-\u085b\u08e4-\u08fe\u0900-\u0903\u093a-\u093c\u093e-\u094f\u0951-\u0957\u0962\u0963\u0966-\u096f\u0981-\u0983\u09bc\u09be-\u09c4\u09c7\u09c8\u09cb-\u09cd\u09d7\u09e2\u09e3\u09e6-\u09ef\u0a01-\u0a03\u0a3c\u0a3e-\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a66-\u0a71\u0a75\u0a81-\u0a83\u0abc\u0abe-\u0ac5\u0ac7-\u0ac9\u0acb-\u0acd\u0ae2\u0ae3\u0ae6-\u0aef\u0b01-\u0b03\u0b3c\u0b3e-\u0b44\u0b47\u0b48\u0b4b-\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b66-\u0b6f\u0b82\u0bbe-\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcd\u0bd7\u0be6-\u0bef\u0c01-\u0c03\u0c3e-\u0c44\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0c66-\u0c6f\u0c82\u0c83\u0cbc\u0cbe-\u0cc4\u0cc6-\u0cc8\u0cca-\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0ce6-\u0cef\u0d02\u0d03\u0d3e-\u0d44\u0d46-\u0d48\u0d4a-\u0d4d\u0d57\u0d62\u0d63\u0d66-\u0d6f\u0d82\u0d83\u0dca\u0dcf-\u0dd4\u0dd6\u0dd8-\u0ddf\u0df2\u0df3\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0e50-\u0e59\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0ed0-\u0ed9\u0f18\u0f19\u0f20-\u0f29\u0f35\u0f37\u0f39\u0f3e\u0f3f\u0f71-\u0f84\u0f86\u0f87\u0f8d-\u0f97\u0f99-\u0fbc\u0fc6\u102b-\u103e\u1040-\u1049\u1056-\u1059\u105e-\u1060\u1062-\u1064\u1067-\u106d\u1071-\u1074\u1082-\u108d\u108f-\u109d\u135d-\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b4-\u17d3\u17dd\u17e0-\u17e9\u180b-\u180d\u1810-\u1819\u18a9\u1920-\u192b\u1930-\u193b\u1946-\u194f\u19b0-\u19c0\u19c8\u19c9\u19d0-\u19d9\u1a17-\u1a1b\u1a55-\u1a5e\u1a60-\u1a7c\u1a7f-\u1a89\u1a90-\u1a99\u1b00-\u1b04\u1b34-\u1b44\u1b50-\u1b59\u1b6b-\u1b73\u1b80-\u1b82\u1ba1-\u1bad\u1bb0-\u1bb9\u1be6-\u1bf3\u1c24-\u1c37\u1c40-\u1c49\u1c50-\u1c59\u1cd0-\u1cd2\u1cd4-\u1ce8\u1ced\u1cf2-\u1cf4\u1dc0-\u1de6\u1dfc-\u1dff\u200c\u200d\u203f\u2040\u2054\u20d0-\u20dc\u20e1\u20e5-\u20f0\u2cef-\u2cf1\u2d7f\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua620-\ua629\ua66f\ua674-\ua67d\ua69f\ua6f0\ua6f1\ua802\ua806\ua80b\ua823-\ua827\ua880\ua881\ua8b4-\ua8c4\ua8d0-\ua8d9\ua8e0-\ua8f1\ua900-\ua909\ua926-\ua92d\ua947-\ua953\ua980-\ua983\ua9b3-\ua9c0\ua9d0-\ua9d9\uaa29-\uaa36\uaa43\uaa4c\uaa4d\uaa50-\uaa59\uaa7b\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uaaeb-\uaaef\uaaf5\uaaf6\uabe3-\uabea\uabec\uabed\uabf0-\uabf9\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\ufe33\ufe34\ufe4d-\ufe4f\uff10-\uff19\uff3f]*$/.test(str);

}module.exports=isProperty},{}],237:[function(require,module,exports){var console=require("console");var untilde=function(str){return str.replace(/~./g,function(m){switch(m){case"~0":return"~";case"~1":return"/"}throw"Invalid tilde escape: "+m})};var traverse=function(obj,pointer,value){var part=untilde(pointer.shift());if(typeof obj[part]==="undefined"){throw"Value for pointer '"+pointer+"' not found.";return}if(pointer.length!==0){return traverse(obj[part],pointer,value)}if(typeof value==="undefined"){return obj[part]}var old_value=obj[part];if(value===null){delete obj[part]}else{obj[part]=value}return old_value};var validate_input=function(obj,pointer){if(typeof obj!=="object"){throw"Invalid input object."}if(pointer===""){return[]}if(!pointer){throw"Invalid JSON pointer."}pointer=pointer.split("/");var first=pointer.shift();if(first!==""){throw"Invalid JSON pointer."}return pointer};var get=function(obj,pointer){pointer=validate_input(obj,pointer);if(pointer.length===0){return obj}return traverse(obj,pointer)};var set=function(obj,pointer,value){pointer=validate_input(obj,pointer);if(pointer.length===0){throw"Invalid JSON pointer for set."}return traverse(obj,pointer,value)};exports.get=get;exports.set=set},{console:218}],238:[function(require,module,exports){module.exports={apiKey:"AIzaSyA1Ib5i5HZPCxnKp4ITiUoy5VEKaLMdsDY",databaseURL:"https://play-ev3.firebaseio.com"}},{}],239:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.initApp=exports.addLight=exports.deactivateLight=exports.removeLight=exports.activateLight=undefined;var _createAction=require("@f/create-action");var _createAction2=_interopRequireDefault(_createAction);var _firebaseMW=require("./firebaseMW");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var addLight=(0,_createAction2.default)("lightGame/ACTIVATE_LIGHT");var removeLight=(0,_createAction2.default)("lightGame/DEACTIVATE_LIGHT");var deviceRef=undefined;function deactivateLight(active,port){active=active.filter(function(num){return num!==port});return[updateActive(active),removeLight(active)]}function activateLight(active,port){if(active.indexOf(port)===-1){active.push(port)}return[addLight(active),updateActive(active)]}function updateActive(active){return(0,_firebaseMW.set)({ref:deviceRef+"/active",value:active})}function initApp(dRef,_ref){var presses=_ref.presses;var active=_ref.active;deviceRef=dRef;return[(0,_firebaseMW.set)({ref:deviceRef+"/active",value:active}),(0,_firebaseMW.set)({ref:deviceRef+"/presses",value:presses})]}exports.activateLight=activateLight;exports.removeLight=removeLight;exports.deactivateLight=deactivateLight;exports.addLight=addLight;exports.initApp=initApp},{"./firebaseMW":240,"@f/create-action":14}],240:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.set=exports.unSubscribe=exports.subscribe=exports.middleware=undefined;var _firebase=require("firebase");var _firebase2=_interopRequireDefault(_firebase);var _createAction=require("@f/create-action");var _createAction2=_interopRequireDefault(_createAction);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var subscribe=(0,_createAction2.default)("lightGame/firebaseSub");var unSubscribe=(0,_createAction2.default)("lightGame/firebaseUnsub");var set=(0,_createAction2.default)("lightGame/firebaseSet");var watched=[];function middleware(config){try{_firebase2.default.initializeApp(config)}catch(e){console.warn(e)}var db=_firebase2.default.database();return function(_ref){var dispatch=_ref.dispatch;var getState=_ref.getState;return function(next){return function(action){switch(action.type){case subscribe.type:var _action$payload$liste=action.payload.listener;var listener=_action$payload$liste===undefined?"value":_action$payload$liste;if(watched.indexOf(action.payload.ref)===-1){watched.push(action.payload.ref);db.ref(action.payload.ref).on(listener,action.payload.cb)}break;case unSubscribe.type:db.ref(action.payload.ref).off("value");break;case set.type:var _action$payload=action.payload;var ref=_action$payload.ref;var _action$payload$metho=_action$payload.method;var method=_action$payload$metho===undefined?"set":_action$payload$metho;var value=_action$payload.value;db.ref(ref)[method](value);break}return next(action)}}}}exports.middleware=middleware;exports.subscribe=subscribe;exports.unSubscribe=unSubscribe;exports.set=set},{"@f/create-action":14,firebase:226}],241:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.set=exports.source=exports.deactivateLight=exports.activateLight=undefined;var _extends2=require("babel-runtime/helpers/extends");var _extends3=_interopRequireDefault(_extends2);var _regenerator=require("babel-runtime/regenerator");var _regenerator2=_interopRequireDefault(_regenerator);var _actions=require("./actions");var _firebaseMW=require("./firebaseMW");var _redux=require("redux");var _componentEmitter=require("component-emitter");var _componentEmitter2=_interopRequireDefault(_componentEmitter);var _reducer=require("./reducer");var _reducer2=_interopRequireDefault(_reducer);var _config=require("../config");var _config2=_interopRequireDefault(_config);var _reduxFlo=require("redux-flo");var _reduxFlo2=_interopRequireDefault(_reduxFlo);var _rxLite=require("rx-lite");var _rxLite2=_interopRequireDefault(_rxLite);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _marked=[initialize].map(_regenerator2.default.mark);var defaultOpts={active:[1,2,3,4]};var presses={1:0,2:0,3:0,4:0};var buttonPress=new _componentEmitter2.default;var source=_rxLite2.default.Observable.fromEvent(buttonPress,"press");function initialize(deviceRef,active){return _regenerator2.default.wrap(function initialize$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return(0,_actions.initApp)(deviceRef,{presses:presses,active:active});case 2:_context.next=4;return(0,_firebaseMW.unSubscribe)({ref:deviceRef+"/presses"});case 4:_context.next=6;return(0,_firebaseMW.subscribe)({ref:deviceRef+"/presses",listener:"child_changed",cb:function cb(snap){buttonPress.emit("press",snap.key)}});case 6:case"end":return _context.stop()}}},_marked[0],this)}function game(deviceRef,opts){opts=(0,_extends3.default)({},defaultOpts,opts);var store=(0,_redux.createStore)(_reducer2.default,opts,(0,_redux.applyMiddleware)((0,_reduxFlo2.default)(),(0,_firebaseMW.middleware)(_config2.default)));var dispatch=store.dispatch;var getState=store.getState;dispatch(initialize(deviceRef,opts.active));return{getActive:function getActive(){return getState().active},runner:dispatch}}exports.activateLight=_actions.activateLight;exports.deactivateLight=_actions.deactivateLight;exports.source=source;exports.set=_firebaseMW.set;exports.default=game},{"../config":238,"./actions":239,"./firebaseMW":240,"./reducer":242,"babel-runtime/helpers/extends":130,"babel-runtime/regenerator":204,"component-emitter":215,redux:265,"redux-flo":257,"rx-lite":273}],242:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends2=require("babel-runtime/helpers/extends");var _extends3=_interopRequireDefault(_extends2);var _actions=require("./actions");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}exports.default=function(state,action){switch(action.type){case _actions.addLight.type:return(0,_extends3.default)({},state,{active:action.payload});case _actions.removeLight.type:return(0,_extends3.default)({},state,{active:action.payload})}return state}},{"./actions":239,"babel-runtime/helpers/extends":130}],243:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.empty=exports.del=exports.get=exports.set=undefined;var _popcount=require("@f/popcount");var _popcount2=_interopRequireDefault(_popcount);var _hashStr=require("@f/hash-str");var _hashStr2=_interopRequireDefault(_hashStr);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var bits=5;var size=Math.pow(2,bits);var mask=size-1;var LEAF="LEAF";var BRANCH="BRANCH";var COLLISION="COLLISION";var empty=createBranch();function set(hamt,key,value){validate(hamt);var code=(0,_hashStr2.default)(key);return insert(hamt,code,key,value)}function insert(node,code,key,value){var depth=arguments.length<=4||arguments[4]===undefined?0:arguments[4];var frag=getFrag(code,depth);var mask=1<<frag;switch(node.type){case LEAF:{if(node.code===code){if(node.key===key){return createLeaf(code,key,value)}return createCollision(code,[node,createLeaf(code,key,value)])}else{var prevFrag=getFrag(node.code,depth);if(prevFrag===frag){return createBranch(mask,[insert(insert(empty,code,key,value,depth+1),node.code,node.key,node.value,depth+1)])}var prevMask=1<<prevFrag;var children=prevFrag<frag?[node,createLeaf(code,key,value)]:[createLeaf(code,key,value),node];return createBranch(mask|prevMask,children)}}case BRANCH:{var idx=(0,_popcount2.default)(node.mask,frag);var children=node.children;if(node.mask&mask){var child=children[idx];return createBranch(node.mask,arrayReplace(children,idx,insert(child,code,key,value,depth+1)))}else{return createBranch(node.mask|mask,arrayInsert(children,idx,createLeaf(code,key,value)))}}case COLLISION:{for(var i=0,len=node.children.length;i<len;++i){if(node.children[i].key===key){return createCollision(node.code,arrayReplace(node.children,i,createLeaf(code,key,value)))}}return createCollision(node.code,node.children.concat(createLeaf(code,key,value)))}}}function get(hamt,key){validate(hamt);var code=(0,_hashStr2.default)(key);var node=hamt;var depth=-1;while(true){++depth;switch(node.type){case BRANCH:{var frag=getFrag(code,depth);var _mask=1<<frag;if(node.mask&_mask){var idx=(0,_popcount2.default)(node.mask,frag);node=node.children[idx];continue}else{return}}case COLLISION:{for(var i=0,len=node.children.length;i<len;++i){var child=node.children[i];if(child.key===key){return child.value}}return undefined}case LEAF:{return node.key===key?node.value:undefined}}}}function del(hamt,key){validate(hamt);var code=(0,_hashStr2.default)(key);var res=remove(hamt,code,key,0);if(res===undefined)return hamt;if(res===null)return empty;return res}function remove(node,code,key,depth){var frag=getFrag(code,depth);var mask=1<<frag;switch(node.type){case LEAF:{return node.key===key?null:undefined}case BRANCH:{if(node.mask&mask){var idx=(0,_popcount2.default)(node.mask,frag);var res=remove(node.children[idx],code,key,depth+1);if(res===null){var newMask=node.mask&~mask;if(newMask===0){return null}else{return createBranch(newMask,arrayRemove(node.children,idx))}}else if(res===undefined){return undefined}else{return createBranch(node.mask,arrayReplace(node.children,idx,res))}}else{return undefined}}case COLLISION:{if(node.code===code){for(var i=0,len=node.children.length;i<len;++i){var child=node.children[i];if(child.key===key){return createCollision(node.code,arrayRemove(node.children,i))}}}return undefined}}}function createBranch(){var mask=arguments.length<=0||arguments[0]===undefined?0:arguments[0];var children=arguments.length<=1||arguments[1]===undefined?[]:arguments[1];return{type:BRANCH,mask:mask,children:children}}function createCollision(code,children){return{type:COLLISION,code:code,children:children}}function createLeaf(code,key,value){return{type:LEAF,code:code,key:key,value:value}}function arrayInsert(arr,idx,item){arr=arr.slice();arr.splice(idx,0,item);return arr}function arrayRemove(arr,idx){arr=arr.slice();arr.splice(idx,1);return arr}function arrayReplace(arr,idx,item){arr=arr.slice();arr[idx]=item;return arr}function getFrag(code,depth){return code>>>4*depth&mask}function validate(branch){if(branch.type!==BRANCH){throw new Error("mini-hamt: invalid HAMT passed to mini-hamt")}}exports.set=set;exports.get=get;exports.del=del;exports.empty=empty},{"@f/hash-str":45,"@f/popcount":83}],244:[function(require,module,exports){"use strict";var propIsEnumerable=Object.prototype.propertyIsEnumerable;function ToObject(val){if(val==null){throw new TypeError("Object.assign cannot be called with null or undefined")}return Object(val)}function ownEnumerableKeys(obj){var keys=Object.getOwnPropertyNames(obj);if(Object.getOwnPropertySymbols){keys=keys.concat(Object.getOwnPropertySymbols(obj))}return keys.filter(function(key){return propIsEnumerable.call(obj,key)})}module.exports=Object.assign||function(target,source){var from;var keys;var to=ToObject(target);for(var s=1;s<arguments.length;s++){from=arguments[s];keys=ownEnumerableKeys(Object(from));for(var i=0;i<keys.length;i++){to[keys[i]]=from[keys[i]]}}return to}},{}],245:[function(require,module,exports){var isarray=require("isarray");module.exports=pathToRegexp;module.exports.parse=parse;module.exports.compile=compile;module.exports.tokensToFunction=tokensToFunction;module.exports.tokensToRegExp=tokensToRegExp;var PATH_REGEXP=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function parse(str){var tokens=[];var key=0;var index=0;var path="";var res;while((res=PATH_REGEXP.exec(str))!=null){var m=res[0];var escaped=res[1];var offset=res.index;path+=str.slice(index,offset);index=offset+m.length;if(escaped){path+=escaped[1];continue}var next=str[index];var prefix=res[2];var name=res[3];var capture=res[4];var group=res[5];var modifier=res[6];var asterisk=res[7];if(path){tokens.push(path);path=""}var partial=prefix!=null&&next!=null&&next!==prefix;var repeat=modifier==="+"||modifier==="*";var optional=modifier==="?"||modifier==="*";var delimiter=res[2]||"/";var pattern=capture||group||(asterisk?".*":"[^"+delimiter+"]+?");tokens.push({name:name||key++,prefix:prefix||"",delimiter:delimiter,optional:optional,repeat:repeat,partial:partial,asterisk:!!asterisk,pattern:escapeGroup(pattern)})}if(index<str.length){path+=str.substr(index)}if(path){tokens.push(path)}return tokens}function compile(str){return tokensToFunction(parse(str))}function encodeURIComponentPretty(str){return encodeURI(str).replace(/[\/?#]/g,function(c){return"%"+c.charCodeAt(0).toString(16).toUpperCase()})}function encodeAsterisk(str){return encodeURI(str).replace(/[?#]/g,function(c){return"%"+c.charCodeAt(0).toString(16).toUpperCase()})}function tokensToFunction(tokens){var matches=new Array(tokens.length);for(var i=0;i<tokens.length;i++){if(typeof tokens[i]==="object"){matches[i]=new RegExp("^(?:"+tokens[i].pattern+")$")}}return function(obj,opts){var path="";var data=obj||{};var options=opts||{};var encode=options.pretty?encodeURIComponentPretty:encodeURIComponent;for(var i=0;i<tokens.length;i++){var token=tokens[i];if(typeof token==="string"){path+=token;continue}var value=data[token.name];var segment;if(value==null){if(token.optional){if(token.partial){path+=token.prefix}continue}else{throw new TypeError('Expected "'+token.name+'" to be defined')}}if(isarray(value)){if(!token.repeat){throw new TypeError('Expected "'+token.name+'" to not repeat, but received `'+JSON.stringify(value)+"`")}if(value.length===0){if(token.optional){continue}else{throw new TypeError('Expected "'+token.name+'" to not be empty')}}for(var j=0;j<value.length;j++){segment=encode(value[j]);if(!matches[i].test(segment)){throw new TypeError('Expected all "'+token.name+'" to match "'+token.pattern+'", but received `'+JSON.stringify(segment)+"`")}path+=(j===0?token.prefix:token.delimiter)+segment}continue}segment=token.asterisk?encodeAsterisk(value):encode(value);if(!matches[i].test(segment)){throw new TypeError('Expected "'+token.name+'" to match "'+token.pattern+'", but received "'+segment+'"')}path+=token.prefix+segment}return path}}function escapeString(str){return str.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function escapeGroup(group){return group.replace(/([=!:$\/()])/g,"\\$1")}function attachKeys(re,keys){re.keys=keys;return re}function flags(options){return options.sensitive?"":"i"}function regexpToRegexp(path,keys){var groups=path.source.match(/\((?!\?)/g);if(groups){for(var i=0;i<groups.length;i++){keys.push({name:i,prefix:null,delimiter:null,optional:false,repeat:false,partial:false,asterisk:false,pattern:null})}}return attachKeys(path,keys)}function arrayToRegexp(path,keys,options){var parts=[];for(var i=0;i<path.length;i++){parts.push(pathToRegexp(path[i],keys,options).source)}var regexp=new RegExp("(?:"+parts.join("|")+")",flags(options));return attachKeys(regexp,keys)}function stringToRegexp(path,keys,options){var tokens=parse(path);var re=tokensToRegExp(tokens,options);for(var i=0;i<tokens.length;i++){if(typeof tokens[i]!=="string"){keys.push(tokens[i])}}return attachKeys(re,keys)}function tokensToRegExp(tokens,options){options=options||{};var strict=options.strict;var end=options.end!==false;var route="";var lastToken=tokens[tokens.length-1];var endsWithSlash=typeof lastToken==="string"&&/\/$/.test(lastToken);for(var i=0;i<tokens.length;i++){var token=tokens[i];if(typeof token==="string"){route+=escapeString(token)}else{var prefix=escapeString(token.prefix);var capture="(?:"+token.pattern+")";if(token.repeat){capture+="(?:"+prefix+capture+")*"}if(token.optional){if(!token.partial){capture="(?:"+prefix+"("+capture+"))?"}else{capture=prefix+"("+capture+")?"}}else{capture=prefix+"("+capture+")"}route+=capture}}if(!strict){route=(endsWithSlash?route.slice(0,-2):route)+"(?:\\/(?=$))?"}if(end){route+="$"}else{route+=strict&&endsWithSlash?"":"(?=\\/|$)"}return new RegExp("^"+route,flags(options))}function pathToRegexp(path,keys,options){keys=keys||[];if(!isarray(keys)){options=keys;keys=[]}else if(!options){options={}}if(path instanceof RegExp){return regexpToRegexp(path,keys)}if(isarray(path)){return arrayToRegexp(path,keys,options)}return stringToRegexp(path,keys,options)}},{isarray:246}],246:[function(require,module,exports){module.exports=Array.isArray||function(arr){return Object.prototype.toString.call(arr)=="[object Array]"}},{}],247:[function(require,module,exports){var process=module.exports={};var cachedSetTimeout;var cachedClearTimeout;(function(){try{cachedSetTimeout=setTimeout}catch(e){cachedSetTimeout=function(){throw new Error("setTimeout is not defined")}}try{cachedClearTimeout=clearTimeout}catch(e){cachedClearTimeout=function(){throw new Error("clearTimeout is not defined")}}})();var queue=[];var draining=false;var currentQueue;var queueIndex=-1;function cleanUpNextTick(){if(!draining||!currentQueue){return}draining=false;if(currentQueue.length){queue=currentQueue.concat(queue)}else{queueIndex=-1}if(queue.length){drainQueue()}}function drainQueue(){if(draining){return}var timeout=cachedSetTimeout(cleanUpNextTick);draining=true;var len=queue.length;while(len){currentQueue=queue;queue=[];while(++queueIndex<len){if(currentQueue){currentQueue[queueIndex].run()}}queueIndex=-1;len=queue.length}currentQueue=null;draining=false;cachedClearTimeout(timeout)}process.nextTick=function(fun){var args=new Array(arguments.length-1);if(arguments.length>1){for(var i=1;i<arguments.length;i++){args[i-1]=arguments[i]}}queue.push(new Item(fun,args));if(queue.length===1&&!draining){cachedSetTimeout(drainQueue,0)}};function Item(fun,array){this.fun=fun;this.array=array}Item.prototype.run=function(){this.fun.apply(null,this.array)};process.title="browser";process.browser=true;process.env={};process.argv=[];process.version="";process.versions={};function noop(){}process.on=noop;process.addListener=noop;process.once=noop;process.off=noop;process.removeListener=noop;process.removeAllListeners=noop;process.emit=noop;process.binding=function(name){throw new Error("process.binding is not supported")};process.cwd=function(){return"/"};process.chdir=function(dir){throw new Error("process.chdir is not supported")};process.umask=function(){return 0}},{}],248:[function(require,module,exports){(function(global){(function(root){var freeExports=typeof exports=="object"&&exports&&!exports.nodeType&&exports;var freeModule=typeof module=="object"&&module&&!module.nodeType&&module;var freeGlobal=typeof global=="object"&&global;if(freeGlobal.global===freeGlobal||freeGlobal.window===freeGlobal||freeGlobal.self===freeGlobal){root=freeGlobal}var punycode,maxInt=2147483647,base=36,tMin=1,tMax=26,skew=38,damp=700,initialBias=72,initialN=128,delimiter="-",regexPunycode=/^xn--/,regexNonASCII=/[^\x20-\x7E]/,regexSeparators=/[\x2E\u3002\uFF0E\uFF61]/g,errors={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},baseMinusTMin=base-tMin,floor=Math.floor,stringFromCharCode=String.fromCharCode,key;function error(type){throw new RangeError(errors[type])}function map(array,fn){var length=array.length;var result=[];while(length--){result[length]=fn(array[length])}return result}function mapDomain(string,fn){var parts=string.split("@");var result="";if(parts.length>1){result=parts[0]+"@";string=parts[1]}string=string.replace(regexSeparators,".");var labels=string.split(".");var encoded=map(labels,fn).join(".");return result+encoded}function ucs2decode(string){var output=[],counter=0,length=string.length,value,extra;while(counter<length){value=string.charCodeAt(counter++);if(value>=55296&&value<=56319&&counter<length){extra=string.charCodeAt(counter++);if((extra&64512)==56320){output.push(((value&1023)<<10)+(extra&1023)+65536)}else{output.push(value);counter--}}else{output.push(value)}}return output}function ucs2encode(array){return map(array,function(value){var output="";if(value>65535){value-=65536;output+=stringFromCharCode(value>>>10&1023|55296);value=56320|value&1023}output+=stringFromCharCode(value);return output}).join("")}function basicToDigit(codePoint){if(codePoint-48<10){return codePoint-22}if(codePoint-65<26){return codePoint-65}if(codePoint-97<26){return codePoint-97}return base}function digitToBasic(digit,flag){return digit+22+75*(digit<26)-((flag!=0)<<5)}function adapt(delta,numPoints,firstTime){var k=0;delta=firstTime?floor(delta/damp):delta>>1;delta+=floor(delta/numPoints);for(;delta>baseMinusTMin*tMax>>1;k+=base){delta=floor(delta/baseMinusTMin)}return floor(k+(baseMinusTMin+1)*delta/(delta+skew))}function decode(input){var output=[],inputLength=input.length,out,i=0,n=initialN,bias=initialBias,basic,j,index,oldi,w,k,digit,t,baseMinusT;basic=input.lastIndexOf(delimiter);if(basic<0){basic=0}for(j=0;j<basic;++j){if(input.charCodeAt(j)>=128){error("not-basic")}output.push(input.charCodeAt(j))}for(index=basic>0?basic+1:0;index<inputLength;){for(oldi=i,w=1,k=base;;k+=base){if(index>=inputLength){error("invalid-input")}digit=basicToDigit(input.charCodeAt(index++));if(digit>=base||digit>floor((maxInt-i)/w)){error("overflow")}i+=digit*w;t=k<=bias?tMin:k>=bias+tMax?tMax:k-bias;if(digit<t){break}baseMinusT=base-t;if(w>floor(maxInt/baseMinusT)){error("overflow")}w*=baseMinusT}out=output.length+1;bias=adapt(i-oldi,out,oldi==0);if(floor(i/out)>maxInt-n){error("overflow")}n+=floor(i/out);i%=out;output.splice(i++,0,n)}return ucs2encode(output)}function encode(input){var n,delta,handledCPCount,basicLength,bias,j,m,q,k,t,currentValue,output=[],inputLength,handledCPCountPlusOne,baseMinusT,qMinusT;input=ucs2decode(input);inputLength=input.length;n=initialN;delta=0;bias=initialBias;for(j=0;j<inputLength;++j){currentValue=input[j];if(currentValue<128){output.push(stringFromCharCode(currentValue))}}handledCPCount=basicLength=output.length;if(basicLength){output.push(delimiter)}while(handledCPCount<inputLength){for(m=maxInt,j=0;j<inputLength;++j){currentValue=input[j];if(currentValue>=n&&currentValue<m){m=currentValue}}handledCPCountPlusOne=handledCPCount+1;if(m-n>floor((maxInt-delta)/handledCPCountPlusOne)){error("overflow")}delta+=(m-n)*handledCPCountPlusOne;n=m;for(j=0;j<inputLength;++j){currentValue=input[j];if(currentValue<n&&++delta>maxInt){error("overflow")}if(currentValue==n){for(q=delta,k=base;;k+=base){t=k<=bias?tMin:k>=bias+tMax?tMax:k-bias;if(q<t){break}qMinusT=q-t;baseMinusT=base-t;output.push(stringFromCharCode(digitToBasic(t+qMinusT%baseMinusT,0)));q=floor(qMinusT/baseMinusT)}output.push(stringFromCharCode(digitToBasic(q,0)));bias=adapt(delta,handledCPCountPlusOne,handledCPCount==basicLength);delta=0;++handledCPCount}}++delta;++n}return output.join("")}function toUnicode(input){return mapDomain(input,function(string){return regexPunycode.test(string)?decode(string.slice(4).toLowerCase()):string})}function toASCII(input){return mapDomain(input,function(string){return regexNonASCII.test(string)?"xn--"+encode(string):string})}punycode={version:"1.4.1",ucs2:{decode:ucs2decode,encode:ucs2encode},decode:decode,encode:encode,toASCII:toASCII,toUnicode:toUnicode};if(typeof define=="function"&&typeof define.amd=="object"&&define.amd){define("punycode",function(){return punycode})}else if(freeExports&&freeModule){if(module.exports==freeExports){freeModule.exports=punycode}else{for(key in punycode){punycode.hasOwnProperty(key)&&(freeExports[key]=punycode[key])}}}else{root.punycode=punycode}})(this)}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],249:[function(require,module,exports){"use strict";function hasOwnProperty(obj,prop){return Object.prototype.hasOwnProperty.call(obj,prop)}module.exports=function(qs,sep,eq,options){sep=sep||"&";eq=eq||"=";var obj={};if(typeof qs!=="string"||qs.length===0){return obj}var regexp=/\+/g;qs=qs.split(sep);var maxKeys=1e3;if(options&&typeof options.maxKeys==="number"){maxKeys=options.maxKeys}var len=qs.length;if(maxKeys>0&&len>maxKeys){len=maxKeys}for(var i=0;i<len;++i){var x=qs[i].replace(regexp,"%20"),idx=x.indexOf(eq),kstr,vstr,k,v;if(idx>=0){kstr=x.substr(0,idx);vstr=x.substr(idx+1)}else{kstr=x;vstr=""}k=decodeURIComponent(kstr);v=decodeURIComponent(vstr);if(!hasOwnProperty(obj,k)){obj[k]=v}else if(isArray(obj[k])){obj[k].push(v)}else{obj[k]=[obj[k],v]}}return obj};var isArray=Array.isArray||function(xs){return Object.prototype.toString.call(xs)==="[object Array]"}},{}],250:[function(require,module,exports){"use strict";var stringifyPrimitive=function(v){switch(typeof v){case"string":return v;case"boolean":return v?"true":"false";case"number":return isFinite(v)?v:"";default:return""}};module.exports=function(obj,sep,eq,name){sep=sep||"&";eq=eq||"=";if(obj===null){obj=undefined}if(typeof obj==="object"){return map(objectKeys(obj),function(k){var ks=encodeURIComponent(stringifyPrimitive(k))+eq;if(isArray(obj[k])){return map(obj[k],function(v){return ks+encodeURIComponent(stringifyPrimitive(v))}).join(sep)}else{return ks+encodeURIComponent(stringifyPrimitive(obj[k]))}}).join(sep)}if(!name)return"";return encodeURIComponent(stringifyPrimitive(name))+eq+encodeURIComponent(stringifyPrimitive(obj))};var isArray=Array.isArray||function(xs){return Object.prototype.toString.call(xs)==="[object Array]"};function map(xs,f){if(xs.map)return xs.map(f);var res=[];for(var i=0;i<xs.length;i++){res.push(f(xs[i],i))}return res}var objectKeys=Object.keys||function(obj){var res=[];for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))res.push(key)}return res}},{}],251:[function(require,module,exports){"use strict";exports.decode=exports.parse=require("./decode");exports.encode=exports.stringify=require("./encode")},{"./decode":249,"./encode":250}],252:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.bindUrl=exports.setUrl=exports.getUrl=undefined;var _bindUrl=require("bind-url");var _bindUrl2=_interopRequireDefault(_bindUrl);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var GET_URL="EFFECT_GET_URL";var SET_URL="EFFECT_SET_URL";var BIND_URL="EFFECT_BIND_URL";var types=[GET_URL,SET_URL,BIND_URL];var handlers=[];function locationMiddleware(){var wnd=arguments.length<=0||arguments[0]===undefined?window:arguments[0];var handle=typeof wnd==="string"?serverHandle:browserHandle;return function(_ref){var dispatch=_ref.dispatch;return function(next){return function(action){return types.indexOf(action.type)!==-1?Promise.resolve(handle(wnd,dispatch,action)):next(action)}}}}function serverHandle(url,dispatch,action){switch(action.type){case GET_URL:return url;case BIND_URL:var cb=action.payload.update;setTimeout(function(){return dispatch(cb(url))});break}}function browserHandle(wnd,dispatch,action){switch(action.type){case GET_URL:return wnd.location.pathname+wnd.location.search;case SET_URL:var url=action.payload.value;action.payload.replace?wnd.history.replaceState(null,null,url):wnd.history.pushState(null,null,url);handlers.forEach(function(fn){return dispatch(fn(url))});break;case BIND_URL:var cb=action.payload.update;(0,_bindUrl2.default)({wnd:wnd},function(url){return dispatch(cb(url))});handlers.push(cb);break}}function getUrl(){return{type:GET_URL}}function setUrl(url,replace){return{type:SET_URL,payload:{value:url,replace:replace}}}function bindUrl(fn){return{type:BIND_URL,payload:{update:fn}}}exports.default=locationMiddleware;exports.getUrl=getUrl;exports.setUrl=setUrl;exports.bindUrl=bindUrl},{"bind-url":206}],253:[function(require,module,exports){(function(global){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var TIMEOUT="TIMEOUT";var INTERVAL="INTERVAL";var RAF="RAF";var CLEAR_TIMEOUT="CLEAR_TIMEOUT";var CLEAR_INTERVAL="CLEAR_INTERVAL";var CLEAR_RAF="CLEAR_RAF";var types=[TIMEOUT,INTERVAL,RAF,CLEAR_TIMEOUT,CLEAR_INTERVAL,CLEAR_RAF];function timeoutMiddleware(){var api=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];var handle=handler(api);return function(_ref){var dispatch=_ref.dispatch;var getState=_ref.getState;return function(next){return function(action){return types.indexOf(action.type)!==-1?Promise.resolve(handle(dispatch,action)):next(action)}}}}function handler(_ref2){var _ref2$interval=_ref2.interval;var interval=_ref2$interval===undefined?world().setInterval:_ref2$interval;var _ref2$timeout=_ref2.timeout;var timeout=_ref2$timeout===undefined?world().setTimeout:_ref2$timeout;var _ref2$raf=_ref2.raf;var raf=_ref2$raf===undefined?world().requestAnimationFrame:_ref2$raf;var _ref2$cancelInterval=_ref2.cancelInterval;var cancelInterval=_ref2$cancelInterval===undefined?clearInterval:_ref2$cancelInterval;var _ref2$cancelTimeout=_ref2.cancelTimeout;var cancelTimeout=_ref2$cancelTimeout===undefined?world().clearTimeout:_ref2$cancelTimeout;var _ref2$cancelRaf=_ref2.cancelRaf;var cancelRaf=_ref2$cancelRaf===undefined?world().cancelAnimationFrame:_ref2$cancelRaf;return function(dispatch,action){var fn=compose(dispatch,action.payload.cb);switch(action.type){case TIMEOUT:return timeout(fn,action.payload.value);case RAF:return raf(fn);case INTERVAL:return interval(fn,action.payload.value);case CLEAR_TIMEOUT:return cancelTimeout(action.payload.value);case CLEAR_INTERVAL:return cancelInterval(action.payload.value);case CLEAR_RAF:return cancelRaf(action.payload.value)}}}function world(){return typeof window==="undefined"?global:window}function compose(){for(var _len=arguments.length,fns=Array(_len),_key=0;_key<_len;_key++){fns[_key]=arguments[_key]}return fns.reduce(function(memo,fn){return function(arg){return memo(fn(arg))}},function(arg){return arg})}function raf(cb){return{type:RAF,payload:{cb:cb}}}function timeout(cb,ms){return{type:TIMEOUT,payload:{cb:cb,value:ms}}}function interval(cb,ms){return{type:INTERVAL,payload:{cb:cb,value:ms}}}function cancelTimeout(id){return{type:CLEAR_TIMEOUT,payload:{value:id}}}function cancelInterval(id){return{type:CLEAR_INTERVAL,payload:{value:id}}}function cancelAnimationFrame(id){return{type:CLEAR_RAF,payload:{value:id}}}exports.default=timeoutMiddleware;exports.raf=raf;exports.timeout=timeout;exports.interval=interval;exports.cancelTimeout=cancelTimeout;exports.cancelInterval=cancelInterval;exports.cancelAnimationFrame=cancelAnimationFrame;

}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],254:[function(require,module,exports){"use strict";var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"])_i["return"]()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr)){return arr}else if(Symbol.iterator in Object(arr)){return sliceIterator(arr,i)}else{throw new TypeError("Invalid attempt to destructure non-iterable instance")}}}();Object.defineProperty(exports,"__esModule",{value:true});exports.bind=undefined;var _isPromise=require("is-promise");var _isPromise2=_interopRequireDefault(_isPromise);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var EFFECT_COMPOSE="EFFECT_COMPOSE";function effects(_ref){var dispatch=_ref.dispatch;var getState=_ref.getState;return function(next){return function(action){return action.type===EFFECT_COMPOSE?composeEffect(action):next(action)}};function composeEffect(action){var q=promisify(maybeDispatch(action.payload));return action.meta&&applyPromises(action.meta.steps,q)}function applyPromises(){var steps=arguments.length<=0||arguments[0]===undefined?[]:arguments[0];var q=arguments[1];return steps.reduce(function(q,_ref2){var _ref3=_slicedToArray(_ref2,2);var _ref3$=_ref3[0];var success=_ref3$===undefined?noop:_ref3$;var _ref3$2=_ref3[1];var failure=_ref3$2===undefined?noop:_ref3$2;return q.then(function(val){return maybeDispatch(success(val))},function(err){return maybeDispatch(failure(err))})},q)}function maybeDispatch(action){return action&&dispatch(action)}}function promisify(val){return Array.isArray(val)?Promise.all(val):Promise.resolve(val)}function noop(){}function bind(action){for(var _len=arguments.length,args=Array(_len>1?_len-1:0),_key=1;_key<_len;_key++){args[_key-1]=arguments[_key]}return{type:EFFECT_COMPOSE,payload:action,meta:{steps:[args]}}}exports.default=effects;exports.bind=bind},{"is-promise":235}],255:[function(require,module,exports){"use strict";var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};Object.defineProperty(exports,"__esModule",{value:true});exports.lookup=exports.destroyEphemeral=exports.createEphemeral=exports.isEphemeral=exports.toEphemeral=undefined;var _miniHamt=require("mini-hamt");var hamt=_interopRequireWildcard(_miniHamt);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key]}}newObj.default=obj;return newObj}}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var CREATE="CREATE_EPHEMERAL";var DESTROY="DESTROY_EPHEMERAL";function ephemeralReducer(){var state=arguments.length<=0||arguments[0]===undefined?hamt.empty:arguments[0];var action=arguments[1];var _action$meta$ephemera=action.meta.ephemeral;var reducer=_action$meta$ephemera.reducer;var key=_action$meta$ephemera.key;switch(action.type){case CREATE:return hamt.set(state,key,action.payload);case DESTROY:return hamt.del(state,key);default:var prev=hamt.get(state,key);var next=reducer(prev,action);return prev!==next?hamt.set(state,key,next):state}return state}function toEphemeral(key,reducer,action){return _extends({},action,{meta:_extends({},action.meta||{},{ephemeral:{key:key,reducer:reducer}})})}function createEphemeral(key,initialState){return{type:CREATE,payload:initialState,meta:{ephemeral:{key:key},logLevel:"trace"}}}function destroyEphemeral(key){return{type:DESTROY,meta:{ephemeral:{key:key},logLevel:"trace"}}}function lookup(state,key){return hamt.get(state||hamt.empty,key)}function mount(prop,reducer){return function(state,action){return isEphemeral(action)?_extends({},state,_defineProperty({},prop,ephemeralReducer(state[prop],action))):reducer(state,action)}}function isEphemeral(action){return action.meta&&action.meta.hasOwnProperty("ephemeral")}exports.default=mount;exports.toEphemeral=toEphemeral;exports.isEphemeral=isEphemeral;exports.createEphemeral=createEphemeral;exports.destroyEphemeral=destroyEphemeral;exports.lookup=lookup},{"mini-hamt":243}],256:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function falsy(){return function(next){return function(action){return action&&next(action)}}}exports.default=falsy},{}],257:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _toPromise=require("@f/to-promise");var _toPromise2=_interopRequireDefault(_toPromise);var _map=require("@f/map");var _map2=_interopRequireDefault(_map);var _identity=require("@f/identity");var _identity2=_interopRequireDefault(_identity);var _isIterator=require("@f/is-iterator");var _isIterator2=_interopRequireDefault(_isIterator);var _isGenerator=require("@f/is-generator");var _isGenerator2=_interopRequireDefault(_isGenerator);var _isPromise=require("@f/is-promise");var _isPromise2=_interopRequireDefault(_isPromise);var _isFunctor=require("@f/is-functor");var _isFunctor2=_interopRequireDefault(_isFunctor);var _isFunction=require("@f/is-function");var _isFunction2=_interopRequireDefault(_isFunction);var _logError=require("@f/log-error");var _logError2=_interopRequireDefault(_logError);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function flow(){var errorHandler=arguments.length<=0||arguments[0]===undefined?defaultErrorHandler:arguments[0];var successHandler=arguments.length<=1||arguments[1]===undefined?_identity2.default:arguments[1];return function(_ref){var dispatch=_ref.dispatch;return function(next){return function(action){var promise=undefined;if((0,_isFunctor2.default)(action)||(0,_isGenerator2.default)(action)||(0,_isIterator2.default)(action)){promise=(0,_toPromise2.default)((0,_map2.default)(function(action){return action&&dispatch(action)},action))}else if((0,_isPromise2.default)(action)||(0,_isFunction2.default)(action)){promise=(0,_toPromise2.default)(action)}else{return next(action)}return promise.then(successHandler,errorHandler)}}}}function defaultErrorHandler(err){(0,_logError2.default)(err);throw err}exports.default=flow},{"@f/identity":48,"@f/is-function":56,"@f/is-functor":57,"@f/is-generator":58,"@f/is-iterator":59,"@f/is-promise":61,"@f/log-error":70,"@f/map":75,"@f/to-promise":106}],258:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function multi(_ref){var dispatch=_ref.dispatch;return function(next){return function(action){return Array.isArray(action)?Promise.all(action.filter(Boolean).map(function(p){return dispatch(p)})):next(action)}}}exports["default"]=multi;module.exports=exports["default"]},{}],259:[function(require,module,exports){"use strict";function thunkMiddleware(_ref){var dispatch=_ref.dispatch;var getState=_ref.getState;return function(next){return function(action){return typeof action==="function"?action(dispatch,getState):next(action)}}}module.exports=thunkMiddleware},{}],260:[function(require,module,exports){"use strict";exports.__esModule=true;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};exports["default"]=applyMiddleware;var _compose=require("./compose");var _compose2=_interopRequireDefault(_compose);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function applyMiddleware(){for(var _len=arguments.length,middlewares=Array(_len),_key=0;_key<_len;_key++){middlewares[_key]=arguments[_key]}return function(createStore){return function(reducer,initialState,enhancer){var store=createStore(reducer,initialState,enhancer);var _dispatch=store.dispatch;var chain=[];var middlewareAPI={getState:store.getState,dispatch:function dispatch(action){return _dispatch(action)}};chain=middlewares.map(function(middleware){return middleware(middlewareAPI)});_dispatch=_compose2["default"].apply(undefined,chain)(store.dispatch);return _extends({},store,{dispatch:_dispatch})}}}},{"./compose":263}],261:[function(require,module,exports){"use strict";exports.__esModule=true;exports["default"]=bindActionCreators;function bindActionCreator(actionCreator,dispatch){return function(){return dispatch(actionCreator.apply(undefined,arguments))}}function bindActionCreators(actionCreators,dispatch){if(typeof actionCreators==="function"){return bindActionCreator(actionCreators,dispatch)}if(typeof actionCreators!=="object"||actionCreators===null){throw new Error("bindActionCreators expected an object or a function, instead received "+(actionCreators===null?"null":typeof actionCreators)+". "+'Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?')}var keys=Object.keys(actionCreators);var boundActionCreators={};for(var i=0;i<keys.length;i++){var key=keys[i];var actionCreator=actionCreators[key];if(typeof actionCreator==="function"){boundActionCreators[key]=bindActionCreator(actionCreator,dispatch)}}return boundActionCreators}},{}],262:[function(require,module,exports){(function(process){"use strict";exports.__esModule=true;exports["default"]=combineReducers;var _createStore=require("./createStore");var _isPlainObject=require("lodash/isPlainObject");var _isPlainObject2=_interopRequireDefault(_isPlainObject);var _warning=require("./utils/warning");var _warning2=_interopRequireDefault(_warning);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function getUndefinedStateErrorMessage(key,action){var actionType=action&&action.type;var actionName=actionType&&'"'+actionType.toString()+'"'||"an action";return"Given action "+actionName+', reducer "'+key+'" returned undefined. '+"To ignore an action, you must explicitly return the previous state."}function getUnexpectedStateShapeWarningMessage(inputState,reducers,action){var reducerKeys=Object.keys(reducers);var argumentName=action&&action.type===_createStore.ActionTypes.INIT?"initialState argument passed to createStore":"previous state received by the reducer";if(reducerKeys.length===0){return"Store does not have a valid reducer. Make sure the argument passed "+"to combineReducers is an object whose values are reducers."}if(!(0,_isPlainObject2["default"])(inputState)){return"The "+argumentName+' has unexpected type of "'+{}.toString.call(inputState).match(/\s([a-z|A-Z]+)/)[1]+'". Expected argument to be an object with the following '+('keys: "'+reducerKeys.join('", "')+'"')}var unexpectedKeys=Object.keys(inputState).filter(function(key){return!reducers.hasOwnProperty(key)});if(unexpectedKeys.length>0){return"Unexpected "+(unexpectedKeys.length>1?"keys":"key")+" "+('"'+unexpectedKeys.join('", "')+'" found in '+argumentName+". ")+"Expected to find one of the known reducer keys instead: "+('"'+reducerKeys.join('", "')+'". Unexpected keys will be ignored.')}}function assertReducerSanity(reducers){Object.keys(reducers).forEach(function(key){var reducer=reducers[key];var initialState=reducer(undefined,{type:_createStore.ActionTypes.INIT});if(typeof initialState==="undefined"){throw new Error('Reducer "'+key+'" returned undefined during initialization. '+"If the state passed to the reducer is undefined, you must "+"explicitly return the initial state. The initial state may "+"not be undefined.")}var type="@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".");if(typeof reducer(undefined,{type:type})==="undefined"){throw new Error('Reducer "'+key+'" returned undefined when probed with a random type. '+("Don't try to handle "+_createStore.ActionTypes.INIT+' or other actions in "redux/*" ')+"namespace. They are considered private. Instead, you must return the "+"current state for any unknown actions, unless it is undefined, "+"in which case you must return the initial state, regardless of the "+"action type. The initial state may not be undefined.")}})}function combineReducers(reducers){var reducerKeys=Object.keys(reducers);var finalReducers={};for(var i=0;i<reducerKeys.length;i++){var key=reducerKeys[i];if(typeof reducers[key]==="function"){finalReducers[key]=reducers[key]}}var finalReducerKeys=Object.keys(finalReducers);var sanityError;try{assertReducerSanity(finalReducers)}catch(e){sanityError=e}return function combination(){var state=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];var action=arguments[1];if(sanityError){throw sanityError}if(process.env.NODE_ENV!=="production"){var warningMessage=getUnexpectedStateShapeWarningMessage(state,finalReducers,action);if(warningMessage){(0,_warning2["default"])(warningMessage)}}var hasChanged=false;var nextState={};for(var i=0;i<finalReducerKeys.length;i++){var key=finalReducerKeys[i];var reducer=finalReducers[key];var previousStateForKey=state[key];var nextStateForKey=reducer(previousStateForKey,action);if(typeof nextStateForKey==="undefined"){var errorMessage=getUndefinedStateErrorMessage(key,action);throw new Error(errorMessage)}nextState[key]=nextStateForKey;hasChanged=hasChanged||nextStateForKey!==previousStateForKey}return hasChanged?nextState:state}}}).call(this,require("_process"))},{"./createStore":264,"./utils/warning":266,_process:247,"lodash/isPlainObject":270}],263:[function(require,module,exports){"use strict";exports.__esModule=true;exports["default"]=compose;function compose(){for(var _len=arguments.length,funcs=Array(_len),_key=0;_key<_len;_key++){funcs[_key]=arguments[_key]}if(funcs.length===0){return function(arg){return arg}}else{var _ret=function(){var last=funcs[funcs.length-1];var rest=funcs.slice(0,-1);return{v:function v(){return rest.reduceRight(function(composed,f){return f(composed)},last.apply(undefined,arguments))}}}();if(typeof _ret==="object")return _ret.v}}},{}],264:[function(require,module,exports){"use strict";exports.__esModule=true;exports.ActionTypes=undefined;exports["default"]=createStore;var _isPlainObject=require("lodash/isPlainObject");var _isPlainObject2=_interopRequireDefault(_isPlainObject);var _symbolObservable=require("symbol-observable");var _symbolObservable2=_interopRequireDefault(_symbolObservable);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var ActionTypes=exports.ActionTypes={INIT:"@@redux/INIT"};function createStore(reducer,initialState,enhancer){var _ref2;if(typeof initialState==="function"&&typeof enhancer==="undefined"){enhancer=initialState;initialState=undefined}if(typeof enhancer!=="undefined"){if(typeof enhancer!=="function"){throw new Error("Expected the enhancer to be a function.")}return enhancer(createStore)(reducer,initialState)}if(typeof reducer!=="function"){throw new Error("Expected the reducer to be a function.")}var currentReducer=reducer;var currentState=initialState;var currentListeners=[];var nextListeners=currentListeners;var isDispatching=false;function ensureCanMutateNextListeners(){if(nextListeners===currentListeners){nextListeners=currentListeners.slice()}}function getState(){return currentState}function subscribe(listener){if(typeof listener!=="function"){throw new Error("Expected listener to be a function.")}var isSubscribed=true;ensureCanMutateNextListeners();nextListeners.push(listener);return function unsubscribe(){if(!isSubscribed){return}isSubscribed=false;ensureCanMutateNextListeners();var index=nextListeners.indexOf(listener);nextListeners.splice(index,1)}}function dispatch(action){if(!(0,_isPlainObject2["default"])(action)){throw new Error("Actions must be plain objects. "+"Use custom middleware for async actions.")}if(typeof action.type==="undefined"){throw new Error('Actions may not have an undefined "type" property. '+"Have you misspelled a constant?")}if(isDispatching){throw new Error("Reducers may not dispatch actions.")}try{isDispatching=true;currentState=currentReducer(currentState,action)}finally{isDispatching=false}var listeners=currentListeners=nextListeners;for(var i=0;i<listeners.length;i++){listeners[i]()}return action}function replaceReducer(nextReducer){if(typeof nextReducer!=="function"){throw new Error("Expected the nextReducer to be a function.")}currentReducer=nextReducer;dispatch({type:ActionTypes.INIT})}function observable(){var _ref;var outerSubscribe=subscribe;return _ref={subscribe:function subscribe(observer){if(typeof observer!=="object"){throw new TypeError("Expected the observer to be an object.")}function observeState(){if(observer.next){observer.next(getState())}}observeState();var unsubscribe=outerSubscribe(observeState);return{unsubscribe:unsubscribe}}},_ref[_symbolObservable2["default"]]=function(){return this},_ref}dispatch({type:ActionTypes.INIT});return _ref2={dispatch:dispatch,subscribe:subscribe,getState:getState,replaceReducer:replaceReducer},_ref2[_symbolObservable2["default"]]=observable,_ref2}},{"lodash/isPlainObject":270,"symbol-observable":277}],265:[function(require,module,exports){(function(process){"use strict";exports.__esModule=true;exports.compose=exports.applyMiddleware=exports.bindActionCreators=exports.combineReducers=exports.createStore=undefined;var _createStore=require("./createStore");var _createStore2=_interopRequireDefault(_createStore);var _combineReducers=require("./combineReducers");var _combineReducers2=_interopRequireDefault(_combineReducers);var _bindActionCreators=require("./bindActionCreators");var _bindActionCreators2=_interopRequireDefault(_bindActionCreators);var _applyMiddleware=require("./applyMiddleware");var _applyMiddleware2=_interopRequireDefault(_applyMiddleware);var _compose=require("./compose");var _compose2=_interopRequireDefault(_compose);var _warning=require("./utils/warning");var _warning2=_interopRequireDefault(_warning);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function isCrushed(){}if(process.env.NODE_ENV!=="production"&&typeof isCrushed.name==="string"&&isCrushed.name!=="isCrushed"){(0,_warning2["default"])("You are currently using minified code outside of NODE_ENV === 'production'. "+"This means that you are running a slower development build of Redux. "+"You can use loose-envify (https://github.com/zertosh/loose-envify) for browserify "+"or DefinePlugin for webpack (http://stackoverflow.com/questions/30030031) "+"to ensure you have the correct code for your production build.")}exports.createStore=_createStore2["default"];exports.combineReducers=_combineReducers2["default"];exports.bindActionCreators=_bindActionCreators2["default"];exports.applyMiddleware=_applyMiddleware2["default"];exports.compose=_compose2["default"]}).call(this,require("_process"))},{"./applyMiddleware":260,"./bindActionCreators":261,"./combineReducers":262,"./compose":263,"./createStore":264,"./utils/warning":266,_process:247}],266:[function(require,module,exports){"use strict";exports.__esModule=true;exports["default"]=warning;function warning(message){if(typeof console!=="undefined"&&typeof console.error==="function"){console.error(message)}try{throw new Error(message)}catch(e){}}},{}],267:[function(require,module,exports){var nativeGetPrototype=Object.getPrototypeOf;function getPrototype(value){return nativeGetPrototype(Object(value))}module.exports=getPrototype},{}],268:[function(require,module,exports){function isHostObject(value){var result=false;if(value!=null&&typeof value.toString!="function"){try{result=!!(value+"")}catch(e){}}return result}module.exports=isHostObject},{}],269:[function(require,module,exports){function isObjectLike(value){return!!value&&typeof value=="object"}module.exports=isObjectLike},{}],270:[function(require,module,exports){var getPrototype=require("./_getPrototype"),isHostObject=require("./_isHostObject"),isObjectLike=require("./isObjectLike");var objectTag="[object Object]";var objectProto=Object.prototype;var funcToString=Function.prototype.toString;var hasOwnProperty=objectProto.hasOwnProperty;var objectCtorString=funcToString.call(Object);var objectToString=objectProto.toString;function isPlainObject(value){if(!isObjectLike(value)||objectToString.call(value)!=objectTag||isHostObject(value)){return false}var proto=getPrototype(value);if(proto===null){return true}var Ctor=hasOwnProperty.call(proto,"constructor")&&proto.constructor;return typeof Ctor=="function"&&Ctor instanceof Ctor&&funcToString.call(Ctor)==objectCtorString}module.exports=isPlainObject},{"./_getPrototype":267,"./_isHostObject":268,"./isObjectLike":269}],271:[function(require,module,exports){(function(global){var g=typeof global==="object"?global:typeof window==="object"?window:typeof self==="object"?self:this;var hadRuntime=g.regeneratorRuntime&&Object.getOwnPropertyNames(g).indexOf("regeneratorRuntime")>=0;var oldRuntime=hadRuntime&&g.regeneratorRuntime;g.regeneratorRuntime=undefined;module.exports=require("./runtime");if(hadRuntime){g.regeneratorRuntime=oldRuntime}else{try{delete g.regeneratorRuntime}catch(e){g.regeneratorRuntime=undefined}}}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"./runtime":272}],272:[function(require,module,exports){(function(process,global){!function(global){"use strict";var hasOwn=Object.prototype.hasOwnProperty;var undefined;var $Symbol=typeof Symbol==="function"?Symbol:{};var iteratorSymbol=$Symbol.iterator||"@@iterator";var toStringTagSymbol=$Symbol.toStringTag||"@@toStringTag";var inModule=typeof module==="object";var runtime=global.regeneratorRuntime;if(runtime){if(inModule){module.exports=runtime}return}runtime=global.regeneratorRuntime=inModule?module.exports:{};function wrap(innerFn,outerFn,self,tryLocsList){var generator=Object.create((outerFn||Generator).prototype);var context=new Context(tryLocsList||[]);generator._invoke=makeInvokeMethod(innerFn,self,context);return generator}runtime.wrap=wrap;function tryCatch(fn,obj,arg){try{return{type:"normal",arg:fn.call(obj,arg)}}catch(err){return{type:"throw",arg:err}}}var GenStateSuspendedStart="suspendedStart";var GenStateSuspendedYield="suspendedYield";var GenStateExecuting="executing";var GenStateCompleted="completed";var ContinueSentinel={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var Gp=GeneratorFunctionPrototype.prototype=Generator.prototype;GeneratorFunction.prototype=Gp.constructor=GeneratorFunctionPrototype;GeneratorFunctionPrototype.constructor=GeneratorFunction;GeneratorFunctionPrototype[toStringTagSymbol]=GeneratorFunction.displayName="GeneratorFunction";function defineIteratorMethods(prototype){["next","throw","return"].forEach(function(method){prototype[method]=function(arg){return this._invoke(method,arg)}})}runtime.isGeneratorFunction=function(genFun){var ctor=typeof genFun==="function"&&genFun.constructor;return ctor?ctor===GeneratorFunction||(ctor.displayName||ctor.name)==="GeneratorFunction":false};runtime.mark=function(genFun){if(Object.setPrototypeOf){Object.setPrototypeOf(genFun,GeneratorFunctionPrototype)}else{genFun.__proto__=GeneratorFunctionPrototype;if(!(toStringTagSymbol in genFun)){genFun[toStringTagSymbol]="GeneratorFunction"}}genFun.prototype=Object.create(Gp);return genFun};runtime.awrap=function(arg){return new AwaitArgument(arg)};function AwaitArgument(arg){this.arg=arg}function AsyncIterator(generator){function invoke(method,arg,resolve,reject){var record=tryCatch(generator[method],generator,arg);if(record.type==="throw"){reject(record.arg)}else{var result=record.arg;var value=result.value;if(value instanceof AwaitArgument){return Promise.resolve(value.arg).then(function(value){invoke("next",value,resolve,reject)},function(err){invoke("throw",err,resolve,reject)})}return Promise.resolve(value).then(function(unwrapped){result.value=unwrapped;resolve(result)},reject)}}if(typeof process==="object"&&process.domain){invoke=process.domain.bind(invoke)}var previousPromise;function enqueue(method,arg){function callInvokeWithMethodAndArg(){return new Promise(function(resolve,reject){invoke(method,arg,resolve,reject)})}return previousPromise=previousPromise?previousPromise.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}this._invoke=enqueue}defineIteratorMethods(AsyncIterator.prototype);runtime.async=function(innerFn,outerFn,self,tryLocsList){var iter=new AsyncIterator(wrap(innerFn,outerFn,self,tryLocsList));return runtime.isGeneratorFunction(outerFn)?iter:iter.next().then(function(result){return result.done?result.value:iter.next()})};function makeInvokeMethod(innerFn,self,context){var state=GenStateSuspendedStart;return function invoke(method,arg){if(state===GenStateExecuting){throw new Error("Generator is already running")}if(state===GenStateCompleted){if(method==="throw"){throw arg}return doneResult()}while(true){var delegate=context.delegate;if(delegate){if(method==="return"||method==="throw"&&delegate.iterator[method]===undefined){context.delegate=null;var returnMethod=delegate.iterator["return"];if(returnMethod){var record=tryCatch(returnMethod,delegate.iterator,arg);if(record.type==="throw"){method="throw";arg=record.arg;continue}}if(method==="return"){continue}}var record=tryCatch(delegate.iterator[method],delegate.iterator,arg);if(record.type==="throw"){context.delegate=null;method="throw";arg=record.arg;continue}method="next";arg=undefined;var info=record.arg;if(info.done){context[delegate.resultName]=info.value;context.next=delegate.nextLoc}else{state=GenStateSuspendedYield;return info}context.delegate=null}if(method==="next"){context.sent=context._sent=arg}else if(method==="throw"){if(state===GenStateSuspendedStart){state=GenStateCompleted;throw arg}if(context.dispatchException(arg)){method="next";arg=undefined}}else if(method==="return"){context.abrupt("return",arg)}state=GenStateExecuting;var record=tryCatch(innerFn,self,context);if(record.type==="normal"){state=context.done?GenStateCompleted:GenStateSuspendedYield;var info={value:record.arg,done:context.done};if(record.arg===ContinueSentinel){if(context.delegate&&method==="next"){arg=undefined}}else{return info}}else if(record.type==="throw"){state=GenStateCompleted;method="throw";arg=record.arg}}}}defineIteratorMethods(Gp);Gp[iteratorSymbol]=function(){return this};Gp[toStringTagSymbol]="Generator";Gp.toString=function(){return"[object Generator]"};function pushTryEntry(locs){var entry={tryLoc:locs[0]};if(1 in locs){entry.catchLoc=locs[1]}if(2 in locs){entry.finallyLoc=locs[2];entry.afterLoc=locs[3]}this.tryEntries.push(entry)}function resetTryEntry(entry){var record=entry.completion||{};record.type="normal";delete record.arg;entry.completion=record}function Context(tryLocsList){this.tryEntries=[{tryLoc:"root"}];tryLocsList.forEach(pushTryEntry,this);this.reset(true)}runtime.keys=function(object){var keys=[];for(var key in object){keys.push(key)}keys.reverse();return function next(){while(keys.length){var key=keys.pop();if(key in object){next.value=key;next.done=false;return next}}next.done=true;return next}};function values(iterable){if(iterable){var iteratorMethod=iterable[iteratorSymbol];if(iteratorMethod){return iteratorMethod.call(iterable)}if(typeof iterable.next==="function"){return iterable}if(!isNaN(iterable.length)){var i=-1,next=function next(){while(++i<iterable.length){if(hasOwn.call(iterable,i)){next.value=iterable[i];next.done=false;return next}}next.value=undefined;next.done=true;return next};return next.next=next}}return{next:doneResult}}runtime.values=values;function doneResult(){return{value:undefined,done:true}}Context.prototype={constructor:Context,reset:function(skipTempReset){this.prev=0;this.next=0;this.sent=this._sent=undefined;this.done=false;this.delegate=null;this.tryEntries.forEach(resetTryEntry);if(!skipTempReset){for(var name in this){if(name.charAt(0)==="t"&&hasOwn.call(this,name)&&!isNaN(+name.slice(1))){this[name]=undefined}}}},stop:function(){this.done=true;var rootEntry=this.tryEntries[0];var rootRecord=rootEntry.completion;if(rootRecord.type==="throw"){throw rootRecord.arg}return this.rval},dispatchException:function(exception){if(this.done){throw exception}var context=this;function handle(loc,caught){record.type="throw";record.arg=exception;context.next=loc;return!!caught}for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];var record=entry.completion;if(entry.tryLoc==="root"){return handle("end")}if(entry.tryLoc<=this.prev){var hasCatch=hasOwn.call(entry,"catchLoc");var hasFinally=hasOwn.call(entry,"finallyLoc");if(hasCatch&&hasFinally){if(this.prev<entry.catchLoc){return handle(entry.catchLoc,true)}else if(this.prev<entry.finallyLoc){return handle(entry.finallyLoc)}}else if(hasCatch){if(this.prev<entry.catchLoc){return handle(entry.catchLoc,true)}}else if(hasFinally){if(this.prev<entry.finallyLoc){return handle(entry.finallyLoc)}}else{throw new Error("try statement without catch or finally")}}}},abrupt:function(type,arg){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc<=this.prev&&hasOwn.call(entry,"finallyLoc")&&this.prev<entry.finallyLoc){var finallyEntry=entry;break}}if(finallyEntry&&(type==="break"||type==="continue")&&finallyEntry.tryLoc<=arg&&arg<=finallyEntry.finallyLoc){finallyEntry=null}var record=finallyEntry?finallyEntry.completion:{};record.type=type;record.arg=arg;if(finallyEntry){this.next=finallyEntry.finallyLoc}else{this.complete(record)}return ContinueSentinel},complete:function(record,afterLoc){if(record.type==="throw"){throw record.arg}if(record.type==="break"||record.type==="continue"){this.next=record.arg}else if(record.type==="return"){this.rval=record.arg;this.next="end"}else if(record.type==="normal"&&afterLoc){this.next=afterLoc}},finish:function(finallyLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.finallyLoc===finallyLoc){this.complete(entry.completion,entry.afterLoc);resetTryEntry(entry);return ContinueSentinel}}},"catch":function(tryLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc===tryLoc){var record=entry.completion;if(record.type==="throw"){var thrown=record.arg;resetTryEntry(entry)}return thrown}}throw new Error("illegal catch attempt")},delegateYield:function(iterable,resultName,nextLoc){this.delegate={iterator:values(iterable),resultName:resultName,nextLoc:nextLoc};return ContinueSentinel}}}(typeof global==="object"?global:typeof window==="object"?window:typeof self==="object"?self:this)}).call(this,require("_process"),typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{_process:247}],273:[function(require,module,exports){(function(process,global){(function(undefined){var objectTypes={"function":true,object:true};function checkGlobal(value){return value&&value.Object===Object?value:null}var freeExports=objectTypes[typeof exports]&&exports&&!exports.nodeType?exports:null;var freeModule=objectTypes[typeof module]&&module&&!module.nodeType?module:null;var freeGlobal=checkGlobal(freeExports&&freeModule&&typeof global==="object"&&global);var freeSelf=checkGlobal(objectTypes[typeof self]&&self);var freeWindow=checkGlobal(objectTypes[typeof window]&&window);var moduleExports=freeModule&&freeModule.exports===freeExports?freeExports:null;var thisGlobal=checkGlobal(objectTypes[typeof this]&&this);var root=freeGlobal||freeWindow!==(thisGlobal&&thisGlobal.window)&&freeWindow||freeSelf||thisGlobal||Function("return this")();var Rx={internals:{},config:{Promise:root.Promise},helpers:{}};
var noop=Rx.helpers.noop=function(){},identity=Rx.helpers.identity=function(x){return x},defaultNow=Rx.helpers.defaultNow=Date.now,defaultComparer=Rx.helpers.defaultComparer=function(x,y){return isEqual(x,y)},defaultSubComparer=Rx.helpers.defaultSubComparer=function(x,y){return x>y?1:x<y?-1:0},defaultKeySerializer=Rx.helpers.defaultKeySerializer=function(x){return x.toString()},defaultError=Rx.helpers.defaultError=function(err){throw err},isPromise=Rx.helpers.isPromise=function(p){return!!p&&typeof p.subscribe!=="function"&&typeof p.then==="function"},isFunction=Rx.helpers.isFunction=function(){var isFn=function(value){return typeof value=="function"||false};if(isFn(/x/)){isFn=function(value){return typeof value=="function"&&toString.call(value)=="[object Function]"}}return isFn}();function cloneArray(arr){var len=arr.length,a=new Array(len);for(var i=0;i<len;i++){a[i]=arr[i]}return a}var errorObj={e:{}};function tryCatcherGen(tryCatchTarget){return function tryCatcher(){try{return tryCatchTarget.apply(this,arguments)}catch(e){errorObj.e=e;return errorObj}}}var tryCatch=Rx.internals.tryCatch=function tryCatch(fn){if(!isFunction(fn)){throw new TypeError("fn must be a function")}return tryCatcherGen(fn)};function thrower(e){throw e}Rx.config.longStackSupport=false;var hasStacks=false,stacks=tryCatch(function(){throw new Error})();hasStacks=!!stacks.e&&!!stacks.e.stack;var rStartingLine=captureLine(),rFileName;var STACK_JUMP_SEPARATOR="From previous event:";function makeStackTraceLong(error,observable){if(hasStacks&&observable.stack&&typeof error==="object"&&error!==null&&error.stack&&error.stack.indexOf(STACK_JUMP_SEPARATOR)===-1){var stacks=[];for(var o=observable;!!o;o=o.source){if(o.stack){stacks.unshift(o.stack)}}stacks.unshift(error.stack);var concatedStacks=stacks.join("\n"+STACK_JUMP_SEPARATOR+"\n");error.stack=filterStackString(concatedStacks)}}function filterStackString(stackString){var lines=stackString.split("\n"),desiredLines=[];for(var i=0,len=lines.length;i<len;i++){var line=lines[i];if(!isInternalFrame(line)&&!isNodeFrame(line)&&line){desiredLines.push(line)}}return desiredLines.join("\n")}function isInternalFrame(stackLine){var fileNameAndLineNumber=getFileNameAndLineNumber(stackLine);if(!fileNameAndLineNumber){return false}var fileName=fileNameAndLineNumber[0],lineNumber=fileNameAndLineNumber[1];return fileName===rFileName&&lineNumber>=rStartingLine&&lineNumber<=rEndingLine}function isNodeFrame(stackLine){return stackLine.indexOf("(module.js:")!==-1||stackLine.indexOf("(node.js:")!==-1}function captureLine(){if(!hasStacks){return}try{throw new Error}catch(e){var lines=e.stack.split("\n");var firstLine=lines[0].indexOf("@")>0?lines[1]:lines[2];var fileNameAndLineNumber=getFileNameAndLineNumber(firstLine);if(!fileNameAndLineNumber){return}rFileName=fileNameAndLineNumber[0];return fileNameAndLineNumber[1]}}function getFileNameAndLineNumber(stackLine){var attempt1=/at .+ \((.+):(\d+):(?:\d+)\)$/.exec(stackLine);if(attempt1){return[attempt1[1],Number(attempt1[2])]}var attempt2=/at ([^ ]+):(\d+):(?:\d+)$/.exec(stackLine);if(attempt2){return[attempt2[1],Number(attempt2[2])]}var attempt3=/.*@(.+):(\d+)$/.exec(stackLine);if(attempt3){return[attempt3[1],Number(attempt3[2])]}}var EmptyError=Rx.EmptyError=function(){this.message="Sequence contains no elements.";Error.call(this)};EmptyError.prototype=Object.create(Error.prototype);EmptyError.prototype.name="EmptyError";var ObjectDisposedError=Rx.ObjectDisposedError=function(){this.message="Object has been disposed";Error.call(this)};ObjectDisposedError.prototype=Object.create(Error.prototype);ObjectDisposedError.prototype.name="ObjectDisposedError";var ArgumentOutOfRangeError=Rx.ArgumentOutOfRangeError=function(){this.message="Argument out of range";Error.call(this)};ArgumentOutOfRangeError.prototype=Object.create(Error.prototype);ArgumentOutOfRangeError.prototype.name="ArgumentOutOfRangeError";var NotSupportedError=Rx.NotSupportedError=function(message){this.message=message||"This operation is not supported";Error.call(this)};NotSupportedError.prototype=Object.create(Error.prototype);NotSupportedError.prototype.name="NotSupportedError";var NotImplementedError=Rx.NotImplementedError=function(message){this.message=message||"This operation is not implemented";Error.call(this)};NotImplementedError.prototype=Object.create(Error.prototype);NotImplementedError.prototype.name="NotImplementedError";var notImplemented=Rx.helpers.notImplemented=function(){throw new NotImplementedError};var notSupported=Rx.helpers.notSupported=function(){throw new NotSupportedError};var $iterator$=typeof Symbol==="function"&&Symbol.iterator||"_es6shim_iterator_";if(root.Set&&typeof(new root.Set)["@@iterator"]==="function"){$iterator$="@@iterator"}var doneEnumerator=Rx.doneEnumerator={done:true,value:undefined};var isIterable=Rx.helpers.isIterable=function(o){return o&&o[$iterator$]!==undefined};var isArrayLike=Rx.helpers.isArrayLike=function(o){return o&&o.length!==undefined};Rx.helpers.iterator=$iterator$;var bindCallback=Rx.internals.bindCallback=function(func,thisArg,argCount){if(typeof thisArg==="undefined"){return func}switch(argCount){case 0:return function(){return func.call(thisArg)};case 1:return function(arg){return func.call(thisArg,arg)};case 2:return function(value,index){return func.call(thisArg,value,index)};case 3:return function(value,index,collection){return func.call(thisArg,value,index,collection)}}return function(){return func.apply(thisArg,arguments)}};var dontEnums=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],dontEnumsLength=dontEnums.length;var argsTag="[object Arguments]",arrayTag="[object Array]",boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",funcTag="[object Function]",mapTag="[object Map]",numberTag="[object Number]",objectTag="[object Object]",regexpTag="[object RegExp]",setTag="[object Set]",stringTag="[object String]",weakMapTag="[object WeakMap]";var arrayBufferTag="[object ArrayBuffer]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]";var typedArrayTags={};typedArrayTags[float32Tag]=typedArrayTags[float64Tag]=typedArrayTags[int8Tag]=typedArrayTags[int16Tag]=typedArrayTags[int32Tag]=typedArrayTags[uint8Tag]=typedArrayTags[uint8ClampedTag]=typedArrayTags[uint16Tag]=typedArrayTags[uint32Tag]=true;typedArrayTags[argsTag]=typedArrayTags[arrayTag]=typedArrayTags[arrayBufferTag]=typedArrayTags[boolTag]=typedArrayTags[dateTag]=typedArrayTags[errorTag]=typedArrayTags[funcTag]=typedArrayTags[mapTag]=typedArrayTags[numberTag]=typedArrayTags[objectTag]=typedArrayTags[regexpTag]=typedArrayTags[setTag]=typedArrayTags[stringTag]=typedArrayTags[weakMapTag]=false;var objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty,objToString=objectProto.toString,MAX_SAFE_INTEGER=Math.pow(2,53)-1;var keys=Object.keys||function(){var hasOwnProperty=Object.prototype.hasOwnProperty,hasDontEnumBug=!{toString:null}.propertyIsEnumerable("toString"),dontEnums=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],dontEnumsLength=dontEnums.length;return function(obj){if(typeof obj!=="object"&&(typeof obj!=="function"||obj===null)){throw new TypeError("Object.keys called on non-object")}var result=[],prop,i;for(prop in obj){if(hasOwnProperty.call(obj,prop)){result.push(prop)}}if(hasDontEnumBug){for(i=0;i<dontEnumsLength;i++){if(hasOwnProperty.call(obj,dontEnums[i])){result.push(dontEnums[i])}}}return result}}();function equalObjects(object,other,equalFunc,isLoose,stackA,stackB){var objProps=keys(object),objLength=objProps.length,othProps=keys(other),othLength=othProps.length;if(objLength!==othLength&&!isLoose){return false}var index=objLength,key;while(index--){key=objProps[index];if(!(isLoose?key in other:hasOwnProperty.call(other,key))){return false}}var skipCtor=isLoose;while(++index<objLength){key=objProps[index];var objValue=object[key],othValue=other[key],result;if(!(result===undefined?equalFunc(objValue,othValue,isLoose,stackA,stackB):result)){return false}skipCtor||(skipCtor=key==="constructor")}if(!skipCtor){var objCtor=object.constructor,othCtor=other.constructor;if(objCtor!==othCtor&&("constructor"in object&&"constructor"in other)&&!(typeof objCtor==="function"&&objCtor instanceof objCtor&&typeof othCtor==="function"&&othCtor instanceof othCtor)){return false}}return true}function equalByTag(object,other,tag){switch(tag){case boolTag:case dateTag:return+object===+other;case errorTag:return object.name===other.name&&object.message===other.message;case numberTag:return object!==+object?other!==+other:object===+other;case regexpTag:case stringTag:return object===other+""}return false}var isObject=Rx.internals.isObject=function(value){var type=typeof value;return!!value&&(type==="object"||type==="function")};function isObjectLike(value){return!!value&&typeof value==="object"}function isLength(value){return typeof value==="number"&&value>-1&&value%1===0&&value<=MAX_SAFE_INTEGER}var isHostObject=function(){try{Object({toString:0}+"")}catch(e){return function(){return false}}return function(value){return typeof value.toString!=="function"&&typeof(value+"")==="string"}}();function isTypedArray(value){return isObjectLike(value)&&isLength(value.length)&&!!typedArrayTags[objToString.call(value)]}var isArray=Array.isArray||function(value){return isObjectLike(value)&&isLength(value.length)&&objToString.call(value)===arrayTag};function arraySome(array,predicate){var index=-1,length=array.length;while(++index<length){if(predicate(array[index],index,array)){return true}}return false}function equalArrays(array,other,equalFunc,isLoose,stackA,stackB){var index=-1,arrLength=array.length,othLength=other.length;if(arrLength!==othLength&&!(isLoose&&othLength>arrLength)){return false}while(++index<arrLength){var arrValue=array[index],othValue=other[index],result;if(result!==undefined){if(result){continue}return false}if(isLoose){if(!arraySome(other,function(othValue){return arrValue===othValue||equalFunc(arrValue,othValue,isLoose,stackA,stackB)})){return false}}else if(!(arrValue===othValue||equalFunc(arrValue,othValue,isLoose,stackA,stackB))){return false}}return true}function baseIsEqualDeep(object,other,equalFunc,isLoose,stackA,stackB){var objIsArr=isArray(object),othIsArr=isArray(other),objTag=arrayTag,othTag=arrayTag;if(!objIsArr){objTag=objToString.call(object);if(objTag===argsTag){objTag=objectTag}else if(objTag!==objectTag){objIsArr=isTypedArray(object)}}if(!othIsArr){othTag=objToString.call(other);if(othTag===argsTag){othTag=objectTag}}var objIsObj=objTag===objectTag&&!isHostObject(object),othIsObj=othTag===objectTag&&!isHostObject(other),isSameTag=objTag===othTag;if(isSameTag&&!(objIsArr||objIsObj)){return equalByTag(object,other,objTag)}if(!isLoose){var objIsWrapped=objIsObj&&hasOwnProperty.call(object,"__wrapped__"),othIsWrapped=othIsObj&&hasOwnProperty.call(other,"__wrapped__");if(objIsWrapped||othIsWrapped){return equalFunc(objIsWrapped?object.value():object,othIsWrapped?other.value():other,isLoose,stackA,stackB)}}if(!isSameTag){return false}stackA||(stackA=[]);stackB||(stackB=[]);var length=stackA.length;while(length--){if(stackA[length]===object){return stackB[length]===other}}stackA.push(object);stackB.push(other);var result=(objIsArr?equalArrays:equalObjects)(object,other,equalFunc,isLoose,stackA,stackB);stackA.pop();stackB.pop();return result}function baseIsEqual(value,other,isLoose,stackA,stackB){if(value===other){return true}if(value==null||other==null||!isObject(value)&&!isObjectLike(other)){return value!==value&&other!==other}return baseIsEqualDeep(value,other,baseIsEqual,isLoose,stackA,stackB)}var isEqual=Rx.internals.isEqual=function(value,other){return baseIsEqual(value,other)};var hasProp={}.hasOwnProperty,slice=Array.prototype.slice;var inherits=Rx.internals.inherits=function(child,parent){function __(){this.constructor=child}__.prototype=parent.prototype;child.prototype=new __};var addProperties=Rx.internals.addProperties=function(obj){for(var sources=[],i=1,len=arguments.length;i<len;i++){sources.push(arguments[i])}for(var idx=0,ln=sources.length;idx<ln;idx++){var source=sources[idx];for(var prop in source){obj[prop]=source[prop]}}};var addRef=Rx.internals.addRef=function(xs,r){return new AnonymousObservable(function(observer){return new BinaryDisposable(r.getDisposable(),xs.subscribe(observer))})};function arrayInitialize(count,factory){var a=new Array(count);for(var i=0;i<count;i++){a[i]=factory()}return a}var CompositeDisposable=Rx.CompositeDisposable=function(){var args=[],i,len;if(Array.isArray(arguments[0])){args=arguments[0]}else{len=arguments.length;args=new Array(len);for(i=0;i<len;i++){args[i]=arguments[i]}}this.disposables=args;this.isDisposed=false;this.length=args.length};var CompositeDisposablePrototype=CompositeDisposable.prototype;CompositeDisposablePrototype.add=function(item){if(this.isDisposed){item.dispose()}else{this.disposables.push(item);this.length++}};CompositeDisposablePrototype.remove=function(item){var shouldDispose=false;if(!this.isDisposed){var idx=this.disposables.indexOf(item);if(idx!==-1){shouldDispose=true;this.disposables.splice(idx,1);this.length--;item.dispose()}}return shouldDispose};CompositeDisposablePrototype.dispose=function(){if(!this.isDisposed){this.isDisposed=true;var len=this.disposables.length,currentDisposables=new Array(len);for(var i=0;i<len;i++){currentDisposables[i]=this.disposables[i]}this.disposables=[];this.length=0;for(i=0;i<len;i++){currentDisposables[i].dispose()}}};var Disposable=Rx.Disposable=function(action){this.isDisposed=false;this.action=action||noop};Disposable.prototype.dispose=function(){if(!this.isDisposed){this.action();this.isDisposed=true}};var disposableCreate=Disposable.create=function(action){return new Disposable(action)};var disposableEmpty=Disposable.empty={dispose:noop};var isDisposable=Disposable.isDisposable=function(d){return d&&isFunction(d.dispose)};var checkDisposed=Disposable.checkDisposed=function(disposable){if(disposable.isDisposed){throw new ObjectDisposedError}};var disposableFixup=Disposable._fixup=function(result){return isDisposable(result)?result:disposableEmpty};var SingleAssignmentDisposable=Rx.SingleAssignmentDisposable=function(){this.isDisposed=false;this.current=null};SingleAssignmentDisposable.prototype.getDisposable=function(){return this.current};SingleAssignmentDisposable.prototype.setDisposable=function(value){if(this.current){throw new Error("Disposable has already been assigned")}var shouldDispose=this.isDisposed;!shouldDispose&&(this.current=value);shouldDispose&&value&&value.dispose()};SingleAssignmentDisposable.prototype.dispose=function(){if(!this.isDisposed){this.isDisposed=true;var old=this.current;this.current=null;old&&old.dispose()}};var SerialDisposable=Rx.SerialDisposable=function(){this.isDisposed=false;this.current=null};SerialDisposable.prototype.getDisposable=function(){return this.current};SerialDisposable.prototype.setDisposable=function(value){var shouldDispose=this.isDisposed;if(!shouldDispose){var old=this.current;this.current=value}old&&old.dispose();shouldDispose&&value&&value.dispose()};SerialDisposable.prototype.dispose=function(){if(!this.isDisposed){this.isDisposed=true;var old=this.current;this.current=null}old&&old.dispose()};var BinaryDisposable=Rx.BinaryDisposable=function(first,second){this._first=first;this._second=second;this.isDisposed=false};BinaryDisposable.prototype.dispose=function(){if(!this.isDisposed){this.isDisposed=true;var old1=this._first;this._first=null;old1&&old1.dispose();var old2=this._second;this._second=null;old2&&old2.dispose()}};var NAryDisposable=Rx.NAryDisposable=function(disposables){this._disposables=disposables;this.isDisposed=false};NAryDisposable.prototype.dispose=function(){if(!this.isDisposed){this.isDisposed=true;for(var i=0,len=this._disposables.length;i<len;i++){this._disposables[i].dispose()}this._disposables.length=0}};var RefCountDisposable=Rx.RefCountDisposable=function(){function InnerDisposable(disposable){this.disposable=disposable;this.disposable.count++;this.isInnerDisposed=false}InnerDisposable.prototype.dispose=function(){if(!this.disposable.isDisposed&&!this.isInnerDisposed){this.isInnerDisposed=true;this.disposable.count--;if(this.disposable.count===0&&this.disposable.isPrimaryDisposed){this.disposable.isDisposed=true;this.disposable.underlyingDisposable.dispose()}}};function RefCountDisposable(disposable){this.underlyingDisposable=disposable;this.isDisposed=false;this.isPrimaryDisposed=false;this.count=0}RefCountDisposable.prototype.dispose=function(){if(!this.isDisposed&&!this.isPrimaryDisposed){this.isPrimaryDisposed=true;if(this.count===0){this.isDisposed=true;this.underlyingDisposable.dispose()}}};RefCountDisposable.prototype.getDisposable=function(){return this.isDisposed?disposableEmpty:new InnerDisposable(this)};return RefCountDisposable}();var ScheduledItem=Rx.internals.ScheduledItem=function(scheduler,state,action,dueTime,comparer){this.scheduler=scheduler;this.state=state;this.action=action;this.dueTime=dueTime;this.comparer=comparer||defaultSubComparer;this.disposable=new SingleAssignmentDisposable};ScheduledItem.prototype.invoke=function(){this.disposable.setDisposable(this.invokeCore())};ScheduledItem.prototype.compareTo=function(other){return this.comparer(this.dueTime,other.dueTime)};ScheduledItem.prototype.isCancelled=function(){return this.disposable.isDisposed};ScheduledItem.prototype.invokeCore=function(){return disposableFixup(this.action(this.scheduler,this.state))};var Scheduler=Rx.Scheduler=function(){function Scheduler(){}Scheduler.isScheduler=function(s){return s instanceof Scheduler};var schedulerProto=Scheduler.prototype;schedulerProto.schedule=function(state,action){throw new NotImplementedError};schedulerProto.scheduleFuture=function(state,dueTime,action){var dt=dueTime;dt instanceof Date&&(dt=dt-this.now());dt=Scheduler.normalize(dt);if(dt===0){return this.schedule(state,action)}return this._scheduleFuture(state,dt,action)};schedulerProto._scheduleFuture=function(state,dueTime,action){throw new NotImplementedError};Scheduler.now=defaultNow;Scheduler.prototype.now=defaultNow;Scheduler.normalize=function(timeSpan){timeSpan<0&&(timeSpan=0);return timeSpan};return Scheduler}();var normalizeTime=Scheduler.normalize,isScheduler=Scheduler.isScheduler;(function(schedulerProto){function invokeRecImmediate(scheduler,pair){var state=pair[0],action=pair[1],group=new CompositeDisposable;action(state,innerAction);return group;function innerAction(state2){var isAdded=false,isDone=false;var d=scheduler.schedule(state2,scheduleWork);if(!isDone){group.add(d);isAdded=true}function scheduleWork(_,state3){if(isAdded){group.remove(d)}else{isDone=true}action(state3,innerAction);return disposableEmpty}}}function invokeRecDate(scheduler,pair){var state=pair[0],action=pair[1],group=new CompositeDisposable;action(state,innerAction);return group;function innerAction(state2,dueTime1){var isAdded=false,isDone=false;var d=scheduler.scheduleFuture(state2,dueTime1,scheduleWork);if(!isDone){group.add(d);isAdded=true}function scheduleWork(_,state3){if(isAdded){group.remove(d)}else{isDone=true}action(state3,innerAction);return disposableEmpty}}}schedulerProto.scheduleRecursive=function(state,action){return this.schedule([state,action],invokeRecImmediate)};schedulerProto.scheduleRecursiveFuture=function(state,dueTime,action){return this.scheduleFuture([state,action],dueTime,invokeRecDate)}})(Scheduler.prototype);(function(schedulerProto){schedulerProto.schedulePeriodic=function(state,period,action){if(typeof root.setInterval==="undefined"){throw new NotSupportedError}period=normalizeTime(period);var s=state,id=root.setInterval(function(){s=action(s)},period);return disposableCreate(function(){root.clearInterval(id)})}})(Scheduler.prototype);var ImmediateScheduler=function(__super__){inherits(ImmediateScheduler,__super__);function ImmediateScheduler(){__super__.call(this)}ImmediateScheduler.prototype.schedule=function(state,action){return disposableFixup(action(this,state))};return ImmediateScheduler}(Scheduler);var immediateScheduler=Scheduler.immediate=new ImmediateScheduler;var CurrentThreadScheduler=function(__super__){var queue;function runTrampoline(){while(queue.length>0){var item=queue.dequeue();!item.isCancelled()&&item.invoke()}}inherits(CurrentThreadScheduler,__super__);function CurrentThreadScheduler(){__super__.call(this)}CurrentThreadScheduler.prototype.schedule=function(state,action){var si=new ScheduledItem(this,state,action,this.now());if(!queue){queue=new PriorityQueue(4);queue.enqueue(si);var result=tryCatch(runTrampoline)();queue=null;if(result===errorObj){thrower(result.e)}}else{queue.enqueue(si)}return si.disposable};CurrentThreadScheduler.prototype.scheduleRequired=function(){return!queue};return CurrentThreadScheduler}(Scheduler);var currentThreadScheduler=Scheduler.currentThread=new CurrentThreadScheduler;var SchedulePeriodicRecursive=Rx.internals.SchedulePeriodicRecursive=function(){function createTick(self){return function tick(command,recurse){recurse(0,self._period);var state=tryCatch(self._action)(self._state);if(state===errorObj){self._cancel.dispose();thrower(state.e)}self._state=state}}function SchedulePeriodicRecursive(scheduler,state,period,action){this._scheduler=scheduler;this._state=state;this._period=period;this._action=action}SchedulePeriodicRecursive.prototype.start=function(){var d=new SingleAssignmentDisposable;this._cancel=d;d.setDisposable(this._scheduler.scheduleRecursiveFuture(0,this._period,createTick(this)));return d};return SchedulePeriodicRecursive}();var scheduleMethod,clearMethod;var localTimer=function(){var localSetTimeout,localClearTimeout=noop;if(!!root.setTimeout){localSetTimeout=root.setTimeout;localClearTimeout=root.clearTimeout}else if(!!root.WScript){localSetTimeout=function(fn,time){root.WScript.Sleep(time);fn()}}else{throw new NotSupportedError}return{setTimeout:localSetTimeout,clearTimeout:localClearTimeout}}();var localSetTimeout=localTimer.setTimeout,localClearTimeout=localTimer.clearTimeout;(function(){var nextHandle=1,tasksByHandle={},currentlyRunning=false;clearMethod=function(handle){delete tasksByHandle[handle]};function runTask(handle){if(currentlyRunning){localSetTimeout(function(){runTask(handle)},0)}else{var task=tasksByHandle[handle];if(task){currentlyRunning=true;var result=tryCatch(task)();clearMethod(handle);currentlyRunning=false;if(result===errorObj){thrower(result.e)}}}}var reNative=new RegExp("^"+String(toString).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/toString| for [^\]]+/g,".*?")+"$");var setImmediate=typeof(setImmediate=freeGlobal&&moduleExports&&freeGlobal.setImmediate)=="function"&&!reNative.test(setImmediate)&&setImmediate;function postMessageSupported(){if(!root.postMessage||root.importScripts){return false}var isAsync=false,oldHandler=root.onmessage;root.onmessage=function(){isAsync=true};root.postMessage("","*");root.onmessage=oldHandler;return isAsync}if(isFunction(setImmediate)){scheduleMethod=function(action){var id=nextHandle++;tasksByHandle[id]=action;setImmediate(function(){runTask(id)});return id}}else if(typeof process!=="undefined"&&{}.toString.call(process)==="[object process]"){scheduleMethod=function(action){var id=nextHandle++;tasksByHandle[id]=action;process.nextTick(function(){runTask(id)});return id}}else if(postMessageSupported()){var MSG_PREFIX="ms.rx.schedule"+Math.random();var onGlobalPostMessage=function(event){if(typeof event.data==="string"&&event.data.substring(0,MSG_PREFIX.length)===MSG_PREFIX){runTask(event.data.substring(MSG_PREFIX.length))}};root.addEventListener("message",onGlobalPostMessage,false);scheduleMethod=function(action){var id=nextHandle++;tasksByHandle[id]=action;root.postMessage(MSG_PREFIX+id,"*");return id}}else if(!!root.MessageChannel){var channel=new root.MessageChannel;channel.port1.onmessage=function(e){runTask(e.data)};scheduleMethod=function(action){var id=nextHandle++;tasksByHandle[id]=action;channel.port2.postMessage(id);return id}}else if("document"in root&&"onreadystatechange"in root.document.createElement("script")){scheduleMethod=function(action){var scriptElement=root.document.createElement("script");var id=nextHandle++;tasksByHandle[id]=action;scriptElement.onreadystatechange=function(){runTask(id);scriptElement.onreadystatechange=null;scriptElement.parentNode.removeChild(scriptElement);scriptElement=null};root.document.documentElement.appendChild(scriptElement);return id}}else{scheduleMethod=function(action){var id=nextHandle++;tasksByHandle[id]=action;localSetTimeout(function(){runTask(id)},0);return id}}})();var DefaultScheduler=function(__super__){inherits(DefaultScheduler,__super__);function DefaultScheduler(){__super__.call(this)}function scheduleAction(disposable,action,scheduler,state){return function schedule(){disposable.setDisposable(Disposable._fixup(action(scheduler,state)))}}function ClearDisposable(id){this._id=id;this.isDisposed=false}ClearDisposable.prototype.dispose=function(){if(!this.isDisposed){this.isDisposed=true;clearMethod(this._id)}};function LocalClearDisposable(id){this._id=id;this.isDisposed=false}LocalClearDisposable.prototype.dispose=function(){if(!this.isDisposed){this.isDisposed=true;localClearTimeout(this._id)}};DefaultScheduler.prototype.schedule=function(state,action){var disposable=new SingleAssignmentDisposable,id=scheduleMethod(scheduleAction(disposable,action,this,state));return new BinaryDisposable(disposable,new ClearDisposable(id))};DefaultScheduler.prototype._scheduleFuture=function(state,dueTime,action){if(dueTime===0){return this.schedule(state,action)}var disposable=new SingleAssignmentDisposable,id=localSetTimeout(scheduleAction(disposable,action,this,state),dueTime);return new BinaryDisposable(disposable,new LocalClearDisposable(id))};return DefaultScheduler}(Scheduler);var defaultScheduler=Scheduler["default"]=Scheduler.async=new DefaultScheduler;function IndexedItem(id,value){this.id=id;this.value=value}IndexedItem.prototype.compareTo=function(other){var c=this.value.compareTo(other.value);c===0&&(c=this.id-other.id);return c};var PriorityQueue=Rx.internals.PriorityQueue=function(capacity){this.items=new Array(capacity);this.length=0};var priorityProto=PriorityQueue.prototype;priorityProto.isHigherPriority=function(left,right){return this.items[left].compareTo(this.items[right])<0};priorityProto.percolate=function(index){if(index>=this.length||index<0){return}var parent=index-1>>1;if(parent<0||parent===index){return}if(this.isHigherPriority(index,parent)){var temp=this.items[index];this.items[index]=this.items[parent];this.items[parent]=temp;this.percolate(parent)}};priorityProto.heapify=function(index){+index||(index=0);if(index>=this.length||index<0){return}var left=2*index+1,right=2*index+2,first=index;if(left<this.length&&this.isHigherPriority(left,first)){first=left}if(right<this.length&&this.isHigherPriority(right,first)){first=right}if(first!==index){var temp=this.items[index];this.items[index]=this.items[first];this.items[first]=temp;this.heapify(first)}};priorityProto.peek=function(){return this.items[0].value};priorityProto.removeAt=function(index){this.items[index]=this.items[--this.length];this.items[this.length]=undefined;this.heapify()};priorityProto.dequeue=function(){var result=this.peek();this.removeAt(0);return result};priorityProto.enqueue=function(item){var index=this.length++;this.items[index]=new IndexedItem(PriorityQueue.count++,item);this.percolate(index)};priorityProto.remove=function(item){for(var i=0;i<this.length;i++){if(this.items[i].value===item){this.removeAt(i);return true}}return false};PriorityQueue.count=0;var Notification=Rx.Notification=function(){function Notification(){}Notification.prototype._accept=function(onNext,onError,onCompleted){throw new NotImplementedError};Notification.prototype._acceptObserver=function(onNext,onError,onCompleted){throw new NotImplementedError};Notification.prototype.accept=function(observerOrOnNext,onError,onCompleted){return observerOrOnNext&&typeof observerOrOnNext==="object"?this._acceptObserver(observerOrOnNext):this._accept(observerOrOnNext,onError,onCompleted)};Notification.prototype.toObservable=function(scheduler){var self=this;isScheduler(scheduler)||(scheduler=immediateScheduler);return new AnonymousObservable(function(o){return scheduler.schedule(self,function(_,notification){notification._acceptObserver(o);notification.kind==="N"&&o.onCompleted()})})};return Notification}();var OnNextNotification=function(__super__){inherits(OnNextNotification,__super__);function OnNextNotification(value){this.value=value;this.kind="N"}OnNextNotification.prototype._accept=function(onNext){return onNext(this.value)};OnNextNotification.prototype._acceptObserver=function(o){return o.onNext(this.value)};OnNextNotification.prototype.toString=function(){return"OnNext("+this.value+")"};return OnNextNotification}(Notification);var OnErrorNotification=function(__super__){inherits(OnErrorNotification,__super__);function OnErrorNotification(error){this.error=error;this.kind="E"}OnErrorNotification.prototype._accept=function(onNext,onError){return onError(this.error)};OnErrorNotification.prototype._acceptObserver=function(o){return o.onError(this.error)};OnErrorNotification.prototype.toString=function(){return"OnError("+this.error+")"};return OnErrorNotification}(Notification);var OnCompletedNotification=function(__super__){inherits(OnCompletedNotification,__super__);function OnCompletedNotification(){this.kind="C"}OnCompletedNotification.prototype._accept=function(onNext,onError,onCompleted){return onCompleted()};OnCompletedNotification.prototype._acceptObserver=function(o){return o.onCompleted()};OnCompletedNotification.prototype.toString=function(){return"OnCompleted()"};return OnCompletedNotification}(Notification);var notificationCreateOnNext=Notification.createOnNext=function(value){return new OnNextNotification(value)};var notificationCreateOnError=Notification.createOnError=function(error){return new OnErrorNotification(error)};var notificationCreateOnCompleted=Notification.createOnCompleted=function(){return new OnCompletedNotification};var Observer=Rx.Observer=function(){};var observerCreate=Observer.create=function(onNext,onError,onCompleted){onNext||(onNext=noop);onError||(onError=defaultError);onCompleted||(onCompleted=noop);return new AnonymousObserver(onNext,onError,onCompleted)};var AbstractObserver=Rx.internals.AbstractObserver=function(__super__){inherits(AbstractObserver,__super__);function AbstractObserver(){this.isStopped=false}AbstractObserver.prototype.next=notImplemented;AbstractObserver.prototype.error=notImplemented;AbstractObserver.prototype.completed=notImplemented;AbstractObserver.prototype.onNext=function(value){!this.isStopped&&this.next(value)};AbstractObserver.prototype.onError=function(error){if(!this.isStopped){this.isStopped=true;this.error(error)}};AbstractObserver.prototype.onCompleted=function(){if(!this.isStopped){this.isStopped=true;this.completed()}};AbstractObserver.prototype.dispose=function(){this.isStopped=true};AbstractObserver.prototype.fail=function(e){if(!this.isStopped){this.isStopped=true;this.error(e);return true}return false};return AbstractObserver}(Observer);var AnonymousObserver=Rx.AnonymousObserver=function(__super__){inherits(AnonymousObserver,__super__);function AnonymousObserver(onNext,onError,onCompleted){__super__.call(this);this._onNext=onNext;this._onError=onError;this._onCompleted=onCompleted}AnonymousObserver.prototype.next=function(value){this._onNext(value)};AnonymousObserver.prototype.error=function(error){this._onError(error)};
AnonymousObserver.prototype.completed=function(){this._onCompleted()};return AnonymousObserver}(AbstractObserver);var observableProto;var Observable=Rx.Observable=function(){function makeSubscribe(self,subscribe){return function(o){var oldOnError=o.onError;o.onError=function(e){makeStackTraceLong(e,self);oldOnError.call(o,e)};return subscribe.call(self,o)}}function Observable(){if(Rx.config.longStackSupport&&hasStacks){var oldSubscribe=this._subscribe;var e=tryCatch(thrower)(new Error).e;this.stack=e.stack.substring(e.stack.indexOf("\n")+1);this._subscribe=makeSubscribe(this,oldSubscribe)}}observableProto=Observable.prototype;Observable.isObservable=function(o){return o&&isFunction(o.subscribe)};observableProto.subscribe=observableProto.forEach=function(oOrOnNext,onError,onCompleted){return this._subscribe(typeof oOrOnNext==="object"?oOrOnNext:observerCreate(oOrOnNext,onError,onCompleted))};observableProto.subscribeOnNext=function(onNext,thisArg){return this._subscribe(observerCreate(typeof thisArg!=="undefined"?function(x){onNext.call(thisArg,x)}:onNext))};observableProto.subscribeOnError=function(onError,thisArg){return this._subscribe(observerCreate(null,typeof thisArg!=="undefined"?function(e){onError.call(thisArg,e)}:onError))};observableProto.subscribeOnCompleted=function(onCompleted,thisArg){return this._subscribe(observerCreate(null,null,typeof thisArg!=="undefined"?function(){onCompleted.call(thisArg)}:onCompleted))};return Observable}();var ScheduledObserver=Rx.internals.ScheduledObserver=function(__super__){inherits(ScheduledObserver,__super__);function ScheduledObserver(scheduler,observer){__super__.call(this);this.scheduler=scheduler;this.observer=observer;this.isAcquired=false;this.hasFaulted=false;this.queue=[];this.disposable=new SerialDisposable}function enqueueNext(observer,x){return function(){observer.onNext(x)}}function enqueueError(observer,e){return function(){observer.onError(e)}}function enqueueCompleted(observer){return function(){observer.onCompleted()}}ScheduledObserver.prototype.next=function(x){this.queue.push(enqueueNext(this.observer,x))};ScheduledObserver.prototype.error=function(e){this.queue.push(enqueueError(this.observer,e))};ScheduledObserver.prototype.completed=function(){this.queue.push(enqueueCompleted(this.observer))};function scheduleMethod(state,recurse){var work;if(state.queue.length>0){work=state.queue.shift()}else{state.isAcquired=false;return}var res=tryCatch(work)();if(res===errorObj){state.queue=[];state.hasFaulted=true;return thrower(res.e)}recurse(state)}ScheduledObserver.prototype.ensureActive=function(){var isOwner=false;if(!this.hasFaulted&&this.queue.length>0){isOwner=!this.isAcquired;this.isAcquired=true}isOwner&&this.disposable.setDisposable(this.scheduler.scheduleRecursive(this,scheduleMethod))};ScheduledObserver.prototype.dispose=function(){__super__.prototype.dispose.call(this);this.disposable.dispose()};return ScheduledObserver}(AbstractObserver);var ObservableBase=Rx.ObservableBase=function(__super__){inherits(ObservableBase,__super__);function fixSubscriber(subscriber){return subscriber&&isFunction(subscriber.dispose)?subscriber:isFunction(subscriber)?disposableCreate(subscriber):disposableEmpty}function setDisposable(s,state){var ado=state[0],self=state[1];var sub=tryCatch(self.subscribeCore).call(self,ado);if(sub===errorObj&&!ado.fail(errorObj.e)){thrower(errorObj.e)}ado.setDisposable(fixSubscriber(sub))}function ObservableBase(){__super__.call(this)}ObservableBase.prototype._subscribe=function(o){var ado=new AutoDetachObserver(o),state=[ado,this];if(currentThreadScheduler.scheduleRequired()){currentThreadScheduler.schedule(state,setDisposable)}else{setDisposable(null,state)}return ado};ObservableBase.prototype.subscribeCore=notImplemented;return ObservableBase}(Observable);var FlatMapObservable=Rx.FlatMapObservable=function(__super__){inherits(FlatMapObservable,__super__);function FlatMapObservable(source,selector,resultSelector,thisArg){this.resultSelector=isFunction(resultSelector)?resultSelector:null;this.selector=bindCallback(isFunction(selector)?selector:function(){return selector},thisArg,3);this.source=source;__super__.call(this)}FlatMapObservable.prototype.subscribeCore=function(o){return this.source.subscribe(new InnerObserver(o,this.selector,this.resultSelector,this))};inherits(InnerObserver,AbstractObserver);function InnerObserver(observer,selector,resultSelector,source){this.i=0;this.selector=selector;this.resultSelector=resultSelector;this.source=source;this.o=observer;AbstractObserver.call(this)}InnerObserver.prototype._wrapResult=function(result,x,i){return this.resultSelector?result.map(function(y,i2){return this.resultSelector(x,y,i,i2)},this):result};InnerObserver.prototype.next=function(x){var i=this.i++;var result=tryCatch(this.selector)(x,i,this.source);if(result===errorObj){return this.o.onError(result.e)}isPromise(result)&&(result=observableFromPromise(result));(isArrayLike(result)||isIterable(result))&&(result=Observable.from(result));this.o.onNext(this._wrapResult(result,x,i))};InnerObserver.prototype.error=function(e){this.o.onError(e)};InnerObserver.prototype.completed=function(){this.o.onCompleted()};return FlatMapObservable}(ObservableBase);var Enumerable=Rx.internals.Enumerable=function(){};function IsDisposedDisposable(state){this._s=state;this.isDisposed=false}IsDisposedDisposable.prototype.dispose=function(){if(!this.isDisposed){this.isDisposed=true;this._s.isDisposed=true}};var ConcatEnumerableObservable=function(__super__){inherits(ConcatEnumerableObservable,__super__);function ConcatEnumerableObservable(sources){this.sources=sources;__super__.call(this)}function scheduleMethod(state,recurse){if(state.isDisposed){return}var currentItem=tryCatch(state.e.next).call(state.e);if(currentItem===errorObj){return state.o.onError(currentItem.e)}if(currentItem.done){return state.o.onCompleted()}var currentValue=currentItem.value;isPromise(currentValue)&&(currentValue=observableFromPromise(currentValue));var d=new SingleAssignmentDisposable;state.subscription.setDisposable(d);d.setDisposable(currentValue.subscribe(new InnerObserver(state,recurse)))}ConcatEnumerableObservable.prototype.subscribeCore=function(o){var subscription=new SerialDisposable;var state={isDisposed:false,o:o,subscription:subscription,e:this.sources[$iterator$]()};var cancelable=currentThreadScheduler.scheduleRecursive(state,scheduleMethod);return new NAryDisposable([subscription,cancelable,new IsDisposedDisposable(state)])};function InnerObserver(state,recurse){this._state=state;this._recurse=recurse;AbstractObserver.call(this)}inherits(InnerObserver,AbstractObserver);InnerObserver.prototype.next=function(x){this._state.o.onNext(x)};InnerObserver.prototype.error=function(e){this._state.o.onError(e)};InnerObserver.prototype.completed=function(){this._recurse(this._state)};return ConcatEnumerableObservable}(ObservableBase);Enumerable.prototype.concat=function(){return new ConcatEnumerableObservable(this)};var CatchErrorObservable=function(__super__){function CatchErrorObservable(sources){this.sources=sources;__super__.call(this)}inherits(CatchErrorObservable,__super__);function scheduleMethod(state,recurse){if(state.isDisposed){return}var currentItem=tryCatch(state.e.next).call(state.e);if(currentItem===errorObj){return state.o.onError(currentItem.e)}if(currentItem.done){return state.lastError!==null?state.o.onError(state.lastError):state.o.onCompleted()}var currentValue=currentItem.value;isPromise(currentValue)&&(currentValue=observableFromPromise(currentValue));var d=new SingleAssignmentDisposable;state.subscription.setDisposable(d);d.setDisposable(currentValue.subscribe(new InnerObserver(state,recurse)))}CatchErrorObservable.prototype.subscribeCore=function(o){var subscription=new SerialDisposable;var state={isDisposed:false,e:this.sources[$iterator$](),subscription:subscription,lastError:null,o:o};var cancelable=currentThreadScheduler.scheduleRecursive(state,scheduleMethod);return new NAryDisposable([subscription,cancelable,new IsDisposedDisposable(state)])};function InnerObserver(state,recurse){this._state=state;this._recurse=recurse;AbstractObserver.call(this)}inherits(InnerObserver,AbstractObserver);InnerObserver.prototype.next=function(x){this._state.o.onNext(x)};InnerObserver.prototype.error=function(e){this._state.lastError=e;this._recurse(this._state)};InnerObserver.prototype.completed=function(){this._state.o.onCompleted()};return CatchErrorObservable}(ObservableBase);Enumerable.prototype.catchError=function(){return new CatchErrorObservable(this)};var RepeatEnumerable=function(__super__){inherits(RepeatEnumerable,__super__);function RepeatEnumerable(v,c){this.v=v;this.c=c==null?-1:c}RepeatEnumerable.prototype[$iterator$]=function(){return new RepeatEnumerator(this)};function RepeatEnumerator(p){this.v=p.v;this.l=p.c}RepeatEnumerator.prototype.next=function(){if(this.l===0){return doneEnumerator}if(this.l>0){this.l--}return{done:false,value:this.v}};return RepeatEnumerable}(Enumerable);var enumerableRepeat=Enumerable.repeat=function(value,repeatCount){return new RepeatEnumerable(value,repeatCount)};var OfEnumerable=function(__super__){inherits(OfEnumerable,__super__);function OfEnumerable(s,fn,thisArg){this.s=s;this.fn=fn?bindCallback(fn,thisArg,3):null}OfEnumerable.prototype[$iterator$]=function(){return new OfEnumerator(this)};function OfEnumerator(p){this.i=-1;this.s=p.s;this.l=this.s.length;this.fn=p.fn}OfEnumerator.prototype.next=function(){return++this.i<this.l?{done:false,value:!this.fn?this.s[this.i]:this.fn(this.s[this.i],this.i,this.s)}:doneEnumerator};return OfEnumerable}(Enumerable);var enumerableOf=Enumerable.of=function(source,selector,thisArg){return new OfEnumerable(source,selector,thisArg)};var ToArrayObservable=function(__super__){inherits(ToArrayObservable,__super__);function ToArrayObservable(source){this.source=source;__super__.call(this)}ToArrayObservable.prototype.subscribeCore=function(o){return this.source.subscribe(new InnerObserver(o))};inherits(InnerObserver,AbstractObserver);function InnerObserver(o){this.o=o;this.a=[];AbstractObserver.call(this)}InnerObserver.prototype.next=function(x){this.a.push(x)};InnerObserver.prototype.error=function(e){this.o.onError(e)};InnerObserver.prototype.completed=function(){this.o.onNext(this.a);this.o.onCompleted()};return ToArrayObservable}(ObservableBase);observableProto.toArray=function(){return new ToArrayObservable(this)};Observable.create=function(subscribe,parent){return new AnonymousObservable(subscribe,parent)};var Defer=function(__super__){inherits(Defer,__super__);function Defer(factory){this._f=factory;__super__.call(this)}Defer.prototype.subscribeCore=function(o){var result=tryCatch(this._f)();if(result===errorObj){return observableThrow(result.e).subscribe(o)}isPromise(result)&&(result=observableFromPromise(result));return result.subscribe(o)};return Defer}(ObservableBase);var observableDefer=Observable.defer=function(observableFactory){return new Defer(observableFactory)};var EmptyObservable=function(__super__){inherits(EmptyObservable,__super__);function EmptyObservable(scheduler){this.scheduler=scheduler;__super__.call(this)}EmptyObservable.prototype.subscribeCore=function(observer){var sink=new EmptySink(observer,this.scheduler);return sink.run()};function EmptySink(observer,scheduler){this.observer=observer;this.scheduler=scheduler}function scheduleItem(s,state){state.onCompleted();return disposableEmpty}EmptySink.prototype.run=function(){var state=this.observer;return this.scheduler===immediateScheduler?scheduleItem(null,state):this.scheduler.schedule(state,scheduleItem)};return EmptyObservable}(ObservableBase);var EMPTY_OBSERVABLE=new EmptyObservable(immediateScheduler);var observableEmpty=Observable.empty=function(scheduler){isScheduler(scheduler)||(scheduler=immediateScheduler);return scheduler===immediateScheduler?EMPTY_OBSERVABLE:new EmptyObservable(scheduler)};var FromObservable=function(__super__){inherits(FromObservable,__super__);function FromObservable(iterable,fn,scheduler){this._iterable=iterable;this._fn=fn;this._scheduler=scheduler;__super__.call(this)}function createScheduleMethod(o,it,fn){return function loopRecursive(i,recurse){var next=tryCatch(it.next).call(it);if(next===errorObj){return o.onError(next.e)}if(next.done){return o.onCompleted()}var result=next.value;if(isFunction(fn)){result=tryCatch(fn)(result,i);if(result===errorObj){return o.onError(result.e)}}o.onNext(result);recurse(i+1)}}FromObservable.prototype.subscribeCore=function(o){var list=Object(this._iterable),it=getIterable(list);return this._scheduler.scheduleRecursive(0,createScheduleMethod(o,it,this._fn))};return FromObservable}(ObservableBase);var maxSafeInteger=Math.pow(2,53)-1;function StringIterable(s){this._s=s}StringIterable.prototype[$iterator$]=function(){return new StringIterator(this._s)};function StringIterator(s){this._s=s;this._l=s.length;this._i=0}StringIterator.prototype[$iterator$]=function(){return this};StringIterator.prototype.next=function(){return this._i<this._l?{done:false,value:this._s.charAt(this._i++)}:doneEnumerator};function ArrayIterable(a){this._a=a}ArrayIterable.prototype[$iterator$]=function(){return new ArrayIterator(this._a)};function ArrayIterator(a){this._a=a;this._l=toLength(a);this._i=0}ArrayIterator.prototype[$iterator$]=function(){return this};ArrayIterator.prototype.next=function(){return this._i<this._l?{done:false,value:this._a[this._i++]}:doneEnumerator};function numberIsFinite(value){return typeof value==="number"&&root.isFinite(value)}function isNan(n){return n!==n}function getIterable(o){var i=o[$iterator$],it;if(!i&&typeof o==="string"){it=new StringIterable(o);return it[$iterator$]()}if(!i&&o.length!==undefined){it=new ArrayIterable(o);return it[$iterator$]()}if(!i){throw new TypeError("Object is not iterable")}return o[$iterator$]()}function sign(value){var number=+value;if(number===0){return number}if(isNaN(number)){return number}return number<0?-1:1}function toLength(o){var len=+o.length;if(isNaN(len)){return 0}if(len===0||!numberIsFinite(len)){return len}len=sign(len)*Math.floor(Math.abs(len));if(len<=0){return 0}if(len>maxSafeInteger){return maxSafeInteger}return len}var observableFrom=Observable.from=function(iterable,mapFn,thisArg,scheduler){if(iterable==null){throw new Error("iterable cannot be null.")}if(mapFn&&!isFunction(mapFn)){throw new Error("mapFn when provided must be a function")}if(mapFn){var mapper=bindCallback(mapFn,thisArg,2)}isScheduler(scheduler)||(scheduler=currentThreadScheduler);return new FromObservable(iterable,mapper,scheduler)};var FromArrayObservable=function(__super__){inherits(FromArrayObservable,__super__);function FromArrayObservable(args,scheduler){this._args=args;this._scheduler=scheduler;__super__.call(this)}function scheduleMethod(o,args){var len=args.length;return function loopRecursive(i,recurse){if(i<len){o.onNext(args[i]);recurse(i+1)}else{o.onCompleted()}}}FromArrayObservable.prototype.subscribeCore=function(o){return this._scheduler.scheduleRecursive(0,scheduleMethod(o,this._args))};return FromArrayObservable}(ObservableBase);var observableFromArray=Observable.fromArray=function(array,scheduler){isScheduler(scheduler)||(scheduler=currentThreadScheduler);return new FromArrayObservable(array,scheduler)};var NeverObservable=function(__super__){inherits(NeverObservable,__super__);function NeverObservable(){__super__.call(this)}NeverObservable.prototype.subscribeCore=function(observer){return disposableEmpty};return NeverObservable}(ObservableBase);var NEVER_OBSERVABLE=new NeverObservable;var observableNever=Observable.never=function(){return NEVER_OBSERVABLE};function observableOf(scheduler,array){isScheduler(scheduler)||(scheduler=currentThreadScheduler);return new FromArrayObservable(array,scheduler)}Observable.of=function(){var len=arguments.length,args=new Array(len);for(var i=0;i<len;i++){args[i]=arguments[i]}return new FromArrayObservable(args,currentThreadScheduler)};Observable.ofWithScheduler=function(scheduler){var len=arguments.length,args=new Array(len-1);for(var i=1;i<len;i++){args[i-1]=arguments[i]}return new FromArrayObservable(args,scheduler)};var PairsObservable=function(__super__){inherits(PairsObservable,__super__);function PairsObservable(o,scheduler){this._o=o;this._keys=Object.keys(o);this._scheduler=scheduler;__super__.call(this)}function scheduleMethod(o,obj,keys){return function loopRecursive(i,recurse){if(i<keys.length){var key=keys[i];o.onNext([key,obj[key]]);recurse(i+1)}else{o.onCompleted()}}}PairsObservable.prototype.subscribeCore=function(o){return this._scheduler.scheduleRecursive(0,scheduleMethod(o,this._o,this._keys))};return PairsObservable}(ObservableBase);Observable.pairs=function(obj,scheduler){scheduler||(scheduler=currentThreadScheduler);return new PairsObservable(obj,scheduler)};var RangeObservable=function(__super__){inherits(RangeObservable,__super__);function RangeObservable(start,count,scheduler){this.start=start;this.rangeCount=count;this.scheduler=scheduler;__super__.call(this)}function loopRecursive(start,count,o){return function loop(i,recurse){if(i<count){o.onNext(start+i);recurse(i+1)}else{o.onCompleted()}}}RangeObservable.prototype.subscribeCore=function(o){return this.scheduler.scheduleRecursive(0,loopRecursive(this.start,this.rangeCount,o))};return RangeObservable}(ObservableBase);Observable.range=function(start,count,scheduler){isScheduler(scheduler)||(scheduler=currentThreadScheduler);return new RangeObservable(start,count,scheduler)};var RepeatObservable=function(__super__){inherits(RepeatObservable,__super__);function RepeatObservable(value,repeatCount,scheduler){this.value=value;this.repeatCount=repeatCount==null?-1:repeatCount;this.scheduler=scheduler;__super__.call(this)}RepeatObservable.prototype.subscribeCore=function(observer){var sink=new RepeatSink(observer,this);return sink.run()};return RepeatObservable}(ObservableBase);function RepeatSink(observer,parent){this.observer=observer;this.parent=parent}RepeatSink.prototype.run=function(){var observer=this.observer,value=this.parent.value;function loopRecursive(i,recurse){if(i===-1||i>0){observer.onNext(value);i>0&&i--}if(i===0){return observer.onCompleted()}recurse(i)}return this.parent.scheduler.scheduleRecursive(this.parent.repeatCount,loopRecursive)};Observable.repeat=function(value,repeatCount,scheduler){isScheduler(scheduler)||(scheduler=currentThreadScheduler);return new RepeatObservable(value,repeatCount,scheduler)};var JustObservable=function(__super__){inherits(JustObservable,__super__);function JustObservable(value,scheduler){this._value=value;this._scheduler=scheduler;__super__.call(this)}JustObservable.prototype.subscribeCore=function(o){var state=[this._value,o];return this._scheduler===immediateScheduler?scheduleItem(null,state):this._scheduler.schedule(state,scheduleItem)};function scheduleItem(s,state){var value=state[0],observer=state[1];observer.onNext(value);observer.onCompleted();return disposableEmpty}return JustObservable}(ObservableBase);var observableReturn=Observable["return"]=Observable.just=function(value,scheduler){isScheduler(scheduler)||(scheduler=immediateScheduler);return new JustObservable(value,scheduler)};var ThrowObservable=function(__super__){inherits(ThrowObservable,__super__);function ThrowObservable(error,scheduler){this._error=error;this._scheduler=scheduler;__super__.call(this)}ThrowObservable.prototype.subscribeCore=function(o){var state=[this._error,o];return this._scheduler===immediateScheduler?scheduleItem(null,state):this._scheduler.schedule(state,scheduleItem)};function scheduleItem(s,state){var e=state[0],o=state[1];o.onError(e);return disposableEmpty}return ThrowObservable}(ObservableBase);var observableThrow=Observable["throw"]=function(error,scheduler){isScheduler(scheduler)||(scheduler=immediateScheduler);return new ThrowObservable(error,scheduler)};var CatchObservable=function(__super__){inherits(CatchObservable,__super__);function CatchObservable(source,fn){this.source=source;this._fn=fn;__super__.call(this)}CatchObservable.prototype.subscribeCore=function(o){var d1=new SingleAssignmentDisposable,subscription=new SerialDisposable;subscription.setDisposable(d1);d1.setDisposable(this.source.subscribe(new CatchObserver(o,subscription,this._fn)));return subscription};return CatchObservable}(ObservableBase);var CatchObserver=function(__super__){inherits(CatchObserver,__super__);function CatchObserver(o,s,fn){this._o=o;this._s=s;this._fn=fn;__super__.call(this)}CatchObserver.prototype.next=function(x){this._o.onNext(x)};CatchObserver.prototype.completed=function(){return this._o.onCompleted()};CatchObserver.prototype.error=function(e){var result=tryCatch(this._fn)(e);if(result===errorObj){return this._o.onError(result.e)}isPromise(result)&&(result=observableFromPromise(result));var d=new SingleAssignmentDisposable;this._s.setDisposable(d);d.setDisposable(result.subscribe(this._o))};return CatchObserver}(AbstractObserver);observableProto["catch"]=function(handlerOrSecond){return isFunction(handlerOrSecond)?new CatchObservable(this,handlerOrSecond):observableCatch([this,handlerOrSecond])};var observableCatch=Observable["catch"]=function(){var items;if(Array.isArray(arguments[0])){items=arguments[0]}else{var len=arguments.length;items=new Array(len);for(var i=0;i<len;i++){items[i]=arguments[i]}}return enumerableOf(items).catchError()};observableProto.combineLatest=function(){var len=arguments.length,args=new Array(len);for(var i=0;i<len;i++){args[i]=arguments[i]}if(Array.isArray(args[0])){args[0].unshift(this)}else{args.unshift(this)}return combineLatest.apply(this,args)};function falseFactory(){return false}function argumentsToArray(){var len=arguments.length,args=new Array(len);for(var i=0;i<len;i++){args[i]=arguments[i]}return args}var CombineLatestObservable=function(__super__){inherits(CombineLatestObservable,__super__);function CombineLatestObservable(params,cb){this._params=params;this._cb=cb;__super__.call(this)}CombineLatestObservable.prototype.subscribeCore=function(observer){var len=this._params.length,subscriptions=new Array(len);var state={hasValue:arrayInitialize(len,falseFactory),hasValueAll:false,isDone:arrayInitialize(len,falseFactory),values:new Array(len)};for(var i=0;i<len;i++){var source=this._params[i],sad=new SingleAssignmentDisposable;subscriptions[i]=sad;isPromise(source)&&(source=observableFromPromise(source));sad.setDisposable(source.subscribe(new CombineLatestObserver(observer,i,this._cb,state)))}return new NAryDisposable(subscriptions)};return CombineLatestObservable}(ObservableBase);var CombineLatestObserver=function(__super__){inherits(CombineLatestObserver,__super__);function CombineLatestObserver(o,i,cb,state){this._o=o;this._i=i;this._cb=cb;this._state=state;__super__.call(this)}function notTheSame(i){return function(x,j){return j!==i}}CombineLatestObserver.prototype.next=function(x){this._state.values[this._i]=x;this._state.hasValue[this._i]=true;if(this._state.hasValueAll||(this._state.hasValueAll=this._state.hasValue.every(identity))){var res=tryCatch(this._cb).apply(null,this._state.values);if(res===errorObj){return this._o.onError(res.e)}this._o.onNext(res)}else if(this._state.isDone.filter(notTheSame(this._i)).every(identity)){this._o.onCompleted()}};CombineLatestObserver.prototype.error=function(e){this._o.onError(e)};CombineLatestObserver.prototype.completed=function(){this._state.isDone[this._i]=true;this._state.isDone.every(identity)&&this._o.onCompleted()};return CombineLatestObserver}(AbstractObserver);var combineLatest=Observable.combineLatest=function(){var len=arguments.length,args=new Array(len);for(var i=0;i<len;i++){args[i]=arguments[i]}var resultSelector=isFunction(args[len-1])?args.pop():argumentsToArray;Array.isArray(args[0])&&(args=args[0]);return new CombineLatestObservable(args,resultSelector)};observableProto.concat=function(){for(var args=[],i=0,len=arguments.length;i<len;i++){args.push(arguments[i])}args.unshift(this);return observableConcat.apply(null,args)};var ConcatObserver=function(__super__){inherits(ConcatObserver,__super__);function ConcatObserver(s,fn){this._s=s;this._fn=fn;__super__.call(this)}ConcatObserver.prototype.next=function(x){this._s.o.onNext(x)};ConcatObserver.prototype.error=function(e){this._s.o.onError(e)};ConcatObserver.prototype.completed=function(){this._s.i++;this._fn(this._s)};return ConcatObserver}(AbstractObserver);var ConcatObservable=function(__super__){inherits(ConcatObservable,__super__);function ConcatObservable(sources){this._sources=sources;__super__.call(this)}function scheduleRecursive(state,recurse){if(state.disposable.isDisposed){return}if(state.i===state.sources.length){return state.o.onCompleted()}var currentValue=state.sources[state.i];isPromise(currentValue)&&(currentValue=observableFromPromise(currentValue));var d=new SingleAssignmentDisposable;state.subscription.setDisposable(d);d.setDisposable(currentValue.subscribe(new ConcatObserver(state,recurse)))}ConcatObservable.prototype.subscribeCore=function(o){var subscription=new SerialDisposable;var disposable=disposableCreate(noop);var state={o:o,i:0,subscription:subscription,disposable:disposable,sources:this._sources};var cancelable=immediateScheduler.scheduleRecursive(state,scheduleRecursive);return new NAryDisposable([subscription,disposable,cancelable])};return ConcatObservable}(ObservableBase);var observableConcat=Observable.concat=function(){var args;if(Array.isArray(arguments[0])){args=arguments[0]}else{args=new Array(arguments.length);for(var i=0,len=arguments.length;i<len;i++){args[i]=arguments[i]}}return new ConcatObservable(args)};observableProto.concatAll=function(){return this.merge(1)};var MergeObservable=function(__super__){inherits(MergeObservable,__super__);function MergeObservable(source,maxConcurrent){this.source=source;this.maxConcurrent=maxConcurrent;__super__.call(this)}MergeObservable.prototype.subscribeCore=function(observer){var g=new CompositeDisposable;g.add(this.source.subscribe(new MergeObserver(observer,this.maxConcurrent,g)));return g};return MergeObservable}(ObservableBase);var MergeObserver=function(__super__){function MergeObserver(o,max,g){this.o=o;this.max=max;this.g=g;this.done=false;this.q=[];this.activeCount=0;__super__.call(this)}inherits(MergeObserver,__super__);MergeObserver.prototype.handleSubscribe=function(xs){var sad=new SingleAssignmentDisposable;this.g.add(sad);isPromise(xs)&&(xs=observableFromPromise(xs));sad.setDisposable(xs.subscribe(new InnerObserver(this,sad)))};MergeObserver.prototype.next=function(innerSource){if(this.activeCount<this.max){this.activeCount++;this.handleSubscribe(innerSource)}else{this.q.push(innerSource)}};MergeObserver.prototype.error=function(e){this.o.onError(e)};MergeObserver.prototype.completed=function(){this.done=true;this.activeCount===0&&this.o.onCompleted()};function InnerObserver(parent,sad){this.parent=parent;this.sad=sad;__super__.call(this)}inherits(InnerObserver,__super__);InnerObserver.prototype.next=function(x){this.parent.o.onNext(x)};InnerObserver.prototype.error=function(e){this.parent.o.onError(e)};InnerObserver.prototype.completed=function(){this.parent.g.remove(this.sad);if(this.parent.q.length>0){this.parent.handleSubscribe(this.parent.q.shift())}else{this.parent.activeCount--;this.parent.done&&this.parent.activeCount===0&&this.parent.o.onCompleted()}};return MergeObserver}(AbstractObserver);observableProto.merge=function(maxConcurrentOrOther){return typeof maxConcurrentOrOther!=="number"?observableMerge(this,maxConcurrentOrOther):new MergeObservable(this,maxConcurrentOrOther)};var observableMerge=Observable.merge=function(){var scheduler,sources=[],i,len=arguments.length;if(!arguments[0]){scheduler=immediateScheduler;for(i=1;i<len;i++){sources.push(arguments[i])}}else if(isScheduler(arguments[0])){scheduler=arguments[0];for(i=1;i<len;i++){sources.push(arguments[i])}}else{scheduler=immediateScheduler;for(i=0;i<len;i++){sources.push(arguments[i])}}if(Array.isArray(sources[0])){sources=sources[0]}return observableOf(scheduler,sources).mergeAll()};var CompositeError=Rx.CompositeError=function(errors){this.innerErrors=errors;this.message="This contains multiple errors. Check the innerErrors";Error.call(this)};CompositeError.prototype=Object.create(Error.prototype);CompositeError.prototype.name="CompositeError";var MergeDelayErrorObservable=function(__super__){inherits(MergeDelayErrorObservable,__super__);function MergeDelayErrorObservable(source){this.source=source;__super__.call(this)}MergeDelayErrorObservable.prototype.subscribeCore=function(o){var group=new CompositeDisposable,m=new SingleAssignmentDisposable,state={isStopped:false,errors:[],o:o};group.add(m);m.setDisposable(this.source.subscribe(new MergeDelayErrorObserver(group,state)));return group};return MergeDelayErrorObservable}(ObservableBase);var MergeDelayErrorObserver=function(__super__){inherits(MergeDelayErrorObserver,__super__);function MergeDelayErrorObserver(group,state){this._group=group;this._state=state;__super__.call(this)}function setCompletion(o,errors){if(errors.length===0){o.onCompleted()}else if(errors.length===1){o.onError(errors[0])}else{o.onError(new CompositeError(errors))}}MergeDelayErrorObserver.prototype.next=function(x){var inner=new SingleAssignmentDisposable;this._group.add(inner);isPromise(x)&&(x=observableFromPromise(x));inner.setDisposable(x.subscribe(new InnerObserver(inner,this._group,this._state)))};MergeDelayErrorObserver.prototype.error=function(e){this._state.errors.push(e);this._state.isStopped=true;this._group.length===1&&setCompletion(this._state.o,this._state.errors)};MergeDelayErrorObserver.prototype.completed=function(){this._state.isStopped=true;this._group.length===1&&setCompletion(this._state.o,this._state.errors)};inherits(InnerObserver,__super__);function InnerObserver(inner,group,state){this._inner=inner;this._group=group;this._state=state;__super__.call(this)}InnerObserver.prototype.next=function(x){this._state.o.onNext(x)};InnerObserver.prototype.error=function(e){this._state.errors.push(e);this._group.remove(this._inner);this._state.isStopped&&this._group.length===1&&setCompletion(this._state.o,this._state.errors)};InnerObserver.prototype.completed=function(){this._group.remove(this._inner);this._state.isStopped&&this._group.length===1&&setCompletion(this._state.o,this._state.errors)};return MergeDelayErrorObserver}(AbstractObserver);Observable.mergeDelayError=function(){var args;if(Array.isArray(arguments[0])){args=arguments[0]}else{var len=arguments.length;args=new Array(len);for(var i=0;i<len;i++){args[i]=arguments[i]}}var source=observableOf(null,args);return new MergeDelayErrorObservable(source)};var MergeAllObservable=function(__super__){inherits(MergeAllObservable,__super__);function MergeAllObservable(source){this.source=source;__super__.call(this)}MergeAllObservable.prototype.subscribeCore=function(o){var g=new CompositeDisposable,m=new SingleAssignmentDisposable;g.add(m);m.setDisposable(this.source.subscribe(new MergeAllObserver(o,g)));return g};return MergeAllObservable}(ObservableBase);var MergeAllObserver=function(__super__){function MergeAllObserver(o,g){this.o=o;this.g=g;this.done=false;__super__.call(this)}inherits(MergeAllObserver,__super__);MergeAllObserver.prototype.next=function(innerSource){var sad=new SingleAssignmentDisposable;this.g.add(sad);isPromise(innerSource)&&(innerSource=observableFromPromise(innerSource));sad.setDisposable(innerSource.subscribe(new InnerObserver(this,sad)))};MergeAllObserver.prototype.error=function(e){this.o.onError(e)};MergeAllObserver.prototype.completed=function(){this.done=true;this.g.length===1&&this.o.onCompleted()};function InnerObserver(parent,sad){this.parent=parent;this.sad=sad;__super__.call(this)}inherits(InnerObserver,__super__);InnerObserver.prototype.next=function(x){this.parent.o.onNext(x)};InnerObserver.prototype.error=function(e){this.parent.o.onError(e)};InnerObserver.prototype.completed=function(){
this.parent.g.remove(this.sad);this.parent.done&&this.parent.g.length===1&&this.parent.o.onCompleted()};return MergeAllObserver}(AbstractObserver);observableProto.mergeAll=function(){return new MergeAllObservable(this)};var SkipUntilObservable=function(__super__){inherits(SkipUntilObservable,__super__);function SkipUntilObservable(source,other){this._s=source;this._o=isPromise(other)?observableFromPromise(other):other;this._open=false;__super__.call(this)}SkipUntilObservable.prototype.subscribeCore=function(o){var leftSubscription=new SingleAssignmentDisposable;leftSubscription.setDisposable(this._s.subscribe(new SkipUntilSourceObserver(o,this)));isPromise(this._o)&&(this._o=observableFromPromise(this._o));var rightSubscription=new SingleAssignmentDisposable;rightSubscription.setDisposable(this._o.subscribe(new SkipUntilOtherObserver(o,this,rightSubscription)));return new BinaryDisposable(leftSubscription,rightSubscription)};return SkipUntilObservable}(ObservableBase);var SkipUntilSourceObserver=function(__super__){inherits(SkipUntilSourceObserver,__super__);function SkipUntilSourceObserver(o,p){this._o=o;this._p=p;__super__.call(this)}SkipUntilSourceObserver.prototype.next=function(x){this._p._open&&this._o.onNext(x)};SkipUntilSourceObserver.prototype.error=function(err){this._o.onError(err)};SkipUntilSourceObserver.prototype.onCompleted=function(){this._p._open&&this._o.onCompleted()};return SkipUntilSourceObserver}(AbstractObserver);var SkipUntilOtherObserver=function(__super__){inherits(SkipUntilOtherObserver,__super__);function SkipUntilOtherObserver(o,p,r){this._o=o;this._p=p;this._r=r;__super__.call(this)}SkipUntilOtherObserver.prototype.next=function(){this._p._open=true;this._r.dispose()};SkipUntilOtherObserver.prototype.error=function(err){this._o.onError(err)};SkipUntilOtherObserver.prototype.onCompleted=function(){this._r.dispose()};return SkipUntilOtherObserver}(AbstractObserver);observableProto.skipUntil=function(other){return new SkipUntilObservable(this,other)};var SwitchObservable=function(__super__){inherits(SwitchObservable,__super__);function SwitchObservable(source){this.source=source;__super__.call(this)}SwitchObservable.prototype.subscribeCore=function(o){var inner=new SerialDisposable,s=this.source.subscribe(new SwitchObserver(o,inner));return new BinaryDisposable(s,inner)};inherits(SwitchObserver,AbstractObserver);function SwitchObserver(o,inner){this.o=o;this.inner=inner;this.stopped=false;this.latest=0;this.hasLatest=false;AbstractObserver.call(this)}SwitchObserver.prototype.next=function(innerSource){var d=new SingleAssignmentDisposable,id=++this.latest;this.hasLatest=true;this.inner.setDisposable(d);isPromise(innerSource)&&(innerSource=observableFromPromise(innerSource));d.setDisposable(innerSource.subscribe(new InnerObserver(this,id)))};SwitchObserver.prototype.error=function(e){this.o.onError(e)};SwitchObserver.prototype.completed=function(){this.stopped=true;!this.hasLatest&&this.o.onCompleted()};inherits(InnerObserver,AbstractObserver);function InnerObserver(parent,id){this.parent=parent;this.id=id;AbstractObserver.call(this)}InnerObserver.prototype.next=function(x){this.parent.latest===this.id&&this.parent.o.onNext(x)};InnerObserver.prototype.error=function(e){this.parent.latest===this.id&&this.parent.o.onError(e)};InnerObserver.prototype.completed=function(){if(this.parent.latest===this.id){this.parent.hasLatest=false;this.parent.stopped&&this.parent.o.onCompleted()}};return SwitchObservable}(ObservableBase);observableProto["switch"]=observableProto.switchLatest=function(){return new SwitchObservable(this)};var TakeUntilObservable=function(__super__){inherits(TakeUntilObservable,__super__);function TakeUntilObservable(source,other){this.source=source;this.other=isPromise(other)?observableFromPromise(other):other;__super__.call(this)}TakeUntilObservable.prototype.subscribeCore=function(o){return new BinaryDisposable(this.source.subscribe(o),this.other.subscribe(new TakeUntilObserver(o)))};return TakeUntilObservable}(ObservableBase);var TakeUntilObserver=function(__super__){inherits(TakeUntilObserver,__super__);function TakeUntilObserver(o){this._o=o;__super__.call(this)}TakeUntilObserver.prototype.next=function(){this._o.onCompleted()};TakeUntilObserver.prototype.error=function(err){this._o.onError(err)};TakeUntilObserver.prototype.onCompleted=noop;return TakeUntilObserver}(AbstractObserver);observableProto.takeUntil=function(other){return new TakeUntilObservable(this,other)};function falseFactory(){return false}function argumentsToArray(){var len=arguments.length,args=new Array(len);for(var i=0;i<len;i++){args[i]=arguments[i]}return args}var WithLatestFromObservable=function(__super__){inherits(WithLatestFromObservable,__super__);function WithLatestFromObservable(source,sources,resultSelector){this._s=source;this._ss=sources;this._cb=resultSelector;__super__.call(this)}WithLatestFromObservable.prototype.subscribeCore=function(o){var len=this._ss.length;var state={hasValue:arrayInitialize(len,falseFactory),hasValueAll:false,values:new Array(len)};var n=this._ss.length,subscriptions=new Array(n+1);for(var i=0;i<n;i++){var other=this._ss[i],sad=new SingleAssignmentDisposable;isPromise(other)&&(other=observableFromPromise(other));sad.setDisposable(other.subscribe(new WithLatestFromOtherObserver(o,i,state)));subscriptions[i]=sad}var outerSad=new SingleAssignmentDisposable;outerSad.setDisposable(this._s.subscribe(new WithLatestFromSourceObserver(o,this._cb,state)));subscriptions[n]=outerSad;return new NAryDisposable(subscriptions)};return WithLatestFromObservable}(ObservableBase);var WithLatestFromOtherObserver=function(__super__){inherits(WithLatestFromOtherObserver,__super__);function WithLatestFromOtherObserver(o,i,state){this._o=o;this._i=i;this._state=state;__super__.call(this)}WithLatestFromOtherObserver.prototype.next=function(x){this._state.values[this._i]=x;this._state.hasValue[this._i]=true;this._state.hasValueAll=this._state.hasValue.every(identity)};WithLatestFromOtherObserver.prototype.error=function(e){this._o.onError(e)};WithLatestFromOtherObserver.prototype.completed=noop;return WithLatestFromOtherObserver}(AbstractObserver);var WithLatestFromSourceObserver=function(__super__){inherits(WithLatestFromSourceObserver,__super__);function WithLatestFromSourceObserver(o,cb,state){this._o=o;this._cb=cb;this._state=state;__super__.call(this)}WithLatestFromSourceObserver.prototype.next=function(x){var allValues=[x].concat(this._state.values);if(!this._state.hasValueAll){return}var res=tryCatch(this._cb).apply(null,allValues);if(res===errorObj){return this._o.onError(res.e)}this._o.onNext(res)};WithLatestFromSourceObserver.prototype.error=function(e){this._o.onError(e)};WithLatestFromSourceObserver.prototype.completed=function(){this._o.onCompleted()};return WithLatestFromSourceObserver}(AbstractObserver);observableProto.withLatestFrom=function(){if(arguments.length===0){throw new Error("invalid arguments")}var len=arguments.length,args=new Array(len);for(var i=0;i<len;i++){args[i]=arguments[i]}var resultSelector=isFunction(args[len-1])?args.pop():argumentsToArray;Array.isArray(args[0])&&(args=args[0]);return new WithLatestFromObservable(this,args,resultSelector)};function falseFactory(){return false}function emptyArrayFactory(){return[]}var ZipObservable=function(__super__){inherits(ZipObservable,__super__);function ZipObservable(sources,resultSelector){this._s=sources;this._cb=resultSelector;__super__.call(this)}ZipObservable.prototype.subscribeCore=function(observer){var n=this._s.length,subscriptions=new Array(n),done=arrayInitialize(n,falseFactory),q=arrayInitialize(n,emptyArrayFactory);for(var i=0;i<n;i++){var source=this._s[i],sad=new SingleAssignmentDisposable;subscriptions[i]=sad;isPromise(source)&&(source=observableFromPromise(source));sad.setDisposable(source.subscribe(new ZipObserver(observer,i,this,q,done)))}return new NAryDisposable(subscriptions)};return ZipObservable}(ObservableBase);var ZipObserver=function(__super__){inherits(ZipObserver,__super__);function ZipObserver(o,i,p,q,d){this._o=o;this._i=i;this._p=p;this._q=q;this._d=d;__super__.call(this)}function notEmpty(x){return x.length>0}function shiftEach(x){return x.shift()}function notTheSame(i){return function(x,j){return j!==i}}ZipObserver.prototype.next=function(x){this._q[this._i].push(x);if(this._q.every(notEmpty)){var queuedValues=this._q.map(shiftEach);var res=tryCatch(this._p._cb).apply(null,queuedValues);if(res===errorObj){return this._o.onError(res.e)}this._o.onNext(res)}else if(this._d.filter(notTheSame(this._i)).every(identity)){this._o.onCompleted()}};ZipObserver.prototype.error=function(e){this._o.onError(e)};ZipObserver.prototype.completed=function(){this._d[this._i]=true;this._d.every(identity)&&this._o.onCompleted()};return ZipObserver}(AbstractObserver);observableProto.zip=function(){if(arguments.length===0){throw new Error("invalid arguments")}var len=arguments.length,args=new Array(len);for(var i=0;i<len;i++){args[i]=arguments[i]}var resultSelector=isFunction(args[len-1])?args.pop():argumentsToArray;Array.isArray(args[0])&&(args=args[0]);var parent=this;args.unshift(parent);return new ZipObservable(args,resultSelector)};Observable.zip=function(){var len=arguments.length,args=new Array(len);for(var i=0;i<len;i++){args[i]=arguments[i]}if(Array.isArray(args[0])){args=isFunction(args[1])?args[0].concat(args[1]):args[0]}var first=args.shift();return first.zip.apply(first,args)};function falseFactory(){return false}function emptyArrayFactory(){return[]}function argumentsToArray(){var len=arguments.length,args=new Array(len);for(var i=0;i<len;i++){args[i]=arguments[i]}return args}var ZipIterableObservable=function(__super__){inherits(ZipIterableObservable,__super__);function ZipIterableObservable(sources,cb){this.sources=sources;this._cb=cb;__super__.call(this)}ZipIterableObservable.prototype.subscribeCore=function(o){var sources=this.sources,len=sources.length,subscriptions=new Array(len);var state={q:arrayInitialize(len,emptyArrayFactory),done:arrayInitialize(len,falseFactory),cb:this._cb,o:o};for(var i=0;i<len;i++){(function(i){var source=sources[i],sad=new SingleAssignmentDisposable;(isArrayLike(source)||isIterable(source))&&(source=observableFrom(source));subscriptions[i]=sad;sad.setDisposable(source.subscribe(new ZipIterableObserver(state,i)))})(i)}return new NAryDisposable(subscriptions)};return ZipIterableObservable}(ObservableBase);var ZipIterableObserver=function(__super__){inherits(ZipIterableObserver,__super__);function ZipIterableObserver(s,i){this._s=s;this._i=i;__super__.call(this)}function notEmpty(x){return x.length>0}function shiftEach(x){return x.shift()}function notTheSame(i){return function(x,j){return j!==i}}ZipIterableObserver.prototype.next=function(x){this._s.q[this._i].push(x);if(this._s.q.every(notEmpty)){var queuedValues=this._s.q.map(shiftEach),res=tryCatch(this._s.cb).apply(null,queuedValues);if(res===errorObj){return this._s.o.onError(res.e)}this._s.o.onNext(res)}else if(this._s.done.filter(notTheSame(this._i)).every(identity)){this._s.o.onCompleted()}};ZipIterableObserver.prototype.error=function(e){this._s.o.onError(e)};ZipIterableObserver.prototype.completed=function(){this._s.done[this._i]=true;this._s.done.every(identity)&&this._s.o.onCompleted()};return ZipIterableObserver}(AbstractObserver);observableProto.zipIterable=function(){if(arguments.length===0){throw new Error("invalid arguments")}var len=arguments.length,args=new Array(len);for(var i=0;i<len;i++){args[i]=arguments[i]}var resultSelector=isFunction(args[len-1])?args.pop():argumentsToArray;var parent=this;args.unshift(parent);return new ZipIterableObservable(args,resultSelector)};function asObservable(source){return function subscribe(o){return source.subscribe(o)}}observableProto.asObservable=function(){return new AnonymousObservable(asObservable(this),this)};var DematerializeObservable=function(__super__){inherits(DematerializeObservable,__super__);function DematerializeObservable(source){this.source=source;__super__.call(this)}DematerializeObservable.prototype.subscribeCore=function(o){return this.source.subscribe(new DematerializeObserver(o))};return DematerializeObservable}(ObservableBase);var DematerializeObserver=function(__super__){inherits(DematerializeObserver,__super__);function DematerializeObserver(o){this._o=o;__super__.call(this)}DematerializeObserver.prototype.next=function(x){x.accept(this._o)};DematerializeObserver.prototype.error=function(e){this._o.onError(e)};DematerializeObserver.prototype.completed=function(){this._o.onCompleted()};return DematerializeObserver}(AbstractObserver);observableProto.dematerialize=function(){return new DematerializeObservable(this)};var DistinctUntilChangedObservable=function(__super__){inherits(DistinctUntilChangedObservable,__super__);function DistinctUntilChangedObservable(source,keyFn,comparer){this.source=source;this.keyFn=keyFn;this.comparer=comparer;__super__.call(this)}DistinctUntilChangedObservable.prototype.subscribeCore=function(o){return this.source.subscribe(new DistinctUntilChangedObserver(o,this.keyFn,this.comparer))};return DistinctUntilChangedObservable}(ObservableBase);var DistinctUntilChangedObserver=function(__super__){inherits(DistinctUntilChangedObserver,__super__);function DistinctUntilChangedObserver(o,keyFn,comparer){this.o=o;this.keyFn=keyFn;this.comparer=comparer;this.hasCurrentKey=false;this.currentKey=null;__super__.call(this)}DistinctUntilChangedObserver.prototype.next=function(x){var key=x,comparerEquals;if(isFunction(this.keyFn)){key=tryCatch(this.keyFn)(x);if(key===errorObj){return this.o.onError(key.e)}}if(this.hasCurrentKey){comparerEquals=tryCatch(this.comparer)(this.currentKey,key);if(comparerEquals===errorObj){return this.o.onError(comparerEquals.e)}}if(!this.hasCurrentKey||!comparerEquals){this.hasCurrentKey=true;this.currentKey=key;this.o.onNext(x)}};DistinctUntilChangedObserver.prototype.error=function(e){this.o.onError(e)};DistinctUntilChangedObserver.prototype.completed=function(){this.o.onCompleted()};return DistinctUntilChangedObserver}(AbstractObserver);observableProto.distinctUntilChanged=function(keyFn,comparer){comparer||(comparer=defaultComparer);return new DistinctUntilChangedObservable(this,keyFn,comparer)};var TapObservable=function(__super__){inherits(TapObservable,__super__);function TapObservable(source,observerOrOnNext,onError,onCompleted){this.source=source;this._oN=observerOrOnNext;this._oE=onError;this._oC=onCompleted;__super__.call(this)}TapObservable.prototype.subscribeCore=function(o){return this.source.subscribe(new InnerObserver(o,this))};inherits(InnerObserver,AbstractObserver);function InnerObserver(o,p){this.o=o;this.t=!p._oN||isFunction(p._oN)?observerCreate(p._oN||noop,p._oE||noop,p._oC||noop):p._oN;this.isStopped=false;AbstractObserver.call(this)}InnerObserver.prototype.next=function(x){var res=tryCatch(this.t.onNext).call(this.t,x);if(res===errorObj){this.o.onError(res.e)}this.o.onNext(x)};InnerObserver.prototype.error=function(err){var res=tryCatch(this.t.onError).call(this.t,err);if(res===errorObj){return this.o.onError(res.e)}this.o.onError(err)};InnerObserver.prototype.completed=function(){var res=tryCatch(this.t.onCompleted).call(this.t);if(res===errorObj){return this.o.onError(res.e)}this.o.onCompleted()};return TapObservable}(ObservableBase);observableProto["do"]=observableProto.tap=observableProto.doAction=function(observerOrOnNext,onError,onCompleted){return new TapObservable(this,observerOrOnNext,onError,onCompleted)};observableProto.doOnNext=observableProto.tapOnNext=function(onNext,thisArg){return this.tap(typeof thisArg!=="undefined"?function(x){onNext.call(thisArg,x)}:onNext)};observableProto.doOnError=observableProto.tapOnError=function(onError,thisArg){return this.tap(noop,typeof thisArg!=="undefined"?function(e){onError.call(thisArg,e)}:onError)};observableProto.doOnCompleted=observableProto.tapOnCompleted=function(onCompleted,thisArg){return this.tap(noop,null,typeof thisArg!=="undefined"?function(){onCompleted.call(thisArg)}:onCompleted)};var FinallyObservable=function(__super__){inherits(FinallyObservable,__super__);function FinallyObservable(source,fn,thisArg){this.source=source;this._fn=bindCallback(fn,thisArg,0);__super__.call(this)}FinallyObservable.prototype.subscribeCore=function(o){var d=tryCatch(this.source.subscribe).call(this.source,o);if(d===errorObj){this._fn();thrower(d.e)}return new FinallyDisposable(d,this._fn)};function FinallyDisposable(s,fn){this.isDisposed=false;this._s=s;this._fn=fn}FinallyDisposable.prototype.dispose=function(){if(!this.isDisposed){var res=tryCatch(this._s.dispose).call(this._s);this._fn();res===errorObj&&thrower(res.e)}};return FinallyObservable}(ObservableBase);observableProto["finally"]=function(action,thisArg){return new FinallyObservable(this,action,thisArg)};var IgnoreElementsObservable=function(__super__){inherits(IgnoreElementsObservable,__super__);function IgnoreElementsObservable(source){this.source=source;__super__.call(this)}IgnoreElementsObservable.prototype.subscribeCore=function(o){return this.source.subscribe(new InnerObserver(o))};function InnerObserver(o){this.o=o;this.isStopped=false}InnerObserver.prototype.onNext=noop;InnerObserver.prototype.onError=function(err){if(!this.isStopped){this.isStopped=true;this.o.onError(err)}};InnerObserver.prototype.onCompleted=function(){if(!this.isStopped){this.isStopped=true;this.o.onCompleted()}};InnerObserver.prototype.dispose=function(){this.isStopped=true};InnerObserver.prototype.fail=function(e){if(!this.isStopped){this.isStopped=true;this.observer.onError(e);return true}return false};return IgnoreElementsObservable}(ObservableBase);observableProto.ignoreElements=function(){return new IgnoreElementsObservable(this)};var MaterializeObservable=function(__super__){inherits(MaterializeObservable,__super__);function MaterializeObservable(source,fn){this.source=source;__super__.call(this)}MaterializeObservable.prototype.subscribeCore=function(o){return this.source.subscribe(new MaterializeObserver(o))};return MaterializeObservable}(ObservableBase);var MaterializeObserver=function(__super__){inherits(MaterializeObserver,__super__);function MaterializeObserver(o){this._o=o;__super__.call(this)}MaterializeObserver.prototype.next=function(x){this._o.onNext(notificationCreateOnNext(x))};MaterializeObserver.prototype.error=function(e){this._o.onNext(notificationCreateOnError(e));this._o.onCompleted()};MaterializeObserver.prototype.completed=function(){this._o.onNext(notificationCreateOnCompleted());this._o.onCompleted()};return MaterializeObserver}(AbstractObserver);observableProto.materialize=function(){return new MaterializeObservable(this)};observableProto.repeat=function(repeatCount){return enumerableRepeat(this,repeatCount).concat()};observableProto.retry=function(retryCount){return enumerableRepeat(this,retryCount).catchError()};function repeat(value){return{"@@iterator":function(){return{next:function(){return{done:false,value:value}}}}}}var RetryWhenObservable=function(__super__){function createDisposable(state){return{isDisposed:false,dispose:function(){if(!this.isDisposed){this.isDisposed=true;state.isDisposed=true}}}}function RetryWhenObservable(source,notifier){this.source=source;this._notifier=notifier;__super__.call(this)}inherits(RetryWhenObservable,__super__);RetryWhenObservable.prototype.subscribeCore=function(o){var exceptions=new Subject,notifier=new Subject,handled=this._notifier(exceptions),notificationDisposable=handled.subscribe(notifier);var e=this.source["@@iterator"]();var state={isDisposed:false},lastError,subscription=new SerialDisposable;var cancelable=currentThreadScheduler.scheduleRecursive(null,function(_,recurse){if(state.isDisposed){return}var currentItem=e.next();if(currentItem.done){if(lastError){o.onError(lastError)}else{o.onCompleted()}return}var currentValue=currentItem.value;isPromise(currentValue)&&(currentValue=observableFromPromise(currentValue));var outer=new SingleAssignmentDisposable;var inner=new SingleAssignmentDisposable;subscription.setDisposable(new BinaryDisposable(inner,outer));outer.setDisposable(currentValue.subscribe(function(x){o.onNext(x)},function(exn){inner.setDisposable(notifier.subscribe(recurse,function(ex){o.onError(ex)},function(){o.onCompleted()}));exceptions.onNext(exn);outer.dispose()},function(){o.onCompleted()}))});return new NAryDisposable([notificationDisposable,subscription,cancelable,createDisposable(state)])};return RetryWhenObservable}(ObservableBase);observableProto.retryWhen=function(notifier){return new RetryWhenObservable(repeat(this),notifier)};function repeat(value){return{"@@iterator":function(){return{next:function(){return{done:false,value:value}}}}}}var RepeatWhenObservable=function(__super__){function createDisposable(state){return{isDisposed:false,dispose:function(){if(!this.isDisposed){this.isDisposed=true;state.isDisposed=true}}}}function RepeatWhenObservable(source,notifier){this.source=source;this._notifier=notifier;__super__.call(this)}inherits(RepeatWhenObservable,__super__);RepeatWhenObservable.prototype.subscribeCore=function(o){var completions=new Subject,notifier=new Subject,handled=this._notifier(completions),notificationDisposable=handled.subscribe(notifier);var e=this.source["@@iterator"]();var state={isDisposed:false},lastError,subscription=new SerialDisposable;var cancelable=currentThreadScheduler.scheduleRecursive(null,function(_,recurse){if(state.isDisposed){return}var currentItem=e.next();if(currentItem.done){if(lastError){o.onError(lastError)}else{o.onCompleted()}return}var currentValue=currentItem.value;isPromise(currentValue)&&(currentValue=observableFromPromise(currentValue));var outer=new SingleAssignmentDisposable;var inner=new SingleAssignmentDisposable;subscription.setDisposable(new BinaryDisposable(inner,outer));outer.setDisposable(currentValue.subscribe(function(x){o.onNext(x)},function(exn){o.onError(exn)},function(){inner.setDisposable(notifier.subscribe(recurse,function(ex){o.onError(ex)},function(){o.onCompleted()}));completions.onNext(null);outer.dispose()}))});return new NAryDisposable([notificationDisposable,subscription,cancelable,createDisposable(state)])};return RepeatWhenObservable}(ObservableBase);observableProto.repeatWhen=function(notifier){return new RepeatWhenObservable(repeat(this),notifier)};var ScanObservable=function(__super__){inherits(ScanObservable,__super__);function ScanObservable(source,accumulator,hasSeed,seed){this.source=source;this.accumulator=accumulator;this.hasSeed=hasSeed;this.seed=seed;__super__.call(this)}ScanObservable.prototype.subscribeCore=function(o){return this.source.subscribe(new ScanObserver(o,this))};return ScanObservable}(ObservableBase);var ScanObserver=function(__super__){inherits(ScanObserver,__super__);function ScanObserver(o,parent){this._o=o;this._p=parent;this._fn=parent.accumulator;this._hs=parent.hasSeed;this._s=parent.seed;this._ha=false;this._a=null;this._hv=false;this._i=0;__super__.call(this)}ScanObserver.prototype.next=function(x){!this._hv&&(this._hv=true);if(this._ha){this._a=tryCatch(this._fn)(this._a,x,this._i,this._p)}else{this._a=this._hs?tryCatch(this._fn)(this._s,x,this._i,this._p):x;this._ha=true}if(this._a===errorObj){return this._o.onError(this._a.e)}this._o.onNext(this._a);this._i++};ScanObserver.prototype.error=function(e){this._o.onError(e)};ScanObserver.prototype.completed=function(){!this._hv&&this._hs&&this._o.onNext(this._s);this._o.onCompleted()};return ScanObserver}(AbstractObserver);observableProto.scan=function(){var hasSeed=false,seed,accumulator=arguments[0];if(arguments.length===2){hasSeed=true;seed=arguments[1]}return new ScanObservable(this,accumulator,hasSeed,seed)};var SkipLastObservable=function(__super__){inherits(SkipLastObservable,__super__);function SkipLastObservable(source,c){this.source=source;this._c=c;__super__.call(this)}SkipLastObservable.prototype.subscribeCore=function(o){return this.source.subscribe(new SkipLastObserver(o,this._c))};return SkipLastObservable}(ObservableBase);var SkipLastObserver=function(__super__){inherits(SkipLastObserver,__super__);function SkipLastObserver(o,c){this._o=o;this._c=c;this._q=[];__super__.call(this)}SkipLastObserver.prototype.next=function(x){this._q.push(x);this._q.length>this._c&&this._o.onNext(this._q.shift())};SkipLastObserver.prototype.error=function(e){this._o.onError(e)};SkipLastObserver.prototype.completed=function(){this._o.onCompleted()};return SkipLastObserver}(AbstractObserver);observableProto.skipLast=function(count){if(count<0){throw new ArgumentOutOfRangeError}return new SkipLastObservable(this,count)};observableProto.startWith=function(){var values,scheduler,start=0;if(!!arguments.length&&isScheduler(arguments[0])){scheduler=arguments[0];start=1}else{scheduler=immediateScheduler}for(var args=[],i=start,len=arguments.length;i<len;i++){args.push(arguments[i])}return enumerableOf([observableFromArray(args,scheduler),this]).concat()};var TakeLastObserver=function(__super__){inherits(TakeLastObserver,__super__);function TakeLastObserver(o,c){this._o=o;this._c=c;this._q=[];__super__.call(this)}TakeLastObserver.prototype.next=function(x){this._q.push(x);this._q.length>this._c&&this._q.shift()};TakeLastObserver.prototype.error=function(e){this._o.onError(e)};TakeLastObserver.prototype.completed=function(){while(this._q.length>0){this._o.onNext(this._q.shift())}this._o.onCompleted()};return TakeLastObserver}(AbstractObserver);observableProto.takeLast=function(count){if(count<0){throw new ArgumentOutOfRangeError}var source=this;return new AnonymousObservable(function(o){return source.subscribe(new TakeLastObserver(o,count))},source)};observableProto.flatMapConcat=observableProto.concatMap=function(selector,resultSelector,thisArg){return new FlatMapObservable(this,selector,resultSelector,thisArg).merge(1)};var MapObservable=function(__super__){inherits(MapObservable,__super__);function MapObservable(source,selector,thisArg){this.source=source;this.selector=bindCallback(selector,thisArg,3);__super__.call(this)}function innerMap(selector,self){return function(x,i,o){return selector.call(this,self.selector(x,i,o),i,o)}}MapObservable.prototype.internalMap=function(selector,thisArg){return new MapObservable(this.source,innerMap(selector,this),thisArg)};MapObservable.prototype.subscribeCore=function(o){return this.source.subscribe(new InnerObserver(o,this.selector,this))};inherits(InnerObserver,AbstractObserver);function InnerObserver(o,selector,source){this.o=o;this.selector=selector;this.source=source;this.i=0;AbstractObserver.call(this)}InnerObserver.prototype.next=function(x){var result=tryCatch(this.selector)(x,this.i++,this.source);if(result===errorObj){return this.o.onError(result.e)}this.o.onNext(result)};InnerObserver.prototype.error=function(e){this.o.onError(e)};InnerObserver.prototype.completed=function(){this.o.onCompleted()};return MapObservable}(ObservableBase);observableProto.map=observableProto.select=function(selector,thisArg){var selectorFn=typeof selector==="function"?selector:function(){return selector};return this instanceof MapObservable?this.internalMap(selectorFn,thisArg):new MapObservable(this,selectorFn,thisArg)};function plucker(args,len){return function mapper(x){var currentProp=x;for(var i=0;i<len;i++){var p=currentProp[args[i]];if(typeof p!=="undefined"){currentProp=p}else{return undefined}}return currentProp}}observableProto.pluck=function(){var len=arguments.length,args=new Array(len);if(len===0){throw new Error("List of properties cannot be empty.")}for(var i=0;i<len;i++){args[i]=arguments[i]}return this.map(plucker(args,len))};observableProto.flatMap=observableProto.selectMany=function(selector,resultSelector,thisArg){return new FlatMapObservable(this,selector,resultSelector,thisArg).mergeAll()};Rx.Observable.prototype.flatMapLatest=function(selector,resultSelector,thisArg){return new FlatMapObservable(this,selector,resultSelector,thisArg).switchLatest()};var SkipObservable=function(__super__){inherits(SkipObservable,__super__);function SkipObservable(source,count){this.source=source;this._count=count;__super__.call(this)}SkipObservable.prototype.subscribeCore=function(o){return this.source.subscribe(new SkipObserver(o,this._count))};function SkipObserver(o,c){this._o=o;this._r=c;AbstractObserver.call(this)}inherits(SkipObserver,AbstractObserver);SkipObserver.prototype.next=function(x){if(this._r<=0){this._o.onNext(x)}else{this._r--}};SkipObserver.prototype.error=function(e){this._o.onError(e)};SkipObserver.prototype.completed=function(){this._o.onCompleted()};return SkipObservable}(ObservableBase);observableProto.skip=function(count){if(count<0){throw new ArgumentOutOfRangeError}return new SkipObservable(this,count)};var SkipWhileObservable=function(__super__){inherits(SkipWhileObservable,__super__);function SkipWhileObservable(source,fn){this.source=source;this._fn=fn;__super__.call(this)}SkipWhileObservable.prototype.subscribeCore=function(o){return this.source.subscribe(new SkipWhileObserver(o,this))};return SkipWhileObservable}(ObservableBase);var SkipWhileObserver=function(__super__){inherits(SkipWhileObserver,__super__);function SkipWhileObserver(o,p){this._o=o;this._p=p;this._i=0;this._r=false;__super__.call(this)}SkipWhileObserver.prototype.next=function(x){if(!this._r){var res=tryCatch(this._p._fn)(x,this._i++,this._p);if(res===errorObj){return this._o.onError(res.e)}this._r=!res}this._r&&this._o.onNext(x)};SkipWhileObserver.prototype.error=function(e){this._o.onError(e)};SkipWhileObserver.prototype.completed=function(){this._o.onCompleted()};return SkipWhileObserver}(AbstractObserver);observableProto.skipWhile=function(predicate,thisArg){var fn=bindCallback(predicate,thisArg,3);return new SkipWhileObservable(this,fn)};var TakeObservable=function(__super__){inherits(TakeObservable,__super__);function TakeObservable(source,count){this.source=source;this._count=count;__super__.call(this)}TakeObservable.prototype.subscribeCore=function(o){return this.source.subscribe(new TakeObserver(o,this._count))};function TakeObserver(o,c){this._o=o;this._c=c;this._r=c;AbstractObserver.call(this)}inherits(TakeObserver,AbstractObserver);TakeObserver.prototype.next=function(x){if(this._r-->0){this._o.onNext(x);this._r<=0&&this._o.onCompleted()}};TakeObserver.prototype.error=function(e){this._o.onError(e)};TakeObserver.prototype.completed=function(){this._o.onCompleted()};return TakeObservable}(ObservableBase);observableProto.take=function(count,scheduler){if(count<0){throw new ArgumentOutOfRangeError}if(count===0){return observableEmpty(scheduler)}return new TakeObservable(this,count)};var TakeWhileObservable=function(__super__){inherits(TakeWhileObservable,__super__);function TakeWhileObservable(source,fn){this.source=source;this._fn=fn;__super__.call(this)}TakeWhileObservable.prototype.subscribeCore=function(o){return this.source.subscribe(new TakeWhileObserver(o,this))};return TakeWhileObservable}(ObservableBase);var TakeWhileObserver=function(__super__){inherits(TakeWhileObserver,__super__);function TakeWhileObserver(o,p){this._o=o;this._p=p;this._i=0;this._r=true;__super__.call(this)}TakeWhileObserver.prototype.next=function(x){if(this._r){this._r=tryCatch(this._p._fn)(x,this._i++,this._p);if(this._r===errorObj){return this._o.onError(this._r.e)}}if(this._r){this._o.onNext(x)}else{this._o.onCompleted()}};TakeWhileObserver.prototype.error=function(e){this._o.onError(e)};TakeWhileObserver.prototype.completed=function(){this._o.onCompleted()};return TakeWhileObserver}(AbstractObserver);observableProto.takeWhile=function(predicate,thisArg){var fn=bindCallback(predicate,thisArg,3);return new TakeWhileObservable(this,fn)};var FilterObservable=function(__super__){inherits(FilterObservable,__super__);function FilterObservable(source,predicate,thisArg){this.source=source;this.predicate=bindCallback(predicate,thisArg,3);__super__.call(this)}FilterObservable.prototype.subscribeCore=function(o){
return this.source.subscribe(new InnerObserver(o,this.predicate,this))};function innerPredicate(predicate,self){return function(x,i,o){return self.predicate(x,i,o)&&predicate.call(this,x,i,o)}}FilterObservable.prototype.internalFilter=function(predicate,thisArg){return new FilterObservable(this.source,innerPredicate(predicate,this),thisArg)};inherits(InnerObserver,AbstractObserver);function InnerObserver(o,predicate,source){this.o=o;this.predicate=predicate;this.source=source;this.i=0;AbstractObserver.call(this)}InnerObserver.prototype.next=function(x){var shouldYield=tryCatch(this.predicate)(x,this.i++,this.source);if(shouldYield===errorObj){return this.o.onError(shouldYield.e)}shouldYield&&this.o.onNext(x)};InnerObserver.prototype.error=function(e){this.o.onError(e)};InnerObserver.prototype.completed=function(){this.o.onCompleted()};return FilterObservable}(ObservableBase);observableProto.filter=observableProto.where=function(predicate,thisArg){return this instanceof FilterObservable?this.internalFilter(predicate,thisArg):new FilterObservable(this,predicate,thisArg)};function createCbObservable(fn,ctx,selector,args){var o=new AsyncSubject;args.push(createCbHandler(o,ctx,selector));fn.apply(ctx,args);return o.asObservable()}function createCbHandler(o,ctx,selector){return function handler(){var len=arguments.length,results=new Array(len);for(var i=0;i<len;i++){results[i]=arguments[i]}if(isFunction(selector)){results=tryCatch(selector).apply(ctx,results);if(results===errorObj){return o.onError(results.e)}o.onNext(results)}else{if(results.length<=1){o.onNext(results[0])}else{o.onNext(results)}}o.onCompleted()}}Observable.fromCallback=function(fn,ctx,selector){return function(){typeof ctx==="undefined"&&(ctx=this);var len=arguments.length,args=new Array(len);for(var i=0;i<len;i++){args[i]=arguments[i]}return createCbObservable(fn,ctx,selector,args)}};function createNodeObservable(fn,ctx,selector,args){var o=new AsyncSubject;args.push(createNodeHandler(o,ctx,selector));fn.apply(ctx,args);return o.asObservable()}function createNodeHandler(o,ctx,selector){return function handler(){var err=arguments[0];if(err){return o.onError(err)}var len=arguments.length,results=[];for(var i=1;i<len;i++){results[i-1]=arguments[i]}if(isFunction(selector)){var results=tryCatch(selector).apply(ctx,results);if(results===errorObj){return o.onError(results.e)}o.onNext(results)}else{if(results.length<=1){o.onNext(results[0])}else{o.onNext(results)}}o.onCompleted()}}Observable.fromNodeCallback=function(fn,ctx,selector){return function(){typeof ctx==="undefined"&&(ctx=this);var len=arguments.length,args=new Array(len);for(var i=0;i<len;i++){args[i]=arguments[i]}return createNodeObservable(fn,ctx,selector,args)}};function isNodeList(el){if(root.StaticNodeList){return el instanceof root.StaticNodeList||el instanceof root.NodeList}else{return Object.prototype.toString.call(el)==="[object NodeList]"}}function ListenDisposable(e,n,fn){this._e=e;this._n=n;this._fn=fn;this._e.addEventListener(this._n,this._fn,false);this.isDisposed=false}ListenDisposable.prototype.dispose=function(){if(!this.isDisposed){this._e.removeEventListener(this._n,this._fn,false);this.isDisposed=true}};function createEventListener(el,eventName,handler){var disposables=new CompositeDisposable;var elemToString=Object.prototype.toString.call(el);if(isNodeList(el)||elemToString==="[object HTMLCollection]"){for(var i=0,len=el.length;i<len;i++){disposables.add(createEventListener(el.item(i),eventName,handler))}}else if(el){disposables.add(new ListenDisposable(el,eventName,handler))}return disposables}Rx.config.useNativeEvents=false;var EventObservable=function(__super__){inherits(EventObservable,__super__);function EventObservable(el,name,fn){this._el=el;this._n=name;this._fn=fn;__super__.call(this)}function createHandler(o,fn){return function handler(){var results=arguments[0];if(isFunction(fn)){results=tryCatch(fn).apply(null,arguments);if(results===errorObj){return o.onError(results.e)}}o.onNext(results)}}EventObservable.prototype.subscribeCore=function(o){return createEventListener(this._el,this._n,createHandler(o,this._fn))};return EventObservable}(ObservableBase);Observable.fromEvent=function(element,eventName,selector){if(element.addListener){return fromEventPattern(function(h){element.addListener(eventName,h)},function(h){element.removeListener(eventName,h)},selector)}if(!Rx.config.useNativeEvents){if(typeof element.on==="function"&&typeof element.off==="function"){return fromEventPattern(function(h){element.on(eventName,h)},function(h){element.off(eventName,h)},selector)}}return new EventObservable(element,eventName,selector).publish().refCount()};var EventPatternObservable=function(__super__){inherits(EventPatternObservable,__super__);function EventPatternObservable(add,del,fn){this._add=add;this._del=del;this._fn=fn;__super__.call(this)}function createHandler(o,fn){return function handler(){var results=arguments[0];if(isFunction(fn)){results=tryCatch(fn).apply(null,arguments);if(results===errorObj){return o.onError(results.e)}}o.onNext(results)}}EventPatternObservable.prototype.subscribeCore=function(o){var fn=createHandler(o,this._fn);var returnValue=this._add(fn);return new EventPatternDisposable(this._del,fn,returnValue)};function EventPatternDisposable(del,fn,ret){this._del=del;this._fn=fn;this._ret=ret;this.isDisposed=false}EventPatternDisposable.prototype.dispose=function(){if(!this.isDisposed){isFunction(this._del)&&this._del(this._fn,this._ret);this.isDisposed=true}};return EventPatternObservable}(ObservableBase);var fromEventPattern=Observable.fromEventPattern=function(addHandler,removeHandler,selector){return new EventPatternObservable(addHandler,removeHandler,selector).publish().refCount()};var FromPromiseObservable=function(__super__){inherits(FromPromiseObservable,__super__);function FromPromiseObservable(p,s){this._p=p;this._s=s;__super__.call(this)}function scheduleNext(s,state){var o=state[0],data=state[1];o.onNext(data);o.onCompleted()}function scheduleError(s,state){var o=state[0],err=state[1];o.onError(err)}FromPromiseObservable.prototype.subscribeCore=function(o){var sad=new SingleAssignmentDisposable,self=this;this._p.then(function(data){sad.setDisposable(self._s.schedule([o,data],scheduleNext))},function(err){sad.setDisposable(self._s.schedule([o,err],scheduleError))});return sad};return FromPromiseObservable}(ObservableBase);var observableFromPromise=Observable.fromPromise=function(promise,scheduler){scheduler||(scheduler=defaultScheduler);return new FromPromiseObservable(promise,scheduler)};observableProto.toPromise=function(promiseCtor){promiseCtor||(promiseCtor=Rx.config.Promise);if(!promiseCtor){throw new NotSupportedError("Promise type not provided nor in Rx.config.Promise")}var source=this;return new promiseCtor(function(resolve,reject){var value;source.subscribe(function(v){value=v},reject,function(){resolve(value)})})};Observable.startAsync=function(functionAsync){var promise=tryCatch(functionAsync)();if(promise===errorObj){return observableThrow(promise.e)}return observableFromPromise(promise)};var MulticastObservable=function(__super__){inherits(MulticastObservable,__super__);function MulticastObservable(source,fn1,fn2){this.source=source;this._fn1=fn1;this._fn2=fn2;__super__.call(this)}MulticastObservable.prototype.subscribeCore=function(o){var connectable=this.source.multicast(this._fn1());return new BinaryDisposable(this._fn2(connectable).subscribe(o),connectable.connect())};return MulticastObservable}(ObservableBase);observableProto.multicast=function(subjectOrSubjectSelector,selector){return isFunction(subjectOrSubjectSelector)?new MulticastObservable(this,subjectOrSubjectSelector,selector):new ConnectableObservable(this,subjectOrSubjectSelector)};observableProto.publish=function(selector){return selector&&isFunction(selector)?this.multicast(function(){return new Subject},selector):this.multicast(new Subject)};observableProto.share=function(){return this.publish().refCount()};observableProto.publishLast=function(selector){return selector&&isFunction(selector)?this.multicast(function(){return new AsyncSubject},selector):this.multicast(new AsyncSubject)};observableProto.publishValue=function(initialValueOrSelector,initialValue){return arguments.length===2?this.multicast(function(){return new BehaviorSubject(initialValue)},initialValueOrSelector):this.multicast(new BehaviorSubject(initialValueOrSelector))};observableProto.shareValue=function(initialValue){return this.publishValue(initialValue).refCount()};observableProto.replay=function(selector,bufferSize,windowSize,scheduler){return selector&&isFunction(selector)?this.multicast(function(){return new ReplaySubject(bufferSize,windowSize,scheduler)},selector):this.multicast(new ReplaySubject(bufferSize,windowSize,scheduler))};observableProto.shareReplay=function(bufferSize,windowSize,scheduler){return this.replay(null,bufferSize,windowSize,scheduler).refCount()};var RefCountObservable=function(__super__){inherits(RefCountObservable,__super__);function RefCountObservable(source){this.source=source;this._count=0;this._connectableSubscription=null;__super__.call(this)}RefCountObservable.prototype.subscribeCore=function(o){var subscription=this.source.subscribe(o);++this._count===1&&(this._connectableSubscription=this.source.connect());return new RefCountDisposable(this,subscription)};function RefCountDisposable(p,s){this._p=p;this._s=s;this.isDisposed=false}RefCountDisposable.prototype.dispose=function(){if(!this.isDisposed){this.isDisposed=true;this._s.dispose();--this._p._count===0&&this._p._connectableSubscription.dispose()}};return RefCountObservable}(ObservableBase);var ConnectableObservable=Rx.ConnectableObservable=function(__super__){inherits(ConnectableObservable,__super__);function ConnectableObservable(source,subject){this.source=source;this._connection=null;this._source=source.asObservable();this._subject=subject;__super__.call(this)}function ConnectDisposable(parent,subscription){this._p=parent;this._s=subscription}ConnectDisposable.prototype.dispose=function(){if(this._s){this._s.dispose();this._s=null;this._p._connection=null}};ConnectableObservable.prototype.connect=function(){if(!this._connection){var subscription=this._source.subscribe(this._subject);this._connection=new ConnectDisposable(this,subscription)}return this._connection};ConnectableObservable.prototype._subscribe=function(o){return this._subject.subscribe(o)};ConnectableObservable.prototype.refCount=function(){return new RefCountObservable(this)};return ConnectableObservable}(Observable);var TimerObservable=function(__super__){inherits(TimerObservable,__super__);function TimerObservable(dt,s){this._dt=dt;this._s=s;__super__.call(this)}TimerObservable.prototype.subscribeCore=function(o){return this._s.scheduleFuture(o,this._dt,scheduleMethod)};function scheduleMethod(s,o){o.onNext(0);o.onCompleted()}return TimerObservable}(ObservableBase);function _observableTimer(dueTime,scheduler){return new TimerObservable(dueTime,scheduler)}function observableTimerDateAndPeriod(dueTime,period,scheduler){return new AnonymousObservable(function(observer){var d=dueTime,p=normalizeTime(period);return scheduler.scheduleRecursiveFuture(0,d,function(count,self){if(p>0){var now=scheduler.now();d=new Date(d.getTime()+p);d.getTime()<=now&&(d=new Date(now+p))}observer.onNext(count);self(count+1,new Date(d))})})}function observableTimerTimeSpanAndPeriod(dueTime,period,scheduler){return dueTime===period?new AnonymousObservable(function(observer){return scheduler.schedulePeriodic(0,period,function(count){observer.onNext(count);return count+1})}):observableDefer(function(){return observableTimerDateAndPeriod(new Date(scheduler.now()+dueTime),period,scheduler)})}var observableinterval=Observable.interval=function(period,scheduler){return observableTimerTimeSpanAndPeriod(period,period,isScheduler(scheduler)?scheduler:defaultScheduler)};var observableTimer=Observable.timer=function(dueTime,periodOrScheduler,scheduler){var period;isScheduler(scheduler)||(scheduler=defaultScheduler);if(periodOrScheduler!=null&&typeof periodOrScheduler==="number"){period=periodOrScheduler}else if(isScheduler(periodOrScheduler)){scheduler=periodOrScheduler}if((dueTime instanceof Date||typeof dueTime==="number")&&period===undefined){return _observableTimer(dueTime,scheduler)}if(dueTime instanceof Date&&period!==undefined){return observableTimerDateAndPeriod(dueTime,periodOrScheduler,scheduler)}return observableTimerTimeSpanAndPeriod(dueTime,period,scheduler)};function observableDelayRelative(source,dueTime,scheduler){return new AnonymousObservable(function(o){var active=false,cancelable=new SerialDisposable,exception=null,q=[],running=false,subscription;subscription=source.materialize().timestamp(scheduler).subscribe(function(notification){var d,shouldRun;if(notification.value.kind==="E"){q=[];q.push(notification);exception=notification.value.error;shouldRun=!running}else{q.push({value:notification.value,timestamp:notification.timestamp+dueTime});shouldRun=!active;active=true}if(shouldRun){if(exception!==null){o.onError(exception)}else{d=new SingleAssignmentDisposable;cancelable.setDisposable(d);d.setDisposable(scheduler.scheduleRecursiveFuture(null,dueTime,function(_,self){var e,recurseDueTime,result,shouldRecurse;if(exception!==null){return}running=true;do{result=null;if(q.length>0&&q[0].timestamp-scheduler.now()<=0){result=q.shift().value}if(result!==null){result.accept(o)}}while(result!==null);shouldRecurse=false;recurseDueTime=0;if(q.length>0){shouldRecurse=true;recurseDueTime=Math.max(0,q[0].timestamp-scheduler.now())}else{active=false}e=exception;running=false;if(e!==null){o.onError(e)}else if(shouldRecurse){self(null,recurseDueTime)}}))}}});return new BinaryDisposable(subscription,cancelable)},source)}function observableDelayAbsolute(source,dueTime,scheduler){return observableDefer(function(){return observableDelayRelative(source,dueTime-scheduler.now(),scheduler)})}function delayWithSelector(source,subscriptionDelay,delayDurationSelector){var subDelay,selector;if(isFunction(subscriptionDelay)){selector=subscriptionDelay}else{subDelay=subscriptionDelay;selector=delayDurationSelector}return new AnonymousObservable(function(o){var delays=new CompositeDisposable,atEnd=false,subscription=new SerialDisposable;function start(){subscription.setDisposable(source.subscribe(function(x){var delay=tryCatch(selector)(x);if(delay===errorObj){return o.onError(delay.e)}var d=new SingleAssignmentDisposable;delays.add(d);d.setDisposable(delay.subscribe(function(){o.onNext(x);delays.remove(d);done()},function(e){o.onError(e)},function(){o.onNext(x);delays.remove(d);done()}))},function(e){o.onError(e)},function(){atEnd=true;subscription.dispose();done()}))}function done(){atEnd&&delays.length===0&&o.onCompleted()}if(!subDelay){start()}else{subscription.setDisposable(subDelay.subscribe(start,function(e){o.onError(e)},start))}return new BinaryDisposable(subscription,delays)},source)}observableProto.delay=function(){var firstArg=arguments[0];if(typeof firstArg==="number"||firstArg instanceof Date){var dueTime=firstArg,scheduler=arguments[1];isScheduler(scheduler)||(scheduler=defaultScheduler);return dueTime instanceof Date?observableDelayAbsolute(this,dueTime,scheduler):observableDelayRelative(this,dueTime,scheduler)}else if(Observable.isObservable(firstArg)||isFunction(firstArg)){return delayWithSelector(this,firstArg,arguments[1])}else{throw new Error("Invalid arguments")}};var DebounceObservable=function(__super__){inherits(DebounceObservable,__super__);function DebounceObservable(source,dt,s){isScheduler(s)||(s=defaultScheduler);this.source=source;this._dt=dt;this._s=s;__super__.call(this)}DebounceObservable.prototype.subscribeCore=function(o){var cancelable=new SerialDisposable;return new BinaryDisposable(this.source.subscribe(new DebounceObserver(o,this._dt,this._s,cancelable)),cancelable)};return DebounceObservable}(ObservableBase);var DebounceObserver=function(__super__){inherits(DebounceObserver,__super__);function DebounceObserver(observer,dueTime,scheduler,cancelable){this._o=observer;this._d=dueTime;this._scheduler=scheduler;this._c=cancelable;this._v=null;this._hv=false;this._id=0;__super__.call(this)}function scheduleFuture(s,state){state.self._hv&&state.self._id===state.currentId&&state.self._o.onNext(state.x);state.self._hv=false}DebounceObserver.prototype.next=function(x){this._hv=true;this._v=x;var currentId=++this._id,d=new SingleAssignmentDisposable;this._c.setDisposable(d);d.setDisposable(this._scheduler.scheduleFuture(this,this._d,function(_,self){self._hv&&self._id===currentId&&self._o.onNext(x);self._hv=false}))};DebounceObserver.prototype.error=function(e){this._c.dispose();this._o.onError(e);this._hv=false;this._id++};DebounceObserver.prototype.completed=function(){this._c.dispose();this._hv&&this._o.onNext(this._v);this._o.onCompleted();this._hv=false;this._id++};return DebounceObserver}(AbstractObserver);function debounceWithSelector(source,durationSelector){return new AnonymousObservable(function(o){var value,hasValue=false,cancelable=new SerialDisposable,id=0;var subscription=source.subscribe(function(x){var throttle=tryCatch(durationSelector)(x);if(throttle===errorObj){return o.onError(throttle.e)}isPromise(throttle)&&(throttle=observableFromPromise(throttle));hasValue=true;value=x;id++;var currentid=id,d=new SingleAssignmentDisposable;cancelable.setDisposable(d);d.setDisposable(throttle.subscribe(function(){hasValue&&id===currentid&&o.onNext(value);hasValue=false;d.dispose()},function(e){o.onError(e)},function(){hasValue&&id===currentid&&o.onNext(value);hasValue=false;d.dispose()}))},function(e){cancelable.dispose();o.onError(e);hasValue=false;id++},function(){cancelable.dispose();hasValue&&o.onNext(value);o.onCompleted();hasValue=false;id++});return new BinaryDisposable(subscription,cancelable)},source)}observableProto.debounce=function(){if(isFunction(arguments[0])){return debounceWithSelector(this,arguments[0])}else if(typeof arguments[0]==="number"){return new DebounceObservable(this,arguments[0],arguments[1])}else{throw new Error("Invalid arguments")}};var TimestampObservable=function(__super__){inherits(TimestampObservable,__super__);function TimestampObservable(source,s){this.source=source;this._s=s;__super__.call(this)}TimestampObservable.prototype.subscribeCore=function(o){return this.source.subscribe(new TimestampObserver(o,this._s))};return TimestampObservable}(ObservableBase);var TimestampObserver=function(__super__){inherits(TimestampObserver,__super__);function TimestampObserver(o,s){this._o=o;this._s=s;__super__.call(this)}TimestampObserver.prototype.next=function(x){this._o.onNext({value:x,timestamp:this._s.now()})};TimestampObserver.prototype.error=function(e){this._o.onError(e)};TimestampObserver.prototype.completed=function(){this._o.onCompleted()};return TimestampObserver}(AbstractObserver);observableProto.timestamp=function(scheduler){isScheduler(scheduler)||(scheduler=defaultScheduler);return new TimestampObservable(this,scheduler)};var SampleObservable=function(__super__){inherits(SampleObservable,__super__);function SampleObservable(source,sampler){this.source=source;this._sampler=sampler;__super__.call(this)}SampleObservable.prototype.subscribeCore=function(o){var state={o:o,atEnd:false,value:null,hasValue:false,sourceSubscription:new SingleAssignmentDisposable};state.sourceSubscription.setDisposable(this.source.subscribe(new SampleSourceObserver(state)));return new BinaryDisposable(state.sourceSubscription,this._sampler.subscribe(new SamplerObserver(state)))};return SampleObservable}(ObservableBase);var SamplerObserver=function(__super__){inherits(SamplerObserver,__super__);function SamplerObserver(s){this._s=s;__super__.call(this)}SamplerObserver.prototype._handleMessage=function(){if(this._s.hasValue){this._s.hasValue=false;this._s.o.onNext(this._s.value)}this._s.atEnd&&this._s.o.onCompleted()};SamplerObserver.prototype.next=function(){this._handleMessage()};SamplerObserver.prototype.error=function(e){this._s.onError(e)};SamplerObserver.prototype.completed=function(){this._handleMessage()};return SamplerObserver}(AbstractObserver);var SampleSourceObserver=function(__super__){inherits(SampleSourceObserver,__super__);function SampleSourceObserver(s){this._s=s;__super__.call(this)}SampleSourceObserver.prototype.next=function(x){this._s.hasValue=true;this._s.value=x};SampleSourceObserver.prototype.error=function(e){this._s.o.onError(e)};SampleSourceObserver.prototype.completed=function(){this._s.atEnd=true;this._s.sourceSubscription.dispose()};return SampleSourceObserver}(AbstractObserver);observableProto.sample=function(intervalOrSampler,scheduler){isScheduler(scheduler)||(scheduler=defaultScheduler);return typeof intervalOrSampler==="number"?new SampleObservable(this,observableinterval(intervalOrSampler,scheduler)):new SampleObservable(this,intervalOrSampler)};var TimeoutError=Rx.TimeoutError=function(message){this.message=message||"Timeout has occurred";this.name="TimeoutError";Error.call(this)};TimeoutError.prototype=Object.create(Error.prototype);function timeoutWithSelector(source,firstTimeout,timeoutDurationSelector,other){if(isFunction(firstTimeout)){other=timeoutDurationSelector;timeoutDurationSelector=firstTimeout;firstTimeout=observableNever()}Observable.isObservable(other)||(other=observableThrow(new TimeoutError));return new AnonymousObservable(function(o){var subscription=new SerialDisposable,timer=new SerialDisposable,original=new SingleAssignmentDisposable;subscription.setDisposable(original);var id=0,switched=false;function setTimer(timeout){var myId=id,d=new SingleAssignmentDisposable;function timerWins(){switched=myId===id;return switched}timer.setDisposable(d);d.setDisposable(timeout.subscribe(function(){timerWins()&&subscription.setDisposable(other.subscribe(o));d.dispose()},function(e){timerWins()&&o.onError(e)},function(){timerWins()&&subscription.setDisposable(other.subscribe(o))}))}setTimer(firstTimeout);function oWins(){var res=!switched;if(res){id++}return res}original.setDisposable(source.subscribe(function(x){if(oWins()){o.onNext(x);var timeout=tryCatch(timeoutDurationSelector)(x);if(timeout===errorObj){return o.onError(timeout.e)}setTimer(isPromise(timeout)?observableFromPromise(timeout):timeout)}},function(e){oWins()&&o.onError(e)},function(){oWins()&&o.onCompleted()}));return new BinaryDisposable(subscription,timer)},source)}function timeout(source,dueTime,other,scheduler){if(isScheduler(other)){scheduler=other;other=observableThrow(new TimeoutError)}if(other instanceof Error){other=observableThrow(other)}isScheduler(scheduler)||(scheduler=defaultScheduler);Observable.isObservable(other)||(other=observableThrow(new TimeoutError));return new AnonymousObservable(function(o){var id=0,original=new SingleAssignmentDisposable,subscription=new SerialDisposable,switched=false,timer=new SerialDisposable;subscription.setDisposable(original);function createTimer(){var myId=id;timer.setDisposable(scheduler.scheduleFuture(null,dueTime,function(){switched=id===myId;if(switched){isPromise(other)&&(other=observableFromPromise(other));subscription.setDisposable(other.subscribe(o))}}))}createTimer();original.setDisposable(source.subscribe(function(x){if(!switched){id++;o.onNext(x);createTimer()}},function(e){if(!switched){id++;o.onError(e)}},function(){if(!switched){id++;o.onCompleted()}}));return new BinaryDisposable(subscription,timer)},source)}observableProto.timeout=function(){var firstArg=arguments[0];if(firstArg instanceof Date||typeof firstArg==="number"){return timeout(this,firstArg,arguments[1],arguments[2])}else if(Observable.isObservable(firstArg)||isFunction(firstArg)){return timeoutWithSelector(this,firstArg,arguments[1],arguments[2])}else{throw new Error("Invalid arguments")}};observableProto.throttle=function(windowDuration,scheduler){isScheduler(scheduler)||(scheduler=defaultScheduler);var duration=+windowDuration||0;if(duration<=0){throw new RangeError("windowDuration cannot be less or equal zero.")}var source=this;return new AnonymousObservable(function(o){var lastOnNext=0;return source.subscribe(function(x){var now=scheduler.now();if(lastOnNext===0||now-lastOnNext>=duration){lastOnNext=now;o.onNext(x)}},function(e){o.onError(e)},function(){o.onCompleted()})},source)};var PausableObservable=function(__super__){inherits(PausableObservable,__super__);function PausableObservable(source,pauser){this.source=source;this.controller=new Subject;if(pauser&&pauser.subscribe){this.pauser=this.controller.merge(pauser)}else{this.pauser=this.controller}__super__.call(this)}PausableObservable.prototype._subscribe=function(o){var conn=this.source.publish(),subscription=conn.subscribe(o),connection=disposableEmpty;var pausable=this.pauser.distinctUntilChanged().subscribe(function(b){if(b){connection=conn.connect()}else{connection.dispose();connection=disposableEmpty}});return new NAryDisposable([subscription,connection,pausable])};PausableObservable.prototype.pause=function(){this.controller.onNext(false)};PausableObservable.prototype.resume=function(){this.controller.onNext(true)};return PausableObservable}(Observable);observableProto.pausable=function(pauser){return new PausableObservable(this,pauser)};function combineLatestSource(source,subject,resultSelector){return new AnonymousObservable(function(o){var hasValue=[false,false],hasValueAll=false,isDone=false,values=new Array(2),err;function next(x,i){values[i]=x;hasValue[i]=true;if(hasValueAll||(hasValueAll=hasValue.every(identity))){if(err){return o.onError(err)}var res=tryCatch(resultSelector).apply(null,values);if(res===errorObj){return o.onError(res.e)}o.onNext(res)}isDone&&values[1]&&o.onCompleted()}return new BinaryDisposable(source.subscribe(function(x){next(x,0)},function(e){if(values[1]){o.onError(e)}else{err=e}},function(){isDone=true;values[1]&&o.onCompleted()}),subject.subscribe(function(x){next(x,1)},function(e){o.onError(e)},function(){isDone=true;next(true,1)}))},source)}var PausableBufferedObservable=function(__super__){inherits(PausableBufferedObservable,__super__);function PausableBufferedObservable(source,pauser){this.source=source;this.controller=new Subject;if(pauser&&pauser.subscribe){this.pauser=this.controller.merge(pauser)}else{this.pauser=this.controller}__super__.call(this)}PausableBufferedObservable.prototype._subscribe=function(o){var q=[],previousShouldFire;function drainQueue(){while(q.length>0){o.onNext(q.shift())}}var subscription=combineLatestSource(this.source,this.pauser.startWith(false).distinctUntilChanged(),function(data,shouldFire){return{data:data,shouldFire:shouldFire}}).subscribe(function(results){if(previousShouldFire!==undefined&&results.shouldFire!==previousShouldFire){previousShouldFire=results.shouldFire;if(results.shouldFire){drainQueue()}}else{previousShouldFire=results.shouldFire;if(results.shouldFire){o.onNext(results.data)}else{q.push(results.data)}}},function(err){drainQueue();o.onError(err)},function(){drainQueue();o.onCompleted()});return subscription};PausableBufferedObservable.prototype.pause=function(){this.controller.onNext(false)};PausableBufferedObservable.prototype.resume=function(){this.controller.onNext(true)};return PausableBufferedObservable}(Observable);observableProto.pausableBuffered=function(pauser){return new PausableBufferedObservable(this,pauser)};var ControlledObservable=function(__super__){inherits(ControlledObservable,__super__);function ControlledObservable(source,enableQueue,scheduler){__super__.call(this);this.subject=new ControlledSubject(enableQueue,scheduler);this.source=source.multicast(this.subject).refCount()}ControlledObservable.prototype._subscribe=function(o){return this.source.subscribe(o)};ControlledObservable.prototype.request=function(numberOfItems){return this.subject.request(numberOfItems==null?-1:numberOfItems)};return ControlledObservable}(Observable);var ControlledSubject=function(__super__){inherits(ControlledSubject,__super__);function ControlledSubject(enableQueue,scheduler){enableQueue==null&&(enableQueue=true);__super__.call(this);this.subject=new Subject;this.enableQueue=enableQueue;this.queue=enableQueue?[]:null;this.requestedCount=0;this.requestedDisposable=null;this.error=null;this.hasFailed=false;this.hasCompleted=false;this.scheduler=scheduler||currentThreadScheduler}addProperties(ControlledSubject.prototype,Observer,{_subscribe:function(o){return this.subject.subscribe(o)},onCompleted:function(){this.hasCompleted=true;if(!this.enableQueue||this.queue.length===0){this.subject.onCompleted();this.disposeCurrentRequest()}else{this.queue.push(Notification.createOnCompleted())}},onError:function(error){this.hasFailed=true;this.error=error;if(!this.enableQueue||this.queue.length===0){this.subject.onError(error);this.disposeCurrentRequest()}else{this.queue.push(Notification.createOnError(error))}},onNext:function(value){if(this.requestedCount<=0){this.enableQueue&&this.queue.push(Notification.createOnNext(value))}else{this.requestedCount--===0&&this.disposeCurrentRequest();this.subject.onNext(value)}},_processRequest:function(numberOfItems){if(this.enableQueue){while(this.queue.length>0&&(numberOfItems>0||this.queue[0].kind!=="N")){var first=this.queue.shift();first.accept(this.subject);if(first.kind==="N"){numberOfItems--}else{this.disposeCurrentRequest();this.queue=[]}}}return numberOfItems},request:function(number){this.disposeCurrentRequest();var self=this;this.requestedDisposable=this.scheduler.schedule(number,function(s,i){var remaining=self._processRequest(i);var stopped=self.hasCompleted||self.hasFailed;if(!stopped&&remaining>0){self.requestedCount=remaining;return disposableCreate(function(){self.requestedCount=0})}});return this.requestedDisposable},disposeCurrentRequest:function(){if(this.requestedDisposable){this.requestedDisposable.dispose();this.requestedDisposable=null}}});return ControlledSubject}(Observable);observableProto.controlled=function(enableQueue,scheduler){if(enableQueue&&isScheduler(enableQueue)){scheduler=enableQueue;enableQueue=true}if(enableQueue==null){enableQueue=true}return new ControlledObservable(this,enableQueue,scheduler)};observableProto.pipe=function(dest){var source=this.pausableBuffered();function onDrain(){source.resume()}dest.addListener("drain",onDrain);source.subscribe(function(x){!dest.write(String(x))&&source.pause()},function(err){dest.emit("error",err)},function(){!dest._isStdio&&dest.end();dest.removeListener("drain",onDrain)});source.resume();return dest};var TransduceObserver=function(__super__){inherits(TransduceObserver,__super__);function TransduceObserver(o,xform){this._o=o;this._xform=xform;__super__.call(this)}TransduceObserver.prototype.next=function(x){var res=tryCatch(this._xform["@@transducer/step"]).call(this._xform,this._o,x);if(res===errorObj){this._o.onError(res.e)}};TransduceObserver.prototype.error=function(e){this._o.onError(e)};TransduceObserver.prototype.completed=function(){this._xform["@@transducer/result"](this._o)};return TransduceObserver}(AbstractObserver);function transformForObserver(o){return{"@@transducer/init":function(){return o},"@@transducer/step":function(obs,input){return obs.onNext(input)},"@@transducer/result":function(obs){return obs.onCompleted()}}}observableProto.transduce=function(transducer){var source=this;return new AnonymousObservable(function(o){var xform=transducer(transformForObserver(o));return source.subscribe(new TransduceObserver(o,xform))},source)};var AnonymousObservable=Rx.AnonymousObservable=function(__super__){inherits(AnonymousObservable,__super__);function fixSubscriber(subscriber){return subscriber&&isFunction(subscriber.dispose)?subscriber:isFunction(subscriber)?disposableCreate(subscriber):disposableEmpty}function setDisposable(s,state){var ado=state[0],self=state[1];var sub=tryCatch(self.__subscribe).call(self,ado);if(sub===errorObj&&!ado.fail(errorObj.e)){thrower(errorObj.e)}ado.setDisposable(fixSubscriber(sub));

}function AnonymousObservable(subscribe,parent){this.source=parent;this.__subscribe=subscribe;__super__.call(this)}AnonymousObservable.prototype._subscribe=function(o){var ado=new AutoDetachObserver(o),state=[ado,this];if(currentThreadScheduler.scheduleRequired()){currentThreadScheduler.schedule(state,setDisposable)}else{setDisposable(null,state)}return ado};return AnonymousObservable}(Observable);var AutoDetachObserver=function(__super__){inherits(AutoDetachObserver,__super__);function AutoDetachObserver(observer){__super__.call(this);this.observer=observer;this.m=new SingleAssignmentDisposable}var AutoDetachObserverPrototype=AutoDetachObserver.prototype;AutoDetachObserverPrototype.next=function(value){var result=tryCatch(this.observer.onNext).call(this.observer,value);if(result===errorObj){this.dispose();thrower(result.e)}};AutoDetachObserverPrototype.error=function(err){var result=tryCatch(this.observer.onError).call(this.observer,err);this.dispose();result===errorObj&&thrower(result.e)};AutoDetachObserverPrototype.completed=function(){var result=tryCatch(this.observer.onCompleted).call(this.observer);this.dispose();result===errorObj&&thrower(result.e)};AutoDetachObserverPrototype.setDisposable=function(value){this.m.setDisposable(value)};AutoDetachObserverPrototype.getDisposable=function(){return this.m.getDisposable()};AutoDetachObserverPrototype.dispose=function(){__super__.prototype.dispose.call(this);this.m.dispose()};return AutoDetachObserver}(AbstractObserver);var InnerSubscription=function(s,o){this._s=s;this._o=o};InnerSubscription.prototype.dispose=function(){if(!this._s.isDisposed&&this._o!==null){var idx=this._s.observers.indexOf(this._o);this._s.observers.splice(idx,1);this._o=null}};var Subject=Rx.Subject=function(__super__){inherits(Subject,__super__);function Subject(){__super__.call(this);this.isDisposed=false;this.isStopped=false;this.observers=[];this.hasError=false}addProperties(Subject.prototype,Observer.prototype,{_subscribe:function(o){checkDisposed(this);if(!this.isStopped){this.observers.push(o);return new InnerSubscription(this,o)}if(this.hasError){o.onError(this.error);return disposableEmpty}o.onCompleted();return disposableEmpty},hasObservers:function(){checkDisposed(this);return this.observers.length>0},onCompleted:function(){checkDisposed(this);if(!this.isStopped){this.isStopped=true;for(var i=0,os=cloneArray(this.observers),len=os.length;i<len;i++){os[i].onCompleted()}this.observers.length=0}},onError:function(error){checkDisposed(this);if(!this.isStopped){this.isStopped=true;this.error=error;this.hasError=true;for(var i=0,os=cloneArray(this.observers),len=os.length;i<len;i++){os[i].onError(error)}this.observers.length=0}},onNext:function(value){checkDisposed(this);if(!this.isStopped){for(var i=0,os=cloneArray(this.observers),len=os.length;i<len;i++){os[i].onNext(value)}}},dispose:function(){this.isDisposed=true;this.observers=null}});Subject.create=function(observer,observable){return new AnonymousSubject(observer,observable)};return Subject}(Observable);var AsyncSubject=Rx.AsyncSubject=function(__super__){inherits(AsyncSubject,__super__);function AsyncSubject(){__super__.call(this);this.isDisposed=false;this.isStopped=false;this.hasValue=false;this.observers=[];this.hasError=false}addProperties(AsyncSubject.prototype,Observer.prototype,{_subscribe:function(o){checkDisposed(this);if(!this.isStopped){this.observers.push(o);return new InnerSubscription(this,o)}if(this.hasError){o.onError(this.error)}else if(this.hasValue){o.onNext(this.value);o.onCompleted()}else{o.onCompleted()}return disposableEmpty},hasObservers:function(){checkDisposed(this);return this.observers.length>0},onCompleted:function(){var i,len;checkDisposed(this);if(!this.isStopped){this.isStopped=true;var os=cloneArray(this.observers),len=os.length;if(this.hasValue){for(i=0;i<len;i++){var o=os[i];o.onNext(this.value);o.onCompleted()}}else{for(i=0;i<len;i++){os[i].onCompleted()}}this.observers.length=0}},onError:function(error){checkDisposed(this);if(!this.isStopped){this.isStopped=true;this.hasError=true;this.error=error;for(var i=0,os=cloneArray(this.observers),len=os.length;i<len;i++){os[i].onError(error)}this.observers.length=0}},onNext:function(value){checkDisposed(this);if(this.isStopped){return}this.value=value;this.hasValue=true},dispose:function(){this.isDisposed=true;this.observers=null;this.error=null;this.value=null}});return AsyncSubject}(Observable);var AnonymousSubject=Rx.AnonymousSubject=function(__super__){inherits(AnonymousSubject,__super__);function AnonymousSubject(observer,observable){this.observer=observer;this.observable=observable;__super__.call(this)}addProperties(AnonymousSubject.prototype,Observer.prototype,{_subscribe:function(o){return this.observable.subscribe(o)},onCompleted:function(){this.observer.onCompleted()},onError:function(error){this.observer.onError(error)},onNext:function(value){this.observer.onNext(value)}});return AnonymousSubject}(Observable);var BehaviorSubject=Rx.BehaviorSubject=function(__super__){inherits(BehaviorSubject,__super__);function BehaviorSubject(value){__super__.call(this);this.value=value;this.observers=[];this.isDisposed=false;this.isStopped=false;this.hasError=false}addProperties(BehaviorSubject.prototype,Observer.prototype,{_subscribe:function(o){checkDisposed(this);if(!this.isStopped){this.observers.push(o);o.onNext(this.value);return new InnerSubscription(this,o)}if(this.hasError){o.onError(this.error)}else{o.onCompleted()}return disposableEmpty},getValue:function(){checkDisposed(this);if(this.hasError){thrower(this.error)}return this.value},hasObservers:function(){checkDisposed(this);return this.observers.length>0},onCompleted:function(){checkDisposed(this);if(this.isStopped){return}this.isStopped=true;for(var i=0,os=cloneArray(this.observers),len=os.length;i<len;i++){os[i].onCompleted()}this.observers.length=0},onError:function(error){checkDisposed(this);if(this.isStopped){return}this.isStopped=true;this.hasError=true;this.error=error;for(var i=0,os=cloneArray(this.observers),len=os.length;i<len;i++){os[i].onError(error)}this.observers.length=0},onNext:function(value){checkDisposed(this);if(this.isStopped){return}this.value=value;for(var i=0,os=cloneArray(this.observers),len=os.length;i<len;i++){os[i].onNext(value)}},dispose:function(){this.isDisposed=true;this.observers=null;this.value=null;this.error=null}});return BehaviorSubject}(Observable);var ReplaySubject=Rx.ReplaySubject=function(__super__){var maxSafeInteger=Math.pow(2,53)-1;function createRemovableDisposable(subject,observer){return disposableCreate(function(){observer.dispose();!subject.isDisposed&&subject.observers.splice(subject.observers.indexOf(observer),1)})}inherits(ReplaySubject,__super__);function ReplaySubject(bufferSize,windowSize,scheduler){this.bufferSize=bufferSize==null?maxSafeInteger:bufferSize;this.windowSize=windowSize==null?maxSafeInteger:windowSize;this.scheduler=scheduler||currentThreadScheduler;this.q=[];this.observers=[];this.isStopped=false;this.isDisposed=false;this.hasError=false;this.error=null;__super__.call(this)}addProperties(ReplaySubject.prototype,Observer.prototype,{_subscribe:function(o){checkDisposed(this);var so=new ScheduledObserver(this.scheduler,o),subscription=createRemovableDisposable(this,so);this._trim(this.scheduler.now());this.observers.push(so);for(var i=0,len=this.q.length;i<len;i++){so.onNext(this.q[i].value)}if(this.hasError){so.onError(this.error)}else if(this.isStopped){so.onCompleted()}so.ensureActive();return subscription},hasObservers:function(){checkDisposed(this);return this.observers.length>0},_trim:function(now){while(this.q.length>this.bufferSize){this.q.shift()}while(this.q.length>0&&now-this.q[0].interval>this.windowSize){this.q.shift()}},onNext:function(value){checkDisposed(this);if(this.isStopped){return}var now=this.scheduler.now();this.q.push({interval:now,value:value});this._trim(now);for(var i=0,os=cloneArray(this.observers),len=os.length;i<len;i++){var observer=os[i];observer.onNext(value);observer.ensureActive()}},onError:function(error){checkDisposed(this);if(this.isStopped){return}this.isStopped=true;this.error=error;this.hasError=true;var now=this.scheduler.now();this._trim(now);for(var i=0,os=cloneArray(this.observers),len=os.length;i<len;i++){var observer=os[i];observer.onError(error);observer.ensureActive()}this.observers.length=0},onCompleted:function(){checkDisposed(this);if(this.isStopped){return}this.isStopped=true;var now=this.scheduler.now();this._trim(now);for(var i=0,os=cloneArray(this.observers),len=os.length;i<len;i++){var observer=os[i];observer.onCompleted();observer.ensureActive()}this.observers.length=0},dispose:function(){this.isDisposed=true;this.observers=null}});return ReplaySubject}(Observable);Rx.Pauser=function(__super__){inherits(Pauser,__super__);function Pauser(){__super__.call(this)}Pauser.prototype.pause=function(){this.onNext(false)};Pauser.prototype.resume=function(){this.onNext(true)};return Pauser}(Subject);if(typeof define=="function"&&typeof define.amd=="object"&&define.amd){root.Rx=Rx;define(function(){return Rx})}else if(freeExports&&freeModule){if(moduleExports){(freeModule.exports=Rx).Rx=Rx}else{freeExports.Rx=Rx}}else{root.Rx=Rx}var rEndingLine=captureLine()}).call(this)}).call(this,require("_process"),typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{_process:247}],274:[function(require,module,exports){module.exports=exports=require("./lib/sliced")},{"./lib/sliced":275}],275:[function(require,module,exports){module.exports=function(args,slice,sliceEnd){var ret=[];var len=args.length;if(0===len)return ret;var start=slice<0?Math.max(0,slice+len):slice||0;if(sliceEnd!==undefined){len=sliceEnd<0?sliceEnd+len:sliceEnd}while(len-->start){ret[len-start]=args[len]}return ret}},{}],276:[function(require,module,exports){var nargs=/\{([0-9a-zA-Z_]+)\}/g;module.exports=template;function template(string){var args;if(arguments.length===2&&typeof arguments[1]==="object"){args=arguments[1]}else{args=new Array(arguments.length-1);for(var i=1;i<arguments.length;++i){args[i-1]=arguments[i]}}if(!args||!args.hasOwnProperty){args={}}return string.replace(nargs,function replaceArg(match,i,index){var result;if(string[index-1]==="{"&&string[index+match.length]==="}"){return i}else{result=args.hasOwnProperty(i)?args[i]:null;if(result===null||result===undefined){return""}return result}})}},{}],277:[function(require,module,exports){(function(global){"use strict";module.exports=require("./ponyfill")(global||window||this)}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"./ponyfill":278}],278:[function(require,module,exports){"use strict";module.exports=function symbolObservablePonyfill(root){var result;var Symbol=root.Symbol;if(typeof Symbol==="function"){if(Symbol.observable){result=Symbol.observable}else{result=Symbol("observable");Symbol.observable=result}}else{result="@@observable"}return result}},{}],279:[function(require,module,exports){"use strict";var punycode=require("punycode");var util=require("./util");exports.parse=urlParse;exports.resolve=urlResolve;exports.resolveObject=urlResolveObject;exports.format=urlFormat;exports.Url=Url;function Url(){this.protocol=null;this.slashes=null;this.auth=null;this.host=null;this.port=null;this.hostname=null;this.hash=null;this.search=null;this.query=null;this.pathname=null;this.path=null;this.href=null}var protocolPattern=/^([a-z0-9.+-]+:)/i,portPattern=/:[0-9]*$/,simplePathPattern=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,delims=["<",">",'"',"`"," ","\r","\n","	"],unwise=["{","}","|","\\","^","`"].concat(delims),autoEscape=["'"].concat(unwise),nonHostChars=["%","/","?",";","#"].concat(autoEscape),hostEndingChars=["/","?","#"],hostnameMaxLen=255,hostnamePartPattern=/^[+a-z0-9A-Z_-]{0,63}$/,hostnamePartStart=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,unsafeProtocol={javascript:true,"javascript:":true},hostlessProtocol={javascript:true,"javascript:":true},slashedProtocol={http:true,https:true,ftp:true,gopher:true,file:true,"http:":true,"https:":true,"ftp:":true,"gopher:":true,"file:":true},querystring=require("querystring");function urlParse(url,parseQueryString,slashesDenoteHost){if(url&&util.isObject(url)&&url instanceof Url)return url;var u=new Url;u.parse(url,parseQueryString,slashesDenoteHost);return u}Url.prototype.parse=function(url,parseQueryString,slashesDenoteHost){if(!util.isString(url)){throw new TypeError("Parameter 'url' must be a string, not "+typeof url)}var queryIndex=url.indexOf("?"),splitter=queryIndex!==-1&&queryIndex<url.indexOf("#")?"?":"#",uSplit=url.split(splitter),slashRegex=/\\/g;uSplit[0]=uSplit[0].replace(slashRegex,"/");url=uSplit.join(splitter);var rest=url;rest=rest.trim();if(!slashesDenoteHost&&url.split("#").length===1){var simplePath=simplePathPattern.exec(rest);if(simplePath){this.path=rest;this.href=rest;this.pathname=simplePath[1];if(simplePath[2]){this.search=simplePath[2];if(parseQueryString){this.query=querystring.parse(this.search.substr(1))}else{this.query=this.search.substr(1)}}else if(parseQueryString){this.search="";this.query={}}return this}}var proto=protocolPattern.exec(rest);if(proto){proto=proto[0];var lowerProto=proto.toLowerCase();this.protocol=lowerProto;rest=rest.substr(proto.length)}if(slashesDenoteHost||proto||rest.match(/^\/\/[^@\/]+@[^@\/]+/)){var slashes=rest.substr(0,2)==="//";if(slashes&&!(proto&&hostlessProtocol[proto])){rest=rest.substr(2);this.slashes=true}}if(!hostlessProtocol[proto]&&(slashes||proto&&!slashedProtocol[proto])){var hostEnd=-1;for(var i=0;i<hostEndingChars.length;i++){var hec=rest.indexOf(hostEndingChars[i]);if(hec!==-1&&(hostEnd===-1||hec<hostEnd))hostEnd=hec}var auth,atSign;if(hostEnd===-1){atSign=rest.lastIndexOf("@")}else{atSign=rest.lastIndexOf("@",hostEnd)}if(atSign!==-1){auth=rest.slice(0,atSign);rest=rest.slice(atSign+1);this.auth=decodeURIComponent(auth)}hostEnd=-1;for(var i=0;i<nonHostChars.length;i++){var hec=rest.indexOf(nonHostChars[i]);if(hec!==-1&&(hostEnd===-1||hec<hostEnd))hostEnd=hec}if(hostEnd===-1)hostEnd=rest.length;this.host=rest.slice(0,hostEnd);rest=rest.slice(hostEnd);this.parseHost();this.hostname=this.hostname||"";var ipv6Hostname=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!ipv6Hostname){var hostparts=this.hostname.split(/\./);for(var i=0,l=hostparts.length;i<l;i++){var part=hostparts[i];if(!part)continue;if(!part.match(hostnamePartPattern)){var newpart="";for(var j=0,k=part.length;j<k;j++){if(part.charCodeAt(j)>127){newpart+="x"}else{newpart+=part[j]}}if(!newpart.match(hostnamePartPattern)){var validParts=hostparts.slice(0,i);var notHost=hostparts.slice(i+1);var bit=part.match(hostnamePartStart);if(bit){validParts.push(bit[1]);notHost.unshift(bit[2])}if(notHost.length){rest="/"+notHost.join(".")+rest}this.hostname=validParts.join(".");break}}}}if(this.hostname.length>hostnameMaxLen){this.hostname=""}else{this.hostname=this.hostname.toLowerCase()}if(!ipv6Hostname){this.hostname=punycode.toASCII(this.hostname)}var p=this.port?":"+this.port:"";var h=this.hostname||"";this.host=h+p;this.href+=this.host;if(ipv6Hostname){this.hostname=this.hostname.substr(1,this.hostname.length-2);if(rest[0]!=="/"){rest="/"+rest}}}if(!unsafeProtocol[lowerProto]){for(var i=0,l=autoEscape.length;i<l;i++){var ae=autoEscape[i];if(rest.indexOf(ae)===-1)continue;var esc=encodeURIComponent(ae);if(esc===ae){esc=escape(ae)}rest=rest.split(ae).join(esc)}}var hash=rest.indexOf("#");if(hash!==-1){this.hash=rest.substr(hash);rest=rest.slice(0,hash)}var qm=rest.indexOf("?");if(qm!==-1){this.search=rest.substr(qm);this.query=rest.substr(qm+1);if(parseQueryString){this.query=querystring.parse(this.query)}rest=rest.slice(0,qm)}else if(parseQueryString){this.search="";this.query={}}if(rest)this.pathname=rest;if(slashedProtocol[lowerProto]&&this.hostname&&!this.pathname){this.pathname="/"}if(this.pathname||this.search){var p=this.pathname||"";var s=this.search||"";this.path=p+s}this.href=this.format();return this};function urlFormat(obj){if(util.isString(obj))obj=urlParse(obj);if(!(obj instanceof Url))return Url.prototype.format.call(obj);return obj.format()}Url.prototype.format=function(){var auth=this.auth||"";if(auth){auth=encodeURIComponent(auth);auth=auth.replace(/%3A/i,":");auth+="@"}var protocol=this.protocol||"",pathname=this.pathname||"",hash=this.hash||"",host=false,query="";if(this.host){host=auth+this.host}else if(this.hostname){host=auth+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]");if(this.port){host+=":"+this.port}}if(this.query&&util.isObject(this.query)&&Object.keys(this.query).length){query=querystring.stringify(this.query)}var search=this.search||query&&"?"+query||"";if(protocol&&protocol.substr(-1)!==":")protocol+=":";if(this.slashes||(!protocol||slashedProtocol[protocol])&&host!==false){host="//"+(host||"");if(pathname&&pathname.charAt(0)!=="/")pathname="/"+pathname}else if(!host){host=""}if(hash&&hash.charAt(0)!=="#")hash="#"+hash;if(search&&search.charAt(0)!=="?")search="?"+search;pathname=pathname.replace(/[?#]/g,function(match){return encodeURIComponent(match)});search=search.replace("#","%23");return protocol+host+pathname+search+hash};function urlResolve(source,relative){return urlParse(source,false,true).resolve(relative)}Url.prototype.resolve=function(relative){return this.resolveObject(urlParse(relative,false,true)).format()};function urlResolveObject(source,relative){if(!source)return relative;return urlParse(source,false,true).resolveObject(relative)}Url.prototype.resolveObject=function(relative){if(util.isString(relative)){var rel=new Url;rel.parse(relative,false,true);relative=rel}var result=new Url;var tkeys=Object.keys(this);for(var tk=0;tk<tkeys.length;tk++){var tkey=tkeys[tk];result[tkey]=this[tkey]}result.hash=relative.hash;if(relative.href===""){result.href=result.format();return result}if(relative.slashes&&!relative.protocol){var rkeys=Object.keys(relative);for(var rk=0;rk<rkeys.length;rk++){var rkey=rkeys[rk];if(rkey!=="protocol")result[rkey]=relative[rkey]}if(slashedProtocol[result.protocol]&&result.hostname&&!result.pathname){result.path=result.pathname="/"}result.href=result.format();return result}if(relative.protocol&&relative.protocol!==result.protocol){if(!slashedProtocol[relative.protocol]){var keys=Object.keys(relative);for(var v=0;v<keys.length;v++){var k=keys[v];result[k]=relative[k]}result.href=result.format();return result}result.protocol=relative.protocol;if(!relative.host&&!hostlessProtocol[relative.protocol]){var relPath=(relative.pathname||"").split("/");while(relPath.length&&!(relative.host=relPath.shift()));if(!relative.host)relative.host="";if(!relative.hostname)relative.hostname="";if(relPath[0]!=="")relPath.unshift("");if(relPath.length<2)relPath.unshift("");result.pathname=relPath.join("/")}else{result.pathname=relative.pathname}result.search=relative.search;result.query=relative.query;result.host=relative.host||"";result.auth=relative.auth;result.hostname=relative.hostname||relative.host;result.port=relative.port;if(result.pathname||result.search){var p=result.pathname||"";var s=result.search||"";result.path=p+s}result.slashes=result.slashes||relative.slashes;result.href=result.format();return result}var isSourceAbs=result.pathname&&result.pathname.charAt(0)==="/",isRelAbs=relative.host||relative.pathname&&relative.pathname.charAt(0)==="/",mustEndAbs=isRelAbs||isSourceAbs||result.host&&relative.pathname,removeAllDots=mustEndAbs,srcPath=result.pathname&&result.pathname.split("/")||[],relPath=relative.pathname&&relative.pathname.split("/")||[],psychotic=result.protocol&&!slashedProtocol[result.protocol];if(psychotic){result.hostname="";result.port=null;if(result.host){if(srcPath[0]==="")srcPath[0]=result.host;else srcPath.unshift(result.host)}result.host="";if(relative.protocol){relative.hostname=null;relative.port=null;if(relative.host){if(relPath[0]==="")relPath[0]=relative.host;else relPath.unshift(relative.host)}relative.host=null}mustEndAbs=mustEndAbs&&(relPath[0]===""||srcPath[0]==="")}if(isRelAbs){result.host=relative.host||relative.host===""?relative.host:result.host;result.hostname=relative.hostname||relative.hostname===""?relative.hostname:result.hostname;result.search=relative.search;result.query=relative.query;srcPath=relPath}else if(relPath.length){if(!srcPath)srcPath=[];srcPath.pop();srcPath=srcPath.concat(relPath);result.search=relative.search;result.query=relative.query}else if(!util.isNullOrUndefined(relative.search)){if(psychotic){result.hostname=result.host=srcPath.shift();var authInHost=result.host&&result.host.indexOf("@")>0?result.host.split("@"):false;if(authInHost){result.auth=authInHost.shift();result.host=result.hostname=authInHost.shift()}}result.search=relative.search;result.query=relative.query;if(!util.isNull(result.pathname)||!util.isNull(result.search)){result.path=(result.pathname?result.pathname:"")+(result.search?result.search:"")}result.href=result.format();return result}if(!srcPath.length){result.pathname=null;if(result.search){result.path="/"+result.search}else{result.path=null}result.href=result.format();return result}var last=srcPath.slice(-1)[0];var hasTrailingSlash=(result.host||relative.host||srcPath.length>1)&&(last==="."||last==="..")||last==="";var up=0;for(var i=srcPath.length;i>=0;i--){last=srcPath[i];if(last==="."){srcPath.splice(i,1)}else if(last===".."){srcPath.splice(i,1);up++}else if(up){srcPath.splice(i,1);up--}}if(!mustEndAbs&&!removeAllDots){for(;up--;up){srcPath.unshift("..")}}if(mustEndAbs&&srcPath[0]!==""&&(!srcPath[0]||srcPath[0].charAt(0)!=="/")){srcPath.unshift("")}if(hasTrailingSlash&&srcPath.join("/").substr(-1)!=="/"){srcPath.push("")}var isAbsolute=srcPath[0]===""||srcPath[0]&&srcPath[0].charAt(0)==="/";if(psychotic){result.hostname=result.host=isAbsolute?"":srcPath.length?srcPath.shift():"";var authInHost=result.host&&result.host.indexOf("@")>0?result.host.split("@"):false;if(authInHost){result.auth=authInHost.shift();result.host=result.hostname=authInHost.shift()}}mustEndAbs=mustEndAbs||result.host&&srcPath.length;if(mustEndAbs&&!isAbsolute){srcPath.unshift("")}if(!srcPath.length){result.pathname=null;result.path=null}else{result.pathname=srcPath.join("/")}if(!util.isNull(result.pathname)||!util.isNull(result.search)){result.path=(result.pathname?result.pathname:"")+(result.search?result.search:"")}result.auth=relative.auth||result.auth;result.slashes=result.slashes||relative.slashes;result.href=result.format();return result};Url.prototype.parseHost=function(){var host=this.host;var port=portPattern.exec(host);if(port){port=port[0];if(port!==":"){this.port=port.substr(1)}host=host.substr(0,host.length-port.length)}if(host)this.hostname=host}},{"./util":280,punycode:248,querystring:251}],280:[function(require,module,exports){"use strict";module.exports={isString:function(arg){return typeof arg==="string"},isObject:function(arg){return typeof arg==="object"&&arg!==null},isNull:function(arg){return arg===null},isNullOrUndefined:function(arg){return arg==null}}},{}],281:[function(require,module,exports){module.exports=function isBuffer(arg){return arg&&typeof arg==="object"&&typeof arg.copy==="function"&&typeof arg.fill==="function"&&typeof arg.readUInt8==="function"}},{}],282:[function(require,module,exports){(function(process,global){var formatRegExp=/%[sdj%]/g;exports.format=function(f){if(!isString(f)){var objects=[];for(var i=0;i<arguments.length;i++){objects.push(inspect(arguments[i]))}return objects.join(" ")}var i=1;var args=arguments;var len=args.length;var str=String(f).replace(formatRegExp,function(x){if(x==="%%")return"%";if(i>=len)return x;switch(x){case"%s":return String(args[i++]);case"%d":return Number(args[i++]);case"%j":try{return JSON.stringify(args[i++])}catch(_){return"[Circular]"}default:return x}});for(var x=args[i];i<len;x=args[++i]){if(isNull(x)||!isObject(x)){str+=" "+x}else{str+=" "+inspect(x)}}return str};exports.deprecate=function(fn,msg){if(isUndefined(global.process)){return function(){return exports.deprecate(fn,msg).apply(this,arguments)}}if(process.noDeprecation===true){return fn}var warned=false;function deprecated(){if(!warned){if(process.throwDeprecation){throw new Error(msg)}else if(process.traceDeprecation){console.trace(msg)}else{console.error(msg)}warned=true}return fn.apply(this,arguments)}return deprecated};var debugs={};var debugEnviron;exports.debuglog=function(set){if(isUndefined(debugEnviron))debugEnviron=process.env.NODE_DEBUG||"";set=set.toUpperCase();if(!debugs[set]){if(new RegExp("\\b"+set+"\\b","i").test(debugEnviron)){var pid=process.pid;debugs[set]=function(){var msg=exports.format.apply(exports,arguments);console.error("%s %d: %s",set,pid,msg)}}else{debugs[set]=function(){}}}return debugs[set]};function inspect(obj,opts){var ctx={seen:[],stylize:stylizeNoColor};if(arguments.length>=3)ctx.depth=arguments[2];if(arguments.length>=4)ctx.colors=arguments[3];if(isBoolean(opts)){ctx.showHidden=opts}else if(opts){exports._extend(ctx,opts)}if(isUndefined(ctx.showHidden))ctx.showHidden=false;if(isUndefined(ctx.depth))ctx.depth=2;if(isUndefined(ctx.colors))ctx.colors=false;if(isUndefined(ctx.customInspect))ctx.customInspect=true;if(ctx.colors)ctx.stylize=stylizeWithColor;return formatValue(ctx,obj,ctx.depth)}exports.inspect=inspect;inspect.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]};inspect.styles={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"};function stylizeWithColor(str,styleType){var style=inspect.styles[styleType];if(style){return"["+inspect.colors[style][0]+"m"+str+"["+inspect.colors[style][1]+"m"}else{return str}}function stylizeNoColor(str,styleType){return str}function arrayToHash(array){var hash={};array.forEach(function(val,idx){hash[val]=true});return hash}function formatValue(ctx,value,recurseTimes){if(ctx.customInspect&&value&&isFunction(value.inspect)&&value.inspect!==exports.inspect&&!(value.constructor&&value.constructor.prototype===value)){var ret=value.inspect(recurseTimes,ctx);if(!isString(ret)){ret=formatValue(ctx,ret,recurseTimes)}return ret}var primitive=formatPrimitive(ctx,value);if(primitive){return primitive}var keys=Object.keys(value);var visibleKeys=arrayToHash(keys);if(ctx.showHidden){keys=Object.getOwnPropertyNames(value)}if(isError(value)&&(keys.indexOf("message")>=0||keys.indexOf("description")>=0)){return formatError(value)}if(keys.length===0){if(isFunction(value)){var name=value.name?": "+value.name:"";return ctx.stylize("[Function"+name+"]","special")}if(isRegExp(value)){return ctx.stylize(RegExp.prototype.toString.call(value),"regexp")}if(isDate(value)){return ctx.stylize(Date.prototype.toString.call(value),"date")}if(isError(value)){return formatError(value)}}var base="",array=false,braces=["{","}"];if(isArray(value)){array=true;braces=["[","]"]}if(isFunction(value)){var n=value.name?": "+value.name:"";base=" [Function"+n+"]"}if(isRegExp(value)){base=" "+RegExp.prototype.toString.call(value)}if(isDate(value)){base=" "+Date.prototype.toUTCString.call(value)}if(isError(value)){base=" "+formatError(value)}if(keys.length===0&&(!array||value.length==0)){return braces[0]+base+braces[1]}if(recurseTimes<0){if(isRegExp(value)){return ctx.stylize(RegExp.prototype.toString.call(value),"regexp")}else{return ctx.stylize("[Object]","special")}}ctx.seen.push(value);var output;if(array){output=formatArray(ctx,value,recurseTimes,visibleKeys,keys)}else{output=keys.map(function(key){return formatProperty(ctx,value,recurseTimes,visibleKeys,key,array)})}ctx.seen.pop();return reduceToSingleString(output,base,braces)}function formatPrimitive(ctx,value){if(isUndefined(value))return ctx.stylize("undefined","undefined");if(isString(value)){var simple="'"+JSON.stringify(value).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return ctx.stylize(simple,"string")}if(isNumber(value))return ctx.stylize(""+value,"number");if(isBoolean(value))return ctx.stylize(""+value,"boolean");if(isNull(value))return ctx.stylize("null","null")}function formatError(value){return"["+Error.prototype.toString.call(value)+"]"}function formatArray(ctx,value,recurseTimes,visibleKeys,keys){var output=[];for(var i=0,l=value.length;i<l;++i){if(hasOwnProperty(value,String(i))){output.push(formatProperty(ctx,value,recurseTimes,visibleKeys,String(i),true))}else{output.push("")}}keys.forEach(function(key){if(!key.match(/^\d+$/)){output.push(formatProperty(ctx,value,recurseTimes,visibleKeys,key,true))}});return output}function formatProperty(ctx,value,recurseTimes,visibleKeys,key,array){var name,str,desc;desc=Object.getOwnPropertyDescriptor(value,key)||{value:value[key]};if(desc.get){if(desc.set){str=ctx.stylize("[Getter/Setter]","special")}else{str=ctx.stylize("[Getter]","special")}}else{if(desc.set){str=ctx.stylize("[Setter]","special")}}if(!hasOwnProperty(visibleKeys,key)){name="["+key+"]"}if(!str){if(ctx.seen.indexOf(desc.value)<0){if(isNull(recurseTimes)){str=formatValue(ctx,desc.value,null)}else{str=formatValue(ctx,desc.value,recurseTimes-1)}if(str.indexOf("\n")>-1){if(array){str=str.split("\n").map(function(line){return"  "+line}).join("\n").substr(2)}else{str="\n"+str.split("\n").map(function(line){return"   "+line}).join("\n")}}}else{str=ctx.stylize("[Circular]","special")}}if(isUndefined(name)){if(array&&key.match(/^\d+$/)){return str}name=JSON.stringify(""+key);if(name.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)){name=name.substr(1,name.length-2);name=ctx.stylize(name,"name")}else{name=name.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'");name=ctx.stylize(name,"string")}}return name+": "+str}function reduceToSingleString(output,base,braces){var numLinesEst=0;var length=output.reduce(function(prev,cur){numLinesEst++;if(cur.indexOf("\n")>=0)numLinesEst++;return prev+cur.replace(/\u001b\[\d\d?m/g,"").length+1},0);if(length>60){return braces[0]+(base===""?"":base+"\n ")+" "+output.join(",\n  ")+" "+braces[1]}return braces[0]+base+" "+output.join(", ")+" "+braces[1]}function isArray(ar){return Array.isArray(ar)}exports.isArray=isArray;function isBoolean(arg){return typeof arg==="boolean"}exports.isBoolean=isBoolean;function isNull(arg){return arg===null}exports.isNull=isNull;function isNullOrUndefined(arg){return arg==null}exports.isNullOrUndefined=isNullOrUndefined;function isNumber(arg){return typeof arg==="number"}exports.isNumber=isNumber;function isString(arg){return typeof arg==="string"}exports.isString=isString;function isSymbol(arg){return typeof arg==="symbol"}exports.isSymbol=isSymbol;function isUndefined(arg){return arg===void 0}exports.isUndefined=isUndefined;function isRegExp(re){return isObject(re)&&objectToString(re)==="[object RegExp]"}exports.isRegExp=isRegExp;function isObject(arg){return typeof arg==="object"&&arg!==null}exports.isObject=isObject;function isDate(d){return isObject(d)&&objectToString(d)==="[object Date]"}exports.isDate=isDate;function isError(e){return isObject(e)&&(objectToString(e)==="[object Error]"||e instanceof Error)}exports.isError=isError;function isFunction(arg){return typeof arg==="function"}exports.isFunction=isFunction;function isPrimitive(arg){return arg===null||typeof arg==="boolean"||typeof arg==="number"||typeof arg==="string"||typeof arg==="symbol"||typeof arg==="undefined"}exports.isPrimitive=isPrimitive;exports.isBuffer=require("./support/isBuffer");function objectToString(o){return Object.prototype.toString.call(o)}function pad(n){return n<10?"0"+n.toString(10):n.toString(10)}var months=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function timestamp(){var d=new Date;var time=[pad(d.getHours()),pad(d.getMinutes()),pad(d.getSeconds())].join(":");return[d.getDate(),months[d.getMonth()],time].join(" ")}exports.log=function(){
console.log("%s - %s",timestamp(),exports.format.apply(exports,arguments))};exports.inherits=require("inherits");exports._extend=function(origin,add){if(!add||!isObject(add))return origin;var keys=Object.keys(add);var i=keys.length;while(i--){origin[keys[i]]=add[keys[i]]}return origin};function hasOwnProperty(obj,prop){return Object.prototype.hasOwnProperty.call(obj,prop)}}).call(this,require("_process"),typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"./support/isBuffer":281,_process:247,inherits:234}],283:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends2=require("babel-runtime/helpers/extends");var _extends3=_interopRequireDefault(_extends2);var _CSSContainer=require("./CSSContainer");var _CSSContainer2=_interopRequireDefault(_CSSContainer);var _element=require("vdux/element");var _element2=_interopRequireDefault(_element);var _vduxUi=require("vdux-ui");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function render(_ref){var props=_ref.props;var children=_ref.children;var _props$ui=props.ui;var ui=_props$ui===undefined?_vduxUi.Button:_props$ui;return(0,_element2.default)(_CSSContainer2.default,(0,_extends3.default)({hoverProps:{highlight:true},focusProps:{highlight:true},activeProps:{highlight:false},lingerProps:{ttShown:true}},props,{ui:ui}),children)}exports.default={render:render}},{"./CSSContainer":284,"babel-runtime/helpers/extends":130,"vdux-ui":341,"vdux/element":345}],284:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _defineProperty2=require("babel-runtime/helpers/defineProperty");var _defineProperty3=_interopRequireDefault(_defineProperty2);var _extends2=require("babel-runtime/helpers/extends");var _extends3=_interopRequireDefault(_extends2);var _handleActions;var _handleActions2=require("@f/handle-actions");var _handleActions3=_interopRequireDefault(_handleActions2);var _createAction=require("@f/create-action");var _createAction2=_interopRequireDefault(_createAction);var _containsElement=require("@f/contains-element");var _containsElement2=_interopRequireDefault(_containsElement);var _foreachObj=require("@f/foreach-obj");var _foreachObj2=_interopRequireDefault(_foreachObj);var _document=require("vdux/document");var _document2=_interopRequireDefault(_document);var _element=require("vdux/element");var _element2=_interopRequireDefault(_element);var _vduxDelay=require("vdux-delay");var _vduxDelay2=_interopRequireDefault(_vduxDelay);var _extend=require("@f/extend");var _extend2=_interopRequireDefault(_extend);var _omit=require("@f/omit");var _omit2=_interopRequireDefault(_omit);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function initialState(){return{hover:false,linger:false,active:false,focus:false}}var filterProps=(0,_omit2.default)(["hoverProps","activeProps","focusProps","lingerProps","lingerDelay","ui"]);function render(_ref){var props=_ref.props;var children=_ref.children;var state=_ref.state;var local=_ref.local;var mergedProps=filterProps(props);var hoverProps=props.hoverProps;var activeProps=props.activeProps;var focusProps=props.focusProps;var lingerProps=props.lingerProps;var Ui=props.ui;if(state.hover&&hoverProps)(0,_extend2.default)(mergedProps,hoverProps);if(state.linger&&lingerProps)(0,_extend2.default)(mergedProps,lingerProps);if(state.focus&&focusProps)(0,_extend2.default)(mergedProps,focusProps);if(state.active&&activeProps)(0,_extend2.default)(mergedProps,activeProps);return(0,_element2.default)(Ui,mergedProps,children)}function onUpdate(prev,next){var props=next.props;var local=next.local;var state=next.state;var _props$lingerDelay=props.lingerDelay;var lingerDelay=_props$lingerDelay===undefined?500:_props$lingerDelay;if(next.state.hover&&!prev.state.hover){return function(dispatch){return dispatch(local(storeTimeoutId)(setTimeout(function(){return dispatch(local(linger)())},lingerDelay)))}}if(!next.state.hover&&prev.state.hover){clearTimeout(state.timeoutId);return local(storeTimeoutId)(null)}}function afterRender(_ref2,node){var local=_ref2.local;var state=_ref2.state;var path=_ref2.path;var props=_ref2.props;var hoverProps=props.hoverProps;var activeProps=props.activeProps;var focusProps=props.focusProps;var lingerProps=props.lingerProps;var _props$lingerDelay2=props.lingerDelay;var lingerDelay=_props$lingerDelay2===undefined?500:_props$lingerDelay2;delegate();return function(dispatch){clear(node,path);clear(document,path);if(hoverProps||lingerProps){handle(node,path,"mouseenter",function(){prop(node,"hover",true);dispatch(local(mouseEnter)())});handle(node,path,"mouseleave",function(){prop(node,"hover",false);dispatch(local(mouseLeave)())});if(state.hover&&!state.linger){handle(document,path,"mousemove",function(e){return(0,_containsElement2.default)(node,e.target)||dispatch(local(mouseLeave)())})}}if(activeProps){handle(node,path,"mousedown",function(){return dispatch(local(mouseDown)())});if(state.active){handle(document,path,"mouseup",function(){return dispatch(local(mouseUp)())})}}if(focusProps){handle(node,path,"focus",function(){return dispatch(local(focus)())});handle(node,path,"blur",function(){return dispatch(local(blur)())})}}}function onRemove(_ref3){var path=_ref3.path;var state=_ref3.state;clearTimeout(state.timeoutId);clear(document,path)}function handle(node,path,name,fn){var store=node[delegateKey]=node[delegateKey]||{};var events=store[path]=store[path]||{};events[name]=fn}function clear(node,path){if(node[delegateKey]&&node[delegateKey][path]){delete node[delegateKey][path]}}function prop(node,name,value){var key=delegateKey+"_"+name;if(arguments.length===3){node[key]=value}return node[key]}var metaCreator=function metaCreator(){return{logLevel:"debug"}};var mouseEnter=(0,_createAction2.default)("<CSSContainer/>: mouseEnter",null,metaCreator);var mouseLeave=(0,_createAction2.default)("<CSSContainer/>: mouseLeave",null,metaCreator);var mouseDown=(0,_createAction2.default)("<CSSContainer/>: mouseDown",null,metaCreator);var mouseUp=(0,_createAction2.default)("<CSSContainer/>: mouseUp",null,metaCreator);var focus=(0,_createAction2.default)("<CSSContainer/>: focus",null,metaCreator);var blur=(0,_createAction2.default)("<CSSContainer/>: blur",null,metaCreator);var linger=(0,_createAction2.default)("<CSSContainer/>: linger",null,metaCreator);var storeTimeoutId=(0,_createAction2.default)("<CSSContainer/>: storeTimeoutId",null,metaCreator);var reducer=(0,_handleActions3.default)((_handleActions={},(0,_defineProperty3.default)(_handleActions,mouseEnter,function(state){return(0,_extends3.default)({},state,{hover:true})}),(0,_defineProperty3.default)(_handleActions,mouseLeave,function(state){return(0,_extends3.default)({},state,{hover:false,linger:false})}),(0,_defineProperty3.default)(_handleActions,mouseDown,function(state){return(0,_extends3.default)({},state,{active:true})}),(0,_defineProperty3.default)(_handleActions,mouseUp,function(state){return(0,_extends3.default)({},state,{active:false})}),(0,_defineProperty3.default)(_handleActions,focus,function(state){return(0,_extends3.default)({},state,{focus:true})}),(0,_defineProperty3.default)(_handleActions,blur,function(state){return(0,_extends3.default)({},state,{focus:false})}),(0,_defineProperty3.default)(_handleActions,linger,function(state){return(0,_extends3.default)({},state,{linger:true})}),(0,_defineProperty3.default)(_handleActions,storeTimeoutId,function(state,timeoutId){return(0,_extends3.default)({},state,{timeoutId:timeoutId})}),_handleActions));var delegated=false;var delegateKey="$$CSSContainer";var events=["mousedown","mouseup","mousemove","mouseenter","mouseleave","blur","focus"];function delegate(){if(delegated)return;delegated=true;events.forEach(function(name){return document.addEventListener(name,function(e){var node=e.target;while(node){var store=node[delegateKey];if(store){(0,_foreachObj2.default)(function(events){if(events[e.type]){events[e.type](e,node)}},store)}if(!e.bubbles)break;node=node.parentNode}},true)})}function handler(a,b){if(a&&!b)return a;if(b&&!a)return b;return[a,b]}exports.default={initialState:initialState,render:render,onUpdate:onUpdate,afterRender:afterRender,reducer:reducer,onRemove:onRemove}},{"@f/contains-element":13,"@f/create-action":14,"@f/extend":29,"@f/foreach-obj":35,"@f/handle-actions":43,"@f/omit":81,"babel-runtime/helpers/defineProperty":129,"babel-runtime/helpers/extends":130,"vdux-delay":296,"vdux/document":343,"vdux/element":345}],285:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _defineProperty2=require("babel-runtime/helpers/defineProperty");var _defineProperty3=_interopRequireDefault(_defineProperty2);var _extends2=require("babel-runtime/helpers/extends");var _extends3=_interopRequireDefault(_extends2);var _handleActions;var _combineReducers=require("@f/combine-reducers");var _combineReducers2=_interopRequireDefault(_combineReducers);var _vduxUi=require("vdux-ui");var _handleActions2=require("@f/handle-actions");var _handleActions3=_interopRequireDefault(_handleActions2);var _createAction=require("@f/create-action");var _createAction2=_interopRequireDefault(_createAction);var _element=require("vdux/element");var _element2=_interopRequireDefault(_element);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function initialState(){return{open:false}}function render(_ref){var props=_ref.props;var state=_ref.state;var local=_ref.local;var children=_ref.children;var open=state.open;var btn=props.btn;var _props$closeOnEsc=props.closeOnEsc;var closeOnEsc=_props$closeOnEsc===undefined?true:_props$closeOnEsc;var api={toggle:local(toggle),close:local(close)};if(props.ref)props.ref(api);if(!props.btn)throw new Error("Forgot to pass required `btn` prop to <Dropdown/>");return(0,_element2.default)(_vduxUi.Dropdown,{onKeyup:{esc:closeOnEsc&&api.close}},typeof btn==="function"?btn(api,open):(0,_element2.default)("span",{onClick:api.toggle,style:{cursor:"pointer"}},btn),(0,_element2.default)(_vduxUi.DropdownMenu,(0,_extends3.default)({},props,{open:open,onDismiss:[api.close,props.onDismiss]}),children))}var toggle=(0,_createAction2.default)("<Dropdown/>: toggle");var close=(0,_createAction2.default)("<Dropdown/>: close");var reducer=(0,_combineReducers2.default)({open:(0,_handleActions3.default)((_handleActions={},(0,_defineProperty3.default)(_handleActions,toggle,function(state){return!state}),(0,_defineProperty3.default)(_handleActions,close,function(){return false}),_handleActions))});exports.default={initialState:initialState,render:render,reducer:reducer}},{"@f/combine-reducers":9,"@f/create-action":14,"@f/handle-actions":43,"babel-runtime/helpers/defineProperty":129,"babel-runtime/helpers/extends":130,"vdux-ui":341,"vdux/element":345}],286:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _defineProperty2=require("babel-runtime/helpers/defineProperty");var _defineProperty3=_interopRequireDefault(_defineProperty2);var _extends2=require("babel-runtime/helpers/extends");var _extends3=_interopRequireDefault(_extends2);var _handleActions2=require("@f/handle-actions");var _handleActions3=_interopRequireDefault(_handleActions2);var _createAction=require("@f/create-action");var _createAction2=_interopRequireDefault(_createAction);var _CSSContainer=require("./CSSContainer");var _CSSContainer2=_interopRequireDefault(_CSSContainer);var _element=require("vdux/element");var _element2=_interopRequireDefault(_element);var _vduxUi=require("vdux-ui");var _wrap=require("./wrap");var _wrap2=_interopRequireDefault(_wrap);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function render(_ref){var props=_ref.props;var state=_ref.state;var local=_ref.local;var children=_ref.children;var _props$ui=props.ui;var Ui=_props$ui===undefined?_vduxUi.Input:_props$ui;var onInvalid=props.onInvalid;var onChange=props.onChange;var invalid=state.invalid;var message=state.message;return(0,_element2.default)(Ui,(0,_extends3.default)({invalid:invalid,message:message},props,{onChange:[onChange,local(function(e){return setValidity("")})],onInvalid:[onInvalid,local(function(e){return setValidity(e.target.validationMessage)})]}))}var setValidity=(0,_createAction2.default)("<Input/>: setValidity");var reducer=(0,_handleActions3.default)((0,_defineProperty3.default)({},setValidity,function(state,message){return{invalid:!!message,message:message}}));exports.default=(0,_wrap2.default)(_CSSContainer2.default)({reducer:reducer,render:render})},{"./CSSContainer":284,"./wrap":295,"@f/create-action":14,"@f/handle-actions":43,"babel-runtime/helpers/defineProperty":129,"babel-runtime/helpers/extends":130,"vdux-ui":341,"vdux/element":345}],287:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends2=require("babel-runtime/helpers/extends");var _extends3=_interopRequireDefault(_extends2);var _vduxUi=require("vdux-ui");var _element=require("vdux/element");var _element2=_interopRequireDefault(_element);var _CSSContainer=require("./CSSContainer");var _CSSContainer2=_interopRequireDefault(_CSSContainer);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function render(_ref){var props=_ref.props;var children=_ref.children;return(0,_element2.default)(_CSSContainer2.default,(0,_extends3.default)({ui:_vduxUi.MenuItem,hoverProps:{highlight:.05}},props),children)}exports.default={render:render}},{"./CSSContainer":284,"babel-runtime/helpers/extends":130,"vdux-ui":341,"vdux/element":345}],288:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends2=require("babel-runtime/helpers/extends");var _extends3=_interopRequireDefault(_extends2);var _CSSContainer=require("./CSSContainer");var _CSSContainer2=_interopRequireDefault(_CSSContainer);var _virtex=require("virtex");var _element=require("vdux/element");var _element2=_interopRequireDefault(_element);var _vduxUi=require("vdux-ui");var _autosize=require("autosize");var _autosize2=_interopRequireDefault(_autosize);var _wrap=require("./wrap");var _wrap2=_interopRequireDefault(_wrap);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function onCreate(model){return function(){return setTimeout(function(){return(0,_autosize2.default)((0,_virtex.findDOMNode)(model).querySelector("textarea"))})}}function render(_ref){var props=_ref.props;var h=props.h;var sq=props.sq;var height=props.height;if(h||sq||height){throw new Error("<Textarea/>: autogrowable textarea does not accept an explicit height. If you want to set a starting height parameter, uses the `rows` prop")}return(0,_element2.default)(_vduxUi.Textarea,(0,_extends3.default)({rows:1},props))}exports.default=(0,_wrap2.default)(_CSSContainer2.default)({onCreate:onCreate,render:render})},{"./CSSContainer":284,"./wrap":295,autosize:122,"babel-runtime/helpers/extends":130,"vdux-ui":341,"vdux/element":345,virtex:359}],289:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends2=require("babel-runtime/helpers/extends");var _extends3=_interopRequireDefault(_extends2);var _CSSContainer=require("./CSSContainer");var _CSSContainer2=_interopRequireDefault(_CSSContainer);var _element=require("vdux/element");var _element2=_interopRequireDefault(_element);var _vduxUi=require("vdux-ui");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function render(_ref){var props=_ref.props;var children=_ref.children;var _props$ui=props.ui;var ui=_props$ui===undefined?_vduxUi.Toggle:_props$ui;var _props$uiProps=props.uiProps;var uiProps=_props$uiProps===undefined?{}:_props$uiProps;return(0,_element2.default)(_CSSContainer2.default,(0,_extends3.default)({activeProps:{uiProps:(0,_extends3.default)({squished:true},uiProps)}},props,{ui:ui}),children)}exports.default={render:render}},{"./CSSContainer":284,"babel-runtime/helpers/extends":130,"vdux-ui":341,"vdux/element":345}],290:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends2=require("babel-runtime/helpers/extends");var _extends3=_interopRequireDefault(_extends2);var _objectWithoutProperties2=require("babel-runtime/helpers/objectWithoutProperties");var _objectWithoutProperties3=_interopRequireDefault(_objectWithoutProperties2);var _handleActions=require("@f/handle-actions");var _handleActions2=_interopRequireDefault(_handleActions);var _createAction=require("@f/create-action");var _createAction2=_interopRequireDefault(_createAction);var _CSSContainer=require("./CSSContainer");var _CSSContainer2=_interopRequireDefault(_CSSContainer);var _vduxUi=require("vdux-ui");var _element=require("vdux/element");var _element2=_interopRequireDefault(_element);var _wrap=require("./wrap");var _wrap2=_interopRequireDefault(_wrap);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function render(_ref){var props=_ref.props;var children=_ref.children;var _props$ui=props.ui;var Tt=_props$ui===undefined?_vduxUi.Tooltip:_props$ui;var message=props.message;var show=props.show;var placement=props.placement;var space=props.space;var _props$tooltipProps=props.tooltipProps;var tooltipProps=_props$tooltipProps===undefined?{}:_props$tooltipProps;var otherProps=(0,_objectWithoutProperties3.default)(props,["ui","message","show","placement","space","tooltipProps"]);return(0,_element2.default)(_vduxUi.Base,(0,_extends3.default)({overflow:"visible"},otherProps),children,(0,_element2.default)(Tt,(0,_extends3.default)({placement:placement,space:space,show:message&&show},tooltipProps),message))}exports.default=(0,_wrap2.default)(_CSSContainer2.default,{lingerProps:{show:true}})({render:render})},{"./CSSContainer":284,"./wrap":295,"@f/create-action":14,"@f/handle-actions":43,"babel-runtime/helpers/extends":130,"babel-runtime/helpers/objectWithoutProperties":131,"vdux-ui":341,"vdux/element":345}],291:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _defineProperty2=require("babel-runtime/helpers/defineProperty");var _defineProperty3=_interopRequireDefault(_defineProperty2);var _slicedToArray2=require("babel-runtime/helpers/slicedToArray");var _slicedToArray3=_interopRequireDefault(_slicedToArray2);var _regenerator=require("babel-runtime/regenerator");var _regenerator2=_interopRequireDefault(_regenerator);var _extends4=require("babel-runtime/helpers/extends");var _extends5=_interopRequireDefault(_extends4);var _handleActions2=require("@f/handle-actions");var _handleActions3=_interopRequireDefault(_handleActions2);var _createAction=require("@f/create-action");var _createAction2=_interopRequireDefault(_createAction);var _serializeForm=require("@f/serialize-form");var _serializeForm2=_interopRequireDefault(_serializeForm);var _element=require("vdux/element");var _element2=_interopRequireDefault(_element);var _identity=require("@f/identity");var _identity2=_interopRequireDefault(_identity);var _noop=require("@f/noop");var _noop2=_interopRequireDefault(_noop);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function form(fn){return function(Component){var _handleActions;return{initialState:function initialState(_ref){var props=_ref.props;var _fn=fn(props);var fields=_fn.fields;return{submitted:false,fields:fields.reduce(function(acc,field){acc[field]={error:null,touched:false,value:undefined};return acc},{})}},render:function render(_ref2){var _marked=[toggleAll,handleChange,fieldChanged,handleSubmit].map(_regenerator2.default.mark);var props=_ref2.props;var state=_ref2.state;var local=_ref2.local;var children=_ref2.children;var _fn2=fn(props);var _fn2$validate=_fn2.validate;var validate=_fn2$validate===undefined?defaultValidate:_fn2$validate;var _fn2$cast=_fn2.cast;var cast=_fn2$cast===undefined?_identity2.default:_fn2$cast;var _fn2$onSubmit=_fn2.onSubmit;var onSubmit=_fn2$onSubmit===undefined?_noop2.default:_fn2$onSubmit;var _fn2$onSuccess=_fn2.onSuccess;var onSuccess=_fn2$onSuccess===undefined?_noop2.default:_fn2$onSuccess;var _fn2$onFailure=_fn2.onFailure;var onFailure=_fn2$onFailure===undefined?_noop2.default:_fn2$onFailure;var node=void 0;return(0,_element2.default)("form",{ref:function ref(_node){return node=_node},onSubmit:handleSubmit,onChange:handleChange},(0,_element2.default)(Component,(0,_extends5.default)({},props,state,{toggleAll:toggleAll}),children));function toggleAll(name){var checkboxes,changed,i,box,_i;return _regenerator2.default.wrap(function toggleAll$(_context){while(1){switch(_context.prev=_context.next){case 0:checkboxes=node.querySelectorAll('input[name="'+name+'[]"]');changed=false;for(i=0;i<checkboxes.length;i++){box=checkboxes[i];if(!box.checked){box.checked=true;changed=true}}if(!changed){for(_i=0;_i<checkboxes.length;_i++){checkboxes[_i].checked=false}}_context.next=6;return fieldChanged(node,name);case 6:case"end":return _context.stop()}}},_marked[0],this)}function handleChange(e){var _e$target,form,name;return _regenerator2.default.wrap(function handleChange$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_e$target=e.target;form=_e$target.form;name=_e$target.name;_context2.next=5;return fieldChanged(form,name);case 5:case"end":return _context2.stop()}}},_marked[1],this)}function fieldChanged(form,name){var model,_validate,valid,errors,_errors,error;return _regenerator2.default.wrap(function fieldChanged$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:name=normalizeName(name);model=(0,_serializeForm2.default)(form);_validate=validate(model,name);valid=_validate.valid;errors=_validate.errors;_context3.next=7;return local(change)({name:name,value:model[name]});case 7:if(valid){_context3.next=12;break}_errors=(0,_slicedToArray3.default)(errors,1);error=_errors[0];_context3.next=12;return local(invalidate)({name:name,error:error});case 12:case"end":return _context3.stop()}}},_marked[2],this)}function handleSubmit(e){var form,model,_validate2,valid,errors,res;return _regenerator2.default.wrap(function handleSubmit$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:e.preventDefault();form=e.target;model=(0,_serializeForm2.default)(form);_validate2=validate(model);valid=_validate2.valid;errors=_validate2.errors;_context4.next=8;return local(submit)();case 8:if(!valid){_context4.next=23;break}_context4.prev=9;_context4.next=12;return onSubmit(model);case 12:res=_context4.sent;_context4.next=15;return onSuccess(res);case 15:_context4.next=21;break;case 17:_context4.prev=17;_context4.t0=_context4["catch"](9);_context4.next=21;return onFailure(_context4.t0);case 21:_context4.next=25;break;case 23:_context4.next=25;return errors.map(function(_ref3){var field=_ref3.field;var message=_ref3.message;return local(invalidate)({name:field,error:message})});case 25:case"end":return _context4.stop()}}},_marked[3],this,[[9,17]])}},reducer:(0,_handleActions3.default)((_handleActions={},(0,_defineProperty3.default)(_handleActions,submit,function(state){return(0,_extends5.default)({},state,{submitted:true})}),(0,_defineProperty3.default)(_handleActions,change,function(state,_ref4){var name=_ref4.name;var value=_ref4.value;return(0,_extends5.default)({},state,{fields:(0,_extends5.default)({},state.fields,(0,_defineProperty3.default)({},name,(0,_extends5.default)({},state.fields[name],{error:null,touched:true,value:value})))})}),(0,_defineProperty3.default)(_handleActions,invalidate,function(state,_ref5){var name=_ref5.name;var error=_ref5.error;return(0,_extends5.default)({},state,{fields:(0,_extends5.default)({},state.fields,(0,_defineProperty3.default)({},name,(0,_extends5.default)({},state.fields[name],{error:error})))})}),_handleActions))}}}var change=(0,_createAction2.default)("<FormContainer/>: change",null,function(){return{logLevel:"debug"}});var submit=(0,_createAction2.default)("<FormContainer/>: submit",null,function(){return{logLevel:"debug"}});var invalidate=(0,_createAction2.default)("<FormContainer/>: invalidate",null,function(){return{logLevel:"debug"}});function defaultValidate(){return{valid:true,errors:[]}}function normalizeName(name){var idx=name.indexOf("[");return idx===-1?name:name.slice(0,idx)}exports.default=form},{"@f/create-action":14,"@f/handle-actions":43,"@f/identity":48,"@f/noop":77,"@f/serialize-form":91,"babel-runtime/helpers/defineProperty":129,"babel-runtime/helpers/extends":130,"babel-runtime/helpers/slicedToArray":132,"babel-runtime/regenerator":204,"vdux/element":345}],292:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _defineProperty2=require("babel-runtime/helpers/defineProperty");var _defineProperty3=_interopRequireDefault(_defineProperty2);var _extends2=require("babel-runtime/helpers/extends");var _extends3=_interopRequireDefault(_extends2);var _regenerator=require("babel-runtime/regenerator");var _regenerator2=_interopRequireDefault(_regenerator);var _handleActions;var _handleActions2=require("@f/handle-actions");var _handleActions3=_interopRequireDefault(_handleActions2);var _createAction=require("@f/create-action");var _createAction2=_interopRequireDefault(_createAction);var _loadImage=require("@f/load-image");var _loadImage2=_interopRequireDefault(_loadImage);var _element=require("vdux/element");var _element2=_interopRequireDefault(_element);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var hasImage=typeof window!=="undefined";function imageLoaded(fn){return function(Component){return{initialState:function initialState(){return{loaded:false}},onCreate:_regenerator2.default.mark(function onCreate(_ref){var props=_ref.props;var local=_ref.local;var url;return _regenerator2.default.wrap(function onCreate$(_context){while(1){switch(_context.prev=_context.next){case 0:url=fn(props);if(!(hasImage&&url)){_context.next=6;break}_context.next=4;return(0,_loadImage2.default)(url);case 4:_context.next=6;return local(loaded)();case 6:case"end":return _context.stop()}}},onCreate,this)}),render:function render(_ref2){var props=_ref2.props;var state=_ref2.state;var children=_ref2.children;return(0,_element2.default)(Component,(0,_extends3.default)({},props,{isLoaded:state.loaded}),children)},onUpdate:_regenerator2.default.mark(function onUpdate(prev,next){var purl,nurl;return _regenerator2.default.wrap(function onUpdate$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:purl=fn(prev.props);nurl=fn(next.props);if(!(hasImage&&nurl&&purl!==nurl)){_context2.next=9;break}_context2.next=5;return next.local(unloaded)();case 5:_context2.next=7;return(0,_loadImage2.default)(nurl);case 7:_context2.next=9;return next.local(loaded)();case 9:case"end":return _context2.stop()}}},onUpdate,this)}),reducer:reducer}}}var loaded=(0,_createAction2.default)("Image loader: image loaded",null,function(){return{logLevel:"debug"}});var unloaded=(0,_createAction2.default)("Image loader: image unloaded",null,function(){return{logLevel:"debug"}});var reducer=(0,_handleActions3.default)((_handleActions={},(0,_defineProperty3.default)(_handleActions,unloaded,function(state){return(0,_extends3.default)({},state,{loaded:false})}),(0,_defineProperty3.default)(_handleActions,loaded,function(state){return(0,_extends3.default)({},state,{loaded:true})}),_handleActions));exports.default=imageLoaded},{"@f/create-action":14,"@f/handle-actions":43,"@f/load-image":69,"babel-runtime/helpers/defineProperty":129,"babel-runtime/helpers/extends":130,"babel-runtime/regenerator":204,"vdux/element":345}],293:[function(require,module,exports){"use strict";var _extends2=require("babel-runtime/helpers/extends");var _extends3=_interopRequireDefault(_extends2);var _CSSContainer=require("./CSSContainer");var _CSSContainer2=_interopRequireDefault(_CSSContainer);var _imageLoaded=require("./imageLoaded");var _imageLoaded2=_interopRequireDefault(_imageLoaded);var _subscribe=require("./subscribe");var _subscribe2=_interopRequireDefault(_subscribe);var _element=require("vdux/element");var _element2=_interopRequireDefault(_element);var _MenuItem=require("./MenuItem");var _MenuItem2=_interopRequireDefault(_MenuItem);var _Textarea=require("./Textarea");var _Textarea2=_interopRequireDefault(_Textarea);var _Dropdown=require("./Dropdown");var _Dropdown2=_interopRequireDefault(_Dropdown);var _Tooltip=require("./Tooltip");var _Tooltip2=_interopRequireDefault(_Tooltip);var _Toggle=require("./Toggle");var _Toggle2=_interopRequireDefault(_Toggle);var _Button=require("./Button");var _Button2=_interopRequireDefault(_Button);var _mapObj=require("@f/map-obj");var _mapObj2=_interopRequireDefault(_mapObj);var _Input=require("./Input");var _Input2=_interopRequireDefault(_Input);var _wrap=require("./wrap");var _wrap2=_interopRequireDefault(_wrap);var _form=require("./form");var _form2=_interopRequireDefault(_form);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}module.exports=(0,_extends3.default)({},(0,_mapObj2.default)((0,_wrap2.default)(_CSSContainer2.default),require("vdux-ui")),{CSSContainer:_CSSContainer2.default,Button:_Button2.default,MenuItem:_MenuItem2.default,Dropdown:_Dropdown2.default,Tooltip:_Tooltip2.default,Toggle:_Toggle2.default,Input:_Input2.default,Textarea:_Textarea2.default,imageLoaded:_imageLoaded2.default,subscribe:_subscribe2.default,wrap:_wrap2.default,form:_form2.default})},{"./Button":283,"./CSSContainer":284,"./Dropdown":285,"./Input":286,"./MenuItem":287,"./Textarea":288,"./Toggle":289,"./Tooltip":290,"./form":291,"./imageLoaded":292,"./subscribe":294,"./wrap":295,"@f/map-obj":73,"babel-runtime/helpers/extends":130,"vdux-ui":341,"vdux/element":345}],294:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _defineProperty2=require("babel-runtime/helpers/defineProperty");var _defineProperty3=_interopRequireDefault(_defineProperty2);var _extends3=require("babel-runtime/helpers/extends");var _extends4=_interopRequireDefault(_extends3);var _regenerator=require("babel-runtime/regenerator");var _regenerator2=_interopRequireDefault(_regenerator);var _handleActions2=require("@f/handle-actions");var _handleActions3=_interopRequireDefault(_handleActions2);var _createAction=require("@f/create-action");var _createAction2=_interopRequireDefault(_createAction);var _mapValues=require("@f/map-values");var _mapValues2=_interopRequireDefault(_mapValues);var _element=require("vdux/element");var _element2=_interopRequireDefault(_element);var _mapObj=require("@f/map-obj");var _mapObj2=_interopRequireDefault(_mapObj);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var update=(0,_createAction2.default)("vdux-subscribe: update",null,function(){return{logLevel:"debug"}});function subscribe(subscriptions){return function(Component){return{initialState:function initialState(_ref){var props=_ref.props;var local=_ref.local;var path=_ref.path;return(0,_mapObj2.default)(function(sub,key){return sub.initialState?sub.initialState(props,function(value){return local(update)({key:key,value:value})},path):{}},subscriptions)},onCreate:_regenerator2.default.mark(function onCreate(_ref2){var path=_ref2.path;var props=_ref2.props;var state=_ref2.state;var local=_ref2.local;return _regenerator2.default.wrap(function onCreate$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return(0,_mapValues2.default)(function(sub,key){return sub(props,state[key],function(value){return local(update)({key:key,value:value})},path)},subscriptions);case 2:case"end":return _context.stop()}}},onCreate,this)}),render:function render(_ref3){var props=_ref3.props;var state=_ref3.state;var children=_ref3.children;

return(0,_element2.default)(Component,(0,_extends4.default)({},props,state),children)},onUpdate:_regenerator2.default.mark(function onUpdate(prev,_ref4){var path=_ref4.path;var props=_ref4.props;var state=_ref4.state;var local=_ref4.local;return _regenerator2.default.wrap(function onUpdate$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return(0,_mapValues2.default)(function(sub,key){return sub(props,state[key],function(value){return local(update)({key:key,value:value})},path)},subscriptions);case 2:case"end":return _context2.stop()}}},onUpdate,this)}),reducer:reducer}}}var reducer=(0,_handleActions3.default)((0,_defineProperty3.default)({},update,function(state,_ref5){var key=_ref5.key;var value=_ref5.value;return(0,_extends4.default)({},state,(0,_defineProperty3.default)({},key,(0,_extends4.default)({},state[key]||{},value)))}));exports.default=subscribe},{"@f/create-action":14,"@f/handle-actions":43,"@f/map-obj":73,"@f/map-values":74,"babel-runtime/helpers/defineProperty":129,"babel-runtime/helpers/extends":130,"babel-runtime/regenerator":204,"vdux/element":345}],295:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends2=require("babel-runtime/helpers/extends");var _extends3=_interopRequireDefault(_extends2);var _element=require("vdux/element");var _element2=_interopRequireDefault(_element);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function wrap(Container){var defaultProps=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];return function(Component){return{render:function render(_ref){var props=_ref.props;var children=_ref.children;var defProps=typeof defaultProps==="function"?defaultProps(props):defaultProps;return(0,_element2.default)(Container,(0,_extends3.default)({},defProps,{ui:Component},props),children)}}}}exports.default=wrap},{"babel-runtime/helpers/extends":130,"vdux/element":345}],296:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _handleActions;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _element=require("vdux/element");var _element2=_interopRequireDefault(_element);var _createAction=require("@f/create-action");var _createAction2=_interopRequireDefault(_createAction);var _handleActions2=require("@f/handle-actions");var _handleActions3=_interopRequireDefault(_handleActions2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function initialState(){return{done:false}}function onCreate(_ref){var props=_ref.props;var local=_ref.local;var onEnd=props.onEnd;var _props$time=props.time;var time=_props$time===undefined?0:_props$time;return function(dispatch){dispatch(local(beginTimer)(setTimeout(function(){onEnd&&dispatch(onEnd());dispatch(local(endTimer)())},time)))}}function render(_ref2){var children=_ref2.children;var state=_ref2.state;if(!children.length>1)throw new Error("Delay component accepts only one child");if(!state.done||children.length===0)return(0,_element2.default)("span",null);return children[0]}function onUpdate(prev,next){if(prev.props.time!==next.props.time){throw new Error("<Delay/> component does not allow you to change the `time` prop")}}function onRemove(_ref3){var state=_ref3.state;if(!state.done){return function(){return clearTimeout(state.id)}}}var beginTimer=(0,_createAction2.default)("<Delay/> component: Begin timer",null,function(){return{logLevel:"debug"}});var endTimer=(0,_createAction2.default)("<Delay/> component: End timer",null,function(){return{logLevel:"debug"}});var reducer=(0,_handleActions3.default)((_handleActions={},_defineProperty(_handleActions,beginTimer,function(state,id){return _extends({},state,{id:id})}),_defineProperty(_handleActions,endTimer,function(state){return _extends({},state,{done:true})}),_handleActions));exports.default={initialState:initialState,onCreate:onCreate,onUpdate:onUpdate,render:render,reducer:reducer,onRemove:onRemove}},{"@f/create-action":14,"@f/handle-actions":43,"vdux/element":345}],297:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.firebaseSet=exports.update=exports.invalidate=exports.unsubscribe=exports.subscribe=undefined;var _createAction=require("@f/create-action");var _createAction2=_interopRequireDefault(_createAction);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var subscribe=(0,_createAction2.default)("vdux-fireSummon: subscribe");var unsubscribe=(0,_createAction2.default)("vdux-fireSummon: unsubscribe");var invalidate=(0,_createAction2.default)("vdux-fireSummon: invalidate");var update=(0,_createAction2.default)("vdux-fireSummon: update");var firebaseSet=(0,_createAction2.default)("vdux-fireSummon: set");exports.subscribe=subscribe;exports.unsubscribe=unsubscribe;exports.invalidate=invalidate;exports.update=update;exports.firebaseSet=firebaseSet},{"@f/create-action":14}],298:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.reducer=undefined;var _regenerator=require("babel-runtime/regenerator");var _regenerator2=_interopRequireDefault(_regenerator);var _extends2=require("babel-runtime/helpers/extends");var _extends3=_interopRequireDefault(_extends2);var _element=require("vdux/element");var _element2=_interopRequireDefault(_element);var _firebase=require("firebase");var _firebase2=_interopRequireDefault(_firebase);var _createAction=require("@f/create-action");var _createAction2=_interopRequireDefault(_createAction);var _handleActions=require("@f/handle-actions");var _handleActions2=_interopRequireDefault(_handleActions);var _reducer=require("./reducer");var _reducer2=_interopRequireDefault(_reducer);var _mapObj=require("@f/map-obj");var _mapObj2=_interopRequireDefault(_mapObj);var _actions=require("./actions");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _marked=[subscribeAll].map(_regenerator2.default.mark);function connect(fn){return function(Ui){var Component={initialState:function initialState(_ref){var props=_ref.props;var state=_ref.state;return(0,_mapObj2.default)(function(url,name){return{name:name,url:url,loading:true,error:null,value:null}},fn(props))},onCreate:function onCreate(_ref2){var props=_ref2.props;var state=_ref2.state;var local=_ref2.local;var path=_ref2.path;return subscribeAll(path,fn(props))},render:function render(_ref3){var props=_ref3.props;var state=_ref3.state;var children=_ref3.children;var local=_ref3.local;var path=_ref3.path;var mapping=fn(props);var fns={};return(0,_element2.default)(Ui,(0,_extends3.default)({},state,fns,props),children)},reducer:_reducer2.default,onRemove:function onRemove(_ref4){var path=_ref4.path;return(0,_actions.unsubscribe)(path)}};return Component}}function subscribeAll(path,refs){var ref;return _regenerator2.default.wrap(function subscribeAll$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.t0=_regenerator2.default.keys(refs);case 1:if((_context.t1=_context.t0()).done){_context.next=7;break}ref=_context.t1.value;_context.next=5;return(0,_actions.subscribe)({path:path,ref:refs[ref],name:ref});case 5:_context.next=1;break;case 7:case"end":return _context.stop()}}},_marked[0],this)}exports.default=connect;exports.reducer=_reducer2.default},{"./actions":297,"./reducer":301,"@f/create-action":14,"@f/handle-actions":43,"@f/map-obj":73,"babel-runtime/helpers/extends":130,"babel-runtime/regenerator":204,firebase:226,"vdux/element":345}],299:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.firebaseSet=exports.middleware=undefined;var _middleware=require("./middleware");var _middleware2=_interopRequireDefault(_middleware);var _connect=require("./connect");var _connect2=_interopRequireDefault(_connect);var _actions=require("./actions");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}exports.default=_connect2.default;exports.middleware=_middleware2.default;exports.firebaseSet=_actions.firebaseSet},{"./actions":297,"./connect":298,"./middleware":300}],300:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _defineProperty2=require("babel-runtime/helpers/defineProperty");var _defineProperty3=_interopRequireDefault(_defineProperty2);var _firebase=require("firebase");var _firebase2=_interopRequireDefault(_firebase);var _createAction=require("@f/create-action");var _createAction2=_interopRequireDefault(_createAction);var _map=require("@f/map");var _map2=_interopRequireDefault(_map);var _reducer=require("./reducer");var _reducer2=_interopRequireDefault(_reducer);var _switch=require("@f/switch");var _switch2=_interopRequireDefault(_switch);var _reduxEphemeral=require("redux-ephemeral");var _actions=require("./actions");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var refs=[];var db=void 0;var middleware=function middleware(config){return function(_ref){var dispatch=_ref.dispatch;var getState=_ref.getState;_firebase2.default.initializeApp(config);db=_firebase2.default.database();return function(next){return function(action){var _Switch;(0,_switch2.default)((_Switch={},(0,_defineProperty3.default)(_Switch,_actions.subscribe.type,sub),(0,_defineProperty3.default)(_Switch,_actions.unsubscribe.type,unsub),(0,_defineProperty3.default)(_Switch,_actions.invalidate.type,inval),(0,_defineProperty3.default)(_Switch,_actions.firebaseSet.type,set),(0,_defineProperty3.default)(_Switch,"default",function _default(){return next(action)}),_Switch))(action.type,action.payload)}};function inval(payload){var ref=payload.ref;var value=payload.value;var name=payload.name;return(0,_map2.default)(function(path){return dispatch((0,_reduxEphemeral.toEphemeral)(path,_reducer2.default,(0,_actions.update)({ref:ref,value:value,name:name})))},refs[ref])}function set(payload){var ref=payload.ref;var value=payload.value;var _payload$method=payload.method;var method=_payload$method===undefined?"set":_payload$method;if(db.ref(ref)[method]){db.ref(ref)[method](value)}else{throw new Error("No a valid firebase method")}}function sub(payload){var ref=payload.ref;var path=payload.path;var name=payload.name;if(!refs[ref]||refs[ref].length<1){refs[ref]=[path];addListener(ref,name)}else{if(refs[ref].indexOf(path)===-1){refs[ref].push(path)}}}function unsub(path){for(var ref in refs){var idx=refs[ref].indexOf(path);if(idx!==-1){refs[ref].splice(idx,1);if(refs[ref].length<1){removeListener(ref)}}}}function removeListener(ref){var dbref=db.ref(ref);dbref.off("value")}function addListener(ref,name){var dbref=db.ref(ref);dbref.on("value",function(snap){return dispatch((0,_actions.invalidate)({ref:ref,name:name,value:snap.val()}))})}}};exports.default=middleware},{"./actions":297,"./reducer":301,"@f/create-action":14,"@f/map":75,"@f/switch":101,"babel-runtime/helpers/defineProperty":129,firebase:226,"redux-ephemeral":255}],301:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _defineProperty2=require("babel-runtime/helpers/defineProperty");var _defineProperty3=_interopRequireDefault(_defineProperty2);var _extends3=require("babel-runtime/helpers/extends");var _extends4=_interopRequireDefault(_extends3);exports.default=function(state,action){switch(action.type){case _actions.update.type:var _action$payload=action.payload;var value=_action$payload.value;var ref=_action$payload.ref;var name=_action$payload.name;return(0,_extends4.default)({},state,(0,_defineProperty3.default)({},name,(0,_extends4.default)({},state[name],{loading:false,error:null,value:value})))}return state};var _handleActions=require("@f/handle-actions");var _handleActions2=_interopRequireDefault(_handleActions);var _actions=require("./actions");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}},{"./actions":297,"@f/handle-actions":43,"babel-runtime/helpers/defineProperty":129,"babel-runtime/helpers/extends":130}],302:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _regenerator=require("babel-runtime/regenerator");var _regenerator2=_interopRequireDefault(_regenerator);var _slicedToArray2=require("babel-runtime/helpers/slicedToArray");var _slicedToArray3=_interopRequireDefault(_slicedToArray2);var _extends2=require("babel-runtime/helpers/extends");var _extends3=_interopRequireDefault(_extends2);var _objectWithoutProperties2=require("babel-runtime/helpers/objectWithoutProperties");var _objectWithoutProperties3=_interopRequireDefault(_objectWithoutProperties2);var _serializeForm=require("@f/serialize-form");var _serializeForm2=_interopRequireDefault(_serializeForm);var _identity=require("@f/identity");var _identity2=_interopRequireDefault(_identity);var _element=require("vdux/element");var _element2=_interopRequireDefault(_element);var _vduxUi=require("vdux-ui");var _noop=require("@f/noop");var _noop2=_interopRequireDefault(_noop);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var defaultValidate=function defaultValidate(){return{valid:true}};var defaultTransformError=_identity2.default;function render(_ref){var _marked=[handleSubmit,poss].map(_regenerator2.default.mark);var props=_ref.props;var children=_ref.children;var _props$onSubmit=props.onSubmit;var onSubmit=_props$onSubmit===undefined?_noop2.default:_props$onSubmit;var _props$onSuccess=props.onSuccess;var onSuccess=_props$onSuccess===undefined?_noop2.default:_props$onSuccess;var _props$onFailure=props.onFailure;var onFailure=_props$onFailure===undefined?_noop2.default:_props$onFailure;var _props$validate=props.validate;var validate=_props$validate===undefined?defaultValidate:_props$validate;var _props$cast=props.cast;var cast=_props$cast===undefined?_identity2.default:_props$cast;var _props$transformError=props.transformError;var transformError=_props$transformError===undefined?defaultTransformError:_props$transformError;var _props$loading=props.loading;var loading=_props$loading===undefined?false:_props$loading;var rest=(0,_objectWithoutProperties3.default)(props,["onSubmit","onSuccess","onFailure","validate","cast","transformError","loading"]);return(0,_element2.default)(_vduxUi.Base,(0,_extends3.default)({tag:"form",novalidate:true,onSubmit:handleSubmit,onChange:handleChange},rest),children);function handleSubmit(e){var form,model,valid,_ref2,_ref3,result,err,newErr;return _regenerator2.default.wrap(function handleSubmit$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();e.stopPropagation();form=e.target;model=cast((0,_serializeForm2.default)(form));valid=checkValidity(form,model);if(!(!loading&&valid)){_context.next=21;break}_context.next=8;return poss(onSubmit(model));case 8:_ref2=_context.sent;_ref3=(0,_slicedToArray3.default)(_ref2,2);result=_ref3[0];err=_ref3[1];if(!err){_context.next=19;break}_context.next=15;return onFailure(err);case 15:newErr=transformError(err);if(newErr)invalidate(form,newErr);_context.next=21;break;case 19:_context.next=21;return onSuccess(result);case 21:case"end":return _context.stop()}}},_marked[0],this)}function poss(gen){return _regenerator2.default.wrap(function poss$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return gen;case 3:_context2.t0=_context2.sent;return _context2.abrupt("return",[_context2.t0,null]);case 7:_context2.prev=7;_context2.t1=_context2["catch"](0);return _context2.abrupt("return",[null,_context2.t1]);case 10:case"end":return _context2.stop()}}},_marked[1],this,[[0,7]])}function handleChange(e){var _e$target=e.target;var name=_e$target.name;var form=_e$target.form;checkValidity(form,cast((0,_serializeForm2.default)(form)),name)}function checkValidity(form,model,name){var _validate=validate(model,name);var valid=_validate.valid;var errors=_validate.errors;if(!valid){invalidate(form,errors,name)}return valid}function invalidate(form,errors,name){if(name){errors=errors.filter(function(_ref4){var field=_ref4.field;return field===name})}errors.forEach(function(_ref5){var field=_ref5.field;var message=_ref5.message;var ctrl=form.querySelector('[name="'+dotsToBrackets(field)+'"]');if(ctrl){ctrl.setCustomValidity(message);ctrl.checkValidity()}})}}function setTransformError(transformError){defaultTransformError=transformError}function dotsToBrackets(str){return str.split(".").map(function(part,idx){return idx===0?part:"["+part+"]"}).join("")}exports.default={render:render,setTransformError:setTransformError}},{"@f/identity":48,"@f/noop":77,"@f/serialize-form":91,"babel-runtime/helpers/extends":130,"babel-runtime/helpers/objectWithoutProperties":131,"babel-runtime/helpers/slicedToArray":132,"babel-runtime/regenerator":204,"vdux-ui":341,"vdux/element":345}],303:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _element=require("vdux/element");var _element2=_interopRequireDefault(_element);var _positionElement=require("@f/position-element");var _positionElement2=_interopRequireDefault(_positionElement);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function render(_ref){var children=_ref.children;if(children.length>1)throw new Error("Position component accepts only 1 child");return children[0]}function afterRender(_ref2,node){var props=_ref2.props;var placement=props.placement;var near=props.near;var _props$space=props.space;var space=_props$space===undefined?0:_props$space;var _props$disable=props.disable;var disable=_props$disable===undefined?false:_props$disable;if(!disable){(0,_positionElement2.default)(node,placement,{near:near?document.getElementById(near):node.parentNode,space:space})}}exports.default={render:render,afterRender:afterRender}},{"@f/position-element":84,"vdux/element":345}],304:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _util=require("../util");var _element=require("vdux/element");var _element2=_interopRequireDefault(_element);var _Base=require("./Base");var _Base2=_interopRequireDefault(_Base);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _objectWithoutProperties(obj,keys){var target={};for(var i in obj){if(keys.indexOf(i)>=0)continue;if(!Object.prototype.hasOwnProperty.call(obj,i))continue;target[i]=obj[i]}return target}function getProps(props,_ref){var uiTheme=_ref.uiTheme;props.$theme=(0,_util.mergeTheme)(uiTheme);var _props$circle=props.circle;var circle=_props$circle===undefined?props.$theme.circularAvatars:_props$circle;var _props$size=props.size;var size=_props$size===undefined?32:_props$size;props.circle=circle;props.size=size;return props}function render(_ref2){var props=_ref2.props;var $theme=props.$theme;var size=props.size;var rest=_objectWithoutProperties(props,["$theme","size"]);var avatarScale=$theme.avatarScale;if(avatarScale&&avatarScale[size]){size=avatarScale[size]}return(0,_element2.default)(_Base2.default,_extends({tag:"img","class":(0,_util.classes)(props.class,"vui-avatar"),sq:size},rest))}exports.default={getProps:getProps,render:render}},{"../util":342,"./Base":305,"vdux/element":345}],305:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol?"symbol":typeof obj};var _fns;var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"])_i["return"]()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr)){return arr}else if(Symbol.iterator in Object(arr)){return sliceIterator(arr,i)}else{throw new TypeError("Invalid attempt to destructure non-iterable instance")}}}();var _util=require("../util");var _htmlAttrs=require("@f/html-attrs");var _htmlAttrs2=_interopRequireDefault(_htmlAttrs);var _element=require("vdux/element");var _element2=_interopRequireDefault(_element);var _extend=require("@f/extend");var _extend2=_interopRequireDefault(_extend);var _has=require("@f/has");var _has2=_interopRequireDefault(_has);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var canContainRgba=["color","bgColor","background","bg","outline","outlineColor","boxShadow","border","borderTop","borderBottom","borderLeft","borderRight","borderColor","borderTopColor","borderLeftColor","borderRightColor","borderBottomColor"].reduce(function(acc,key){acc[key]=true;return acc},{});var borderRadiusSetter=(0,_util.boolSetter)("borderRadius",9999);var squareSetter=(0,_util.scaleSetter)(["width","height"]);var eventRegex=/^on[A-Z]/;var fns=(_fns={p:(0,_util.scaleSetter)("padding"),py:(0,_util.scaleSetter)(["paddingTop","paddingBottom"]),px:(0,_util.scaleSetter)(["paddingLeft","paddingRight"]),pt:(0,_util.scaleSetter)("paddingTop"),pb:(0,_util.scaleSetter)("paddingBottom"),pl:(0,_util.scaleSetter)("paddingLeft"),pr:(0,_util.scaleSetter)("paddingRight"),m:(0,_util.scaleSetter)("margin"),my:(0,_util.scaleSetter)(["marginTop","marginBottom"]),mx:(0,_util.scaleSetter)(["marginLeft","marginRight"]),mt:(0,_util.scaleSetter)("marginTop"),mb:(0,_util.scaleSetter)("marginBottom"),ml:(0,_util.scaleSetter)("marginLeft"),mr:(0,_util.scaleSetter)("marginRight"),fontFamily:(0,_util.scaleSetter)("fontFamily","fonts"),italic:(0,_util.boolSetter)("fontStyle","italic"),bold:(0,_util.boolSetter)("fontWeight","bold"),bolder:(0,_util.boolSetter)("fontWeight","bolder"),lighter:(0,_util.boolSetter)("fontWeight","lighter"),capitalize:(0,_util.boolSetter)("textTransform","capitalize"),uppercase:(0,_util.boolSetter)("textTransform","uppercase"),underline:(0,_util.boolSetter)("textDecoration","underline"),antialiased:(0,_util.boolSetter)("-webkit-font-smoothing","antialiased"),fw:(0,_util.scaleSetter)("fontWeight","weightScale"),fs:function fs(style,val,theme,props){(0,_util.setScaled)(style,"fontSize",val,theme.fontScale);if((0,_has2.default)(val,theme.lineHeightScale)&&!(0,_has2.default)("lh",props)){(0,_util.setScaled)(style,"lineHeight",val,theme.lineHeightScale)}},lh:(0,_util.scaleSetter)("lineHeight","lineHeightScale"),wide:(0,_util.boolSetter)("width","100%"),tall:(0,_util.boolSetter)("height","100%"),sq:squareSetter,w:(0,_util.scaleSetter)("width"),h:(0,_util.scaleSetter)("height"),pointer:(0,_util.boolSetter)("cursor","pointer"),absolute:(0,_util.positionSetter)("absolute"),relative:(0,_util.positionSetter)("relative"),fixed:(0,_util.positionSetter)("fixed"),top:function top(style,val){return style.top=val===true?0:val},left:function left(style,val){return style.left=val===true?0:val},right:function right(style,val){return style.right=val===true?0:val},bottom:function bottom(style,val){return style.bottom=val===true?0:val},outline:(0,_util.scaleSetter)("outline","colors"),outlineColor:(0,_util.scaleSetter)("outlineColor","colors"),color:(0,_util.scaleSetter)("color","colors"),bgColor:(0,_util.scaleSetter)("backgroundColor","colors"),bgImg:function bgImg(style,val){return style.backgroundImage="url("+val+")"},bgSize:function bgSize(style,val){return style.backgroundSize=val},bgPos:function bgPos(style,val){return style.backgroundPosition=val},bg:function bg(style){var val=arguments.length<=1||arguments[1]===undefined?"":arguments[1];var _ref=arguments[2];var colors=_ref.colors;return style.background=val.split(" ").map(function(p){return(0,_has2.default)(p,colors)?colors[p]:p}).join(" ")},hide:(0,_util.boolSetter)("display","none"),hidden:(0,_util.boolSetter)("visibility","hidden"),z:(0,_util.scaleSetter)("zIndex","zIndexScale"),inlineBlock:(0,_util.boolSetter)("display","inline-block"),clear:function clear(style,val){return style.clear=val===true?"both":val},ellipsis:function ellipsis(style,val){if(val){style.whiteSpace="nowrap";style.textOverflow="ellipsis";style.overflow="hidden"}},pill:borderRadiusSetter,circle:function circle(style,val,theme,props){borderRadiusSetter(style,val,theme,props);if(typeof val!=="boolean"){squareSetter(style,val,theme,props)}},rounded:function rounded(style,val,_ref2){var borderRadius=_ref2.borderRadius;if(val===true)style.borderRadius=borderRadius;else if(val===false)style.borderRadius=0;else if(typeof val==="string"){style.borderRadius=posString(val,borderRadius)}},border:(0,_util.borderSetter)("border"),borderTop:(0,_util.borderSetter)("borderTop"),borderBottom:(0,_util.borderSetter)("borderBottom"),borderLeft:(0,_util.borderSetter)("borderLeft"),borderRight:(0,_util.borderSetter)("borderRight"),borderColor:(0,_util.scaleSetter)("borderColor","colors"),borderTopColor:(0,_util.scaleSetter)("borderTopColor","colors"),borderLeftColor:(0,_util.scaleSetter)("borderLeftColor","colors"),borderRightColor:(0,_util.scaleSetter)("borderRightColor","colors"),borderBottomColor:(0,_util.scaleSetter)("borderBottomColor","colors"),borderWidth:function borderWidth(style,val){return style.borderWidth=val},flex:function flex(style,val,theme,props){if(val){if(val===true)style.flex="1";else{style.flex="1 1 "+val;if(typeof val==="string"&&val.indexOf("%")!==-1){style["max"+(props.col?"Height":"Width")]=val}}}},wrap:(0,_util.boolSetter)("flexWrap","wrap"),column:(0,_util.boolSetter)("flexDirection","column"),align:function align(style,val){if(val){var _val$split=val.split(" ");var _val$split2=_slicedToArray(_val$split,2);var justify=_val$split2[0];var alignItems=_val$split2[1];style.justifyContent=(0,_util.flexify)(justify);style.alignItems=(0,_util.flexify)(alignItems);style.display="flex"}}},_defineProperty(_fns,"wrap",(0,_util.boolSetter)("flexWrap","wrap")),_defineProperty(_fns,"boxShadow",(0,_util.scaleSetter)("boxShadow","shadow")),_fns);function getProps(props,context){props.$theme=(0,_util.mergeTheme)(context.uiTheme);props.$media=context.uiMedia;return props}function render(_ref3){var props=_ref3.props;var children=_ref3.children;var _props$tag=props.tag;var Tag=_props$tag===undefined?"div":_props$tag;var newProps={};var style={};computeProps(style,newProps,props,props.$media);return(0,_element2.default)(Tag,newProps,children)}function computeProps(style,newProps,props,media){if(props.baseStyle)(0,_extend2.default)(style,props.baseStyle);var mediaProps=props[media+"Props"];if(media&&mediaProps)(0,_extend2.default)(props,mediaProps);for(var key in props){if(key==="tag")continue;var val=canContainRgba[key]?(0,_util.rgbaify)(props[key],props.$theme.colors):props[key];if(fns[key]){fns[key](style,val,props.$theme,props)}else if(eventRegex.test(key)||_htmlAttrs2.default[key]){newProps[key]=val}else if(val!==undefined&&(typeof val==="undefined"?"undefined":_typeof(val))!=="object"&&key[0]!=="$"){style[key]=val}}if(props.highlight&&style.backgroundColor){style.backgroundColor=(0,_util.highlight)(style.backgroundColor,props.highlight===true?.1:props.highlight)}if(props.style)(0,_extend2.default)(style,props.style);if(style)newProps.style=style}exports.default={getProps:getProps,render:render}},{"../util":342,"@f/extend":29,"@f/has":44,"@f/html-attrs":46,"vdux/element":345}],306:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _element=require("vdux/element");var _element2=_interopRequireDefault(_element);var _util=require("../util");var _Base=require("./Base");var _Base2=_interopRequireDefault(_Base);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function render(_ref){var props=_ref.props;var children=_ref.children;return(0,_element2.default)(_Base2.default,_extends({tag:"div"},props,{"class":(0,_util.classes)(props.class,"vui-block")}),children)}exports.default={render:render}},{"../util":342,"./Base":305,"vdux/element":345}],307:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _element=require("vdux/element");var _element2=_interopRequireDefault(_element);var _util=require("../util");var _Base=require("./Base");var _Base2=_interopRequireDefault(_Base);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function render(_ref){var props=_ref.props;var children=_ref.children;return(0,_element2.default)(_Base2.default,_extends({},props,{"class":(0,_util.classes)(props.class,"vui-box")}),children)}exports.default={render:render}},{"../util":342,"./Base":305,"vdux/element":345}],308:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _element=require("vdux/element");var _element2=_interopRequireDefault(_element);var _Tooltip=require("./Tooltip");var _Tooltip2=_interopRequireDefault(_Tooltip);var _util=require("../util");var _Block=require("./Block");var _Block2=_interopRequireDefault(_Block);var _Icon=require("./Icon");var _Icon2=_interopRequireDefault(_Icon);var _Flex=require("./Flex");var _Flex2=_interopRequireDefault(_Flex);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _objectWithoutProperties(obj,keys){var target={};for(var i in obj){if(keys.indexOf(i)>=0)continue;if(!Object.prototype.hasOwnProperty.call(obj,i))continue;target[i]=obj[i]}return target}function render(_ref){var props=_ref.props;var children=_ref.children;var text=props.text;var _props$bgColor=props.bgColor;var bgColor=_props$bgColor===undefined?"primary":_props$bgColor;var icon=props.icon;var _props$ttUi=props.ttUi;var TtUi=_props$ttUi===undefined?_Tooltip2.default:_props$ttUi;var tooltip=props.tooltip;var _props$ttPlacement=props.ttPlacement;var ttPlacement=_props$ttPlacement===undefined?"top":_props$ttPlacement;var ttShown=props.ttShown;var ttSpace=props.ttSpace;var restProps=_objectWithoutProperties(props,["text","bgColor","icon","ttUi","tooltip","ttPlacement","ttShown","ttSpace"]);if(icon){text=(0,_element2.default)(_Icon2.default,{fontSize:"inherit",name:icon});if(props.bgColor===undefined){bgColor="transparent"}}var tt=tooltip&&(0,_element2.default)(TtUi,{show:ttShown,placement:ttPlacement,space:ttSpace},tooltip);return(0,_element2.default)(_Block2.default,_extends({tag:"button",type:"button",color:"white",pointer:true,overflow:"visible",
textAlign:"center",padding:icon?0:null,m:0,rounded:true,borderWidth:0,userSelect:"none",textDecoration:"none"},restProps,{bgColor:bgColor,"class":(0,_util.classes)(props.class,"vui-button")}),(0,_element2.default)(_Flex2.default,{align:"center center"},text||children),tt)}exports.default={render:render}},{"../util":342,"./Block":306,"./Flex":317,"./Icon":319,"./Tooltip":339,"vdux/element":345}],309:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _element=require("vdux/element");var _element2=_interopRequireDefault(_element);var _util=require("../util");var _Base=require("./Base");var _Base2=_interopRequireDefault(_Base);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function render(_ref){var props=_ref.props;var children=_ref.children;return(0,_element2.default)(_Base2.default,_extends({color:"text",bgColor:"white",boxShadow:"card"},props,{"class":(0,_util.classes)(props.class,"vui-card")}),children)}exports.default={render:render}},{"../util":342,"./Base":305,"vdux/element":345}],310:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _element=require("vdux/element");var _element2=_interopRequireDefault(_element);var _util=require("../util");var _Block=require("./Block");var _Block2=_interopRequireDefault(_Block);var _Flex=require("./Flex");var _Flex2=_interopRequireDefault(_Flex);var _Icon=require("./Icon");var _Icon2=_interopRequireDefault(_Icon);var _Base=require("./Base");var _Base2=_interopRequireDefault(_Base);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _objectWithoutProperties(obj,keys){var target={};for(var i in obj){if(keys.indexOf(i)>=0)continue;if(!Object.prototype.hasOwnProperty.call(obj,i))continue;target[i]=obj[i]}return target}function render(_ref){var props=_ref.props;var children=_ref.children;var name=props.name;var _props$label=props.label;var label=_props$label===undefined?children:_props$label;var checked=props.checked;var disabled=props.disabled;var value=props.value;var onChange=props.onChange;var indeterminate=props.indeterminate;var rest=_objectWithoutProperties(props,["name","label","checked","disabled","value","onChange","indeterminate"]);var _props$btn=props.btn;var Btn=_props$btn===undefined?CheckboxUi:_props$btn;var _props$uiProps=props.uiProps;var uiProps=_props$uiProps===undefined?{}:_props$uiProps;var _props$checkProps=props.checkProps;var checkProps=_props$checkProps===undefined?{}:_props$checkProps;return(0,_element2.default)(_Flex2.default,_extends({tag:"label"},rest,{align:"start center"}),(0,_element2.default)(_Base2.default,{tag:"input",type:"checkbox",hide:true,name:name,value:value,checked:checked,disabled:disabled,onChange:onChange}),(0,_element2.default)(Btn,_extends({checked:checked,indeterminate:indeterminate,label:label,checkProps:checkProps},uiProps)))}function CheckboxUi(_ref2){var props=_ref2.props;var checked=props.checked;var label=props.label;var indeterminate=props.indeterminate;var checkProps=props.checkProps;var rest=_objectWithoutProperties(props,["checked","label","indeterminate","checkProps"]);var isGreen=checked||indeterminate;return(0,_element2.default)(_Flex2.default,_extends({align:"start center"},rest),(0,_element2.default)(_Flex2.default,_extends({rounded:true,align:"center center",fs:11,sq:17,border:true,borderColor:isGreen?"green":"#bbb",bgColor:isGreen?"green":"white"},checkProps),(0,_element2.default)(_Icon2.default,{fs:"inherit",hide:!checked,color:"white",name:"check"}),(0,_element2.default)(_Icon2.default,{fs:"inherit",hide:checked||!indeterminate,color:"white",name:"remove"}),(0,_element2.default)(_Icon2.default,{fs:"inherit",visibility:"hidden",hide:checked||indeterminate,color:"white",name:"check"})),label&&(0,_element2.default)(_Block2.default,{mr:"s"}),(0,_element2.default)(_Block2.default,null,label))}exports.default={render:render}},{"../util":342,"./Base":305,"./Block":306,"./Flex":317,"./Icon":319,"vdux/element":345}],311:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _element=require("vdux/element");var _element2=_interopRequireDefault(_element);var _util=require("../util");var _Base=require("./Base");var _Base2=_interopRequireDefault(_Base);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function render(_ref){var props=_ref.props;return(0,_element2.default)(_Base2.default,_extends({borderTop:"rgba(0, 0, 0, 0.2)",borderBottom:"rgba(255, 255, 255, 0.2)"},props,{"class":(0,_util.classes)(props.class,"vui-deco-line")}))}exports.default={render:render}},{"../util":342,"./Base":305,"vdux/element":345}],312:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _element=require("vdux/element");var _element2=_interopRequireDefault(_element);var _util=require("../util");var _Base=require("./Base");var _Base2=_interopRequireDefault(_Base);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function render(_ref){var props=_ref.props;return(0,_element2.default)(_Base2.default,_extends({tag:"hr",bgColor:props.color||"divider",borderWidth:"0",h:"1"},props,{"class":(0,_util.classes)(props.class,"vui-divider")}))}exports.default={render:render}},{"../util":342,"./Base":305,"vdux/element":345}],313:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _element=require("vdux/element");var _element2=_interopRequireDefault(_element);var _util=require("../util");var _Base=require("./Base");var _Base2=_interopRequireDefault(_Base);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function render(_ref){var props=_ref.props;var children=_ref.children;return(0,_element2.default)(_Base2.default,_extends({relative:true},props,{"class":(0,_util.classes)(props.class,"vui-dropdown")}),children)}exports.default={render:render}},{"../util":342,"./Base":305,"vdux/element":345}],314:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _Document=require("vdux/Document");var _Document2=_interopRequireDefault(_Document);var _element=require("vdux/element");var _element2=_interopRequireDefault(_element);var _util=require("../util");var _noop=require("@f/noop");var _noop2=_interopRequireDefault(_noop);var _Menu=require("./Menu");var _Menu2=_interopRequireDefault(_Menu);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _objectWithoutProperties(obj,keys){var target={};for(var i in obj){if(keys.indexOf(i)>=0)continue;if(!Object.prototype.hasOwnProperty.call(obj,i))continue;target[i]=obj[i]}return target}function render(_ref){var props=_ref.props;var children=_ref.children;var _props$onDismiss=props.onDismiss;var onDismiss=_props$onDismiss===undefined?_noop2.default:_props$onDismiss;var left=props.left;var top=props.top;var open=props.open;var restProps=_objectWithoutProperties(props,["onDismiss","left","top","open"]);return(0,_element2.default)(_Menu2.default,_extends({boxSizing:"border-box",boxShadow:"menu",rounded:true,py:"s",absolute:{left:left?0:"auto",right:left?"auto":0,top:top?"auto":"100%",bottom:top?"100%":"auto"},hide:!open,bgColor:"white",color:"text",column:true},restProps,{"class":(0,_util.classes)(props.class,"vui-dropdown-menu")}),children,open&&(0,_element2.default)(_Document2.default,{onClick:onDismiss,onKeypress:{esc:onDismiss}}))}exports.default={render:render}},{"../util":342,"./Menu":323,"@f/noop":77,"vdux/Document":343,"vdux/element":345}],315:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _element=require("vdux/element");var _element2=_interopRequireDefault(_element);var _Tooltip=require("./Tooltip");var _Tooltip2=_interopRequireDefault(_Tooltip);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _objectWithoutProperties(obj,keys){var target={};for(var i in obj){if(keys.indexOf(i)>=0)continue;if(!Object.prototype.hasOwnProperty.call(obj,i))continue;target[i]=obj[i]}return target}function render(_ref){var props=_ref.props;var message=props.message;var rest=_objectWithoutProperties(props,["message"]);return(0,_element2.default)(_Tooltip2.default,_extends({fs:"xxs",p:"0px 20px",lh:"30px",bgColor:"error",space:10,maxWidth:"none"},rest),message)}exports.default={render:render}},{"./Tooltip":339,"vdux/element":345}],316:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _element=require("vdux/element");var _element2=_interopRequireDefault(_element);var _util=require("../util");var _Base=require("./Base");var _Base2=_interopRequireDefault(_Base);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function render(_ref){var props=_ref.props;var children=_ref.children;return(0,_element2.default)(_Base2.default,_extends({fixed:true},props,{"class":(0,_util.classes)(props.class,"vui-fixed")}),children)}exports.default={render:render}},{"../util":342,"./Base":305,"vdux/element":345}],317:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _element=require("vdux/element");var _element2=_interopRequireDefault(_element);var _Base=require("./Base");var _Base2=_interopRequireDefault(_Base);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function render(_ref){var props=_ref.props;var children=_ref.children;var cls=["vui-flex",props.column?"vui-flex-column":"vui-flex-row"];if(props.class){if(Array.isArray(props.class))cls=cls.concat(props.class);else cls.push(props.class)}return(0,_element2.default)(_Base2.default,_extends({display:"flex"},props,{"class":cls}),children)}exports.default={render:render}},{"./Base":305,"vdux/element":345}],318:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _element=require("vdux/element");var _element2=_interopRequireDefault(_element);var _reduce=require("@f/reduce");var _reduce2=_interopRequireDefault(_reduce);var _times=require("@f/times");var _times2=_interopRequireDefault(_times);var _Flex=require("./Flex");var _Flex2=_interopRequireDefault(_Flex);var _map=require("@f/map");var _map2=_interopRequireDefault(_map);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _objectWithoutProperties(obj,keys){var target={};for(var i in obj){if(keys.indexOf(i)>=0)continue;if(!Object.prototype.hasOwnProperty.call(obj,i))continue;target[i]=obj[i]}return target}function render(_ref){var props=_ref.props;var children=_ref.children;var _props$itemsPerRow=props.itemsPerRow;var itemsPerRow=_props$itemsPerRow===undefined?4:_props$itemsPerRow;var columnAlign=props.columnAlign;var rowAlign=props.rowAlign;var restProps=_objectWithoutProperties(props,["itemsPerRow","columnAlign","rowAlign"]);var columns=toColumns(children,itemsPerRow);return(0,_element2.default)(_Flex2.default,_extends({align:rowAlign},restProps),(0,_map2.default)(function(items){return(0,_element2.default)(_Flex2.default,{column:true,align:columnAlign},items)},columns))}function toColumns(items,n){return(0,_reduce2.default)(function(memo,item,i){if(!memo[i%n])memo.push([]);memo[i%n].push(item);return memo},[],items)}exports.default={render:render}},{"./Flex":317,"@f/map":75,"@f/reduce":88,"@f/times":103,"vdux/element":345}],319:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _util=require("../util");var _element=require("vdux/element");var _element2=_interopRequireDefault(_element);var _Text=require("./Text");var _Text2=_interopRequireDefault(_Text);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _objectWithoutProperties(obj,keys){var target={};for(var i in obj){if(keys.indexOf(i)>=0)continue;if(!Object.prototype.hasOwnProperty.call(obj,i))continue;target[i]=obj[i]}return target}function getProps(props,_ref){var _ref$uiTheme=_ref.uiTheme;var uiTheme=_ref$uiTheme===undefined?{}:_ref$uiTheme;props.$theme=(0,_util.mergeTheme)(uiTheme);return props}function render(_ref2){var props=_ref2.props;var $theme=props.$theme;var name=props.name;var _props$iconTag=props.iconTag;var iconTag=_props$iconTag===undefined?$theme.iconTag:_props$iconTag;var _props$iconClass=props.iconClass;var iconClass=_props$iconClass===undefined?$theme.iconClass:_props$iconClass;var restProps=_objectWithoutProperties(props,["$theme","name","iconTag","iconClass"]);var cls=[iconClass,"vui-icon"];if(props.class){if(Array.isArray(props.class))cls=cls.concat(props.class);else cls.push(props.class)}return(0,_element2.default)(_Text2.default,_extends({tag:iconTag},restProps,{"class":cls}),props.name)}exports.default={getProps:getProps,render:render}},{"../util":342,"./Text":336,"vdux/element":345}],320:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _element=require("vdux/element");var _element2=_interopRequireDefault(_element);var _util=require("../util");var _Button=require("./Button");var _Button2=_interopRequireDefault(_Button);var _Block=require("./Block");var _Block2=_interopRequireDefault(_Block);var _Icon=require("./Icon");var _Icon2=_interopRequireDefault(_Icon);var _Flex=require("./Flex");var _Flex2=_interopRequireDefault(_Flex);var _Base=require("./Base");var _Base2=_interopRequireDefault(_Base);var _Text=require("./Text");var _Text2=_interopRequireDefault(_Text);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _objectWithoutProperties(obj,keys){var target={};for(var i in obj){if(keys.indexOf(i)>=0)continue;if(!Object.prototype.hasOwnProperty.call(obj,i))continue;target[i]=obj[i]}return target}function render(_ref){var props=_ref.props;var children=_ref.children;var _props$divider=props.divider;var divider=_props$divider===undefined?true:_props$divider;var img=props.img;var icon=props.icon;var _props$iconSize=props.iconSize;var iconSize=_props$iconSize===undefined?"25px":_props$iconSize;var _props$h=props.h;var h=_props$h===undefined?"43px":_props$h;var btnProps=_objectWithoutProperties(props,["divider","img","icon","iconSize","h"]);var pic=img?(0,_element2.default)(_Base2.default,{tag:"img",sq:iconSize,mr:"6px",src:img}):(0,_element2.default)(_Icon2.default,{name:icon,sq:iconSize,mr:"6px"});return(0,_element2.default)(_Button2.default,_extends({"class":(0,_util.classes)(props.class,"vui-icon-button"),rounded:true,h:h,px:"5px"},btnProps),(0,_element2.default)(_Flex2.default,{align:"start center",tall:true},pic,divider===true?(0,_element2.default)(_Block2.default,{h:"100%",borderLeft:"rgba(52, 52, 52, 0.08)"}):divider,(0,_element2.default)(_Text2.default,{mx:"auto"},children)))}exports.default={render:render}},{"../util":342,"./Base":305,"./Block":306,"./Button":308,"./Flex":317,"./Icon":319,"./Text":336,"vdux/element":345}],321:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _element=require("vdux/element");var _element2=_interopRequireDefault(_element);var _util=require("../util");var _Base=require("./Base");var _Base2=_interopRequireDefault(_Base);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function render(_ref){var props=_ref.props;var children=_ref.children;return(0,_element2.default)(_Base2.default,_extends({tag:"img"},props,{"class":(0,_util.classes)(props.class,"vui-image")}))}exports.default={render:render}},{"../util":342,"./Base":305,"vdux/element":345}],322:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _inputAttrs=require("@f/input-attrs");var _inputAttrs2=_interopRequireDefault(_inputAttrs);var _element=require("vdux/element");var _element2=_interopRequireDefault(_element);var _ErrorTip=require("./ErrorTip");var _ErrorTip2=_interopRequireDefault(_ErrorTip);var _util=require("../util");var _Block=require("./Block");var _Block2=_interopRequireDefault(_Block);var _pick=require("@f/pick");var _pick2=_interopRequireDefault(_pick);var _omit=require("@f/omit");var _omit2=_interopRequireDefault(_omit);var _Base=require("./Base");var _Base2=_interopRequireDefault(_Base);var _Text=require("./Text");var _Text2=_interopRequireDefault(_Text);var _Icon=require("./Icon");var _Icon2=_interopRequireDefault(_Icon);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var inputPropNames=["tag","invalid","type","name","inputProps","onInvalid","defaultValue","defaultChecked"].concat(_inputAttrs2.default);var filterProps=(0,_omit2.default)(inputPropNames);function render(_ref){var props=_ref.props;var children=_ref.children;var message=props.message;var name=props.name;var label=props.label;var labelClass=props.labelClass;var _props$labelProps=props.labelProps;var labelProps=_props$labelProps===undefined?{}:_props$labelProps;var inputClass=props.inputClass;var _props$inputProps=props.inputProps;var inputProps=_props$inputProps===undefined?{}:_props$inputProps;var invalid=props.invalid;var border=props.border;var _props$errorPlacement=props.errorPlacement;var errorPlacement=_props$errorPlacement===undefined?"left":_props$errorPlacement;var icon=props.icon;var filteredProps=filterProps(props);var restInputAttrs=(0,_pick2.default)(inputPropNames,props);return(0,_element2.default)(_Block2.default,_extends({tag:"label",align:"start center",mb:"s",relative:true,overflow:"visible",onFocus:[props.onFocus,stopEvent],onBlur:[props.onBlur,stopEvent],color:invalid?"error":null},filteredProps,{"class":(0,_util.classes)(props.class,"vui-input-container")}),(0,_element2.default)(_Base2.default,_extends({tag:"label","for":name,"class":(0,_util.classes)(labelClass,"vui-label")},labelProps),label||children),(0,_element2.default)(_Icon2.default,{name:icon,hide:!icon,fs:"s",lh:"inherit"}),(0,_element2.default)(_Base2.default,_extends({tag:"input",onBlur:handleEvent,onFocus:handleEvent,outline:"none",boxSizing:"border-box",fontFamily:"inherit",display:"block",wide:true,m:0,color:"inherit",fs:"inherit",type:"text",border:inputProps.border&&(invalid?"error":"border")},restInputAttrs,inputProps,{"class":(0,_util.classes)(inputClass,"vui-input")})),message&&(0,_element2.default)(_ErrorTip2.default,{placement:errorPlacement,show:invalid,message:message}))}function handleEvent(e){if(!e.bubbles){e.target.dispatchEvent(new FocusEvent(e.type,{bubbles:true}))}}function stopEvent(e){e.stopPropagation();e._rawEvent.stopPropagation()}exports.default={render:render}},{"../util":342,"./Base":305,"./Block":306,"./ErrorTip":315,"./Icon":319,"./Text":336,"@f/input-attrs":50,"@f/omit":81,"@f/pick":82,"vdux/element":345}],323:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _util=require("../util");var _element=require("vdux/element");var _element2=_interopRequireDefault(_element);var _Block=require("./Block");var _Block2=_interopRequireDefault(_Block);var _omit=require("@f/omit");var _omit2=_interopRequireDefault(_omit);var _Flex=require("./Flex");var _Flex2=_interopRequireDefault(_Flex);var _map=require("@f/map");var _map2=_interopRequireDefault(_map);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var getProps=(0,_util.getThemeProps)(["scale"]);var filterProps=(0,_omit2.default)(["spacing","itemStyle","itemProps","class"]);function render(_ref){var props=_ref.props;var children=_ref.children;var itemStyle=props.itemStyle;var _props$itemProps=props.itemProps;var itemProps=_props$itemProps===undefined?{}:_props$itemProps;var $theme=props.$theme;return(0,_element2.default)(_Flex2.default,_extends({},filterProps(props),{"class":[props.class,"vui-menu"]}),(0,_map2.default)(function(child){return(0,_element2.default)(_Block2.default,_extends({},itemProps,{baseStyle:getBaseItemStyle(props,$theme),style:itemStyle}),child)},children))}function getBaseItemStyle(_ref2,_ref3){var spacing=_ref2.spacing;var column=_ref2.column;var _ref3$scale=_ref3.scale;var scale=_ref3$scale===undefined?[]:_ref3$scale;var margin=scale[spacing]?scale[spacing]:spacing;return column?{marginBottom:margin}:{marginRight:margin}}exports.default={render:render,getProps:getProps}},{"../util":342,"./Block":306,"./Flex":317,"@f/map":75,"@f/omit":81,"vdux/element":345}],324:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _element=require("vdux/element");var _element2=_interopRequireDefault(_element);var _util=require("../util");var _Block=require("./Block");var _Block2=_interopRequireDefault(_Block);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function getProps(props){if(!props.color)props.color="text";if(!props.bgColor)props.bgColor="white";return props}function render(_ref){var props=_ref.props;var children=_ref.children;return(0,_element2.default)(_Block2.default,_extends({px:"m",py:"s",pointer:true,m:0,textDecoration:"none"},props,{"class":(0,_util.classes)(props.class,"vui-menu-item")}),props.text||children)}exports.default={getProps:getProps,render:render}},{"../util":342,"./Block":306,"vdux/element":345}],325:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _element=require("vdux/element");var _element2=_interopRequireDefault(_element);var _Overlay=require("./Overlay");var _Overlay2=_interopRequireDefault(_Overlay);var _noop=require("@f/noop");var _noop2=_interopRequireDefault(_noop);var _Flex=require("./Flex");var _Flex2=_interopRequireDefault(_Flex);var _Base=require("./Base");var _Base2=_interopRequireDefault(_Base);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _objectWithoutProperties(obj,keys){var target={};for(var i in obj){if(keys.indexOf(i)>=0)continue;if(!Object.prototype.hasOwnProperty.call(obj,i))continue;target[i]=obj[i]}return target}function render(_ref){var props=_ref.props;var children=_ref.children;var _props$dismissOnClick=props.dismissOnClick;var dismissOnClick=_props$dismissOnClick===undefined?true:_props$dismissOnClick;var _props$dismissOnEsc=props.dismissOnEsc;var dismissOnEsc=_props$dismissOnEsc===undefined?true:_props$dismissOnEsc;var _props$onDismiss=props.onDismiss;var onDismiss=_props$onDismiss===undefined?_noop2.default:_props$onDismiss;var overlayProps=props.overlayProps;var rest=_objectWithoutProperties(props,["dismissOnClick","dismissOnEsc","onDismiss","overlayProps"]);return(0,_element2.default)(_Overlay2.default,_extends({overflowY:"scroll",onClick:dismissOnClick&&maybeDismiss,onKeyup:{esc:dismissOnEsc&&onDismiss}},overlayProps),(0,_element2.default)(_Base2.default,_extends({tag:"div",bgColor:"white",w:520,boxShadow:"card",margin:"50px auto 0"},rest),children));function maybeDismiss(e){if(e.target===e.currentTarget){return onDismiss()}}}exports.default={render:render}},{"./Base":305,"./Flex":317,"./Overlay":329,"@f/noop":77,"vdux/element":345}],326:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _element=require("vdux/element");var _element2=_interopRequireDefault(_element);var _Base=require("./Base");var _Base2=_interopRequireDefault(_Base);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function render(_ref){var props=_ref.props;var children=_ref.children;return(0,_element2.default)(_Base2.default,_extends({tag:"div",wide:true,bgColor:"white",px:"70px"},props),children)}exports.default={render:render}},{"./Base":305,"vdux/element":345}],327:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _element=require("vdux/element");var _element2=_interopRequireDefault(_element);var _Base=require("./Base");var _Base2=_interopRequireDefault(_Base);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function render(_ref){var props=_ref.props;var children=_ref.children;return(0,_element2.default)(_Base2.default,_extends({tag:"div",wide:true,color:"#939597",bgColor:"grey",align:"end center",p:true,mt:true},props),children)}exports.default={render:render}},{"./Base":305,"vdux/element":345}],328:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _element=require("vdux/element");var _element2=_interopRequireDefault(_element);var _Base=require("./Base");var _Base2=_interopRequireDefault(_Base);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function render(_ref){var props=_ref.props;var children=_ref.children;return(0,_element2.default)(_Base2.default,_extends({pt:"xl",pb:"l",fs:"m",fw:"200",color:"blue",textAlign:"center"},props),children)}exports.default={render:render}},{"./Base":305,"vdux/element":345}],329:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _element=require("vdux/element");var _element2=_interopRequireDefault(_element);var _Base=require("./Base");var _Base2=_interopRequireDefault(_Base);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function render(_ref){var props=_ref.props;var children=_ref.children;return(0,_element2.default)(_Base2.default,_extends({tag:"div",bgColor:"rgba(1, 1, 1, 0.5)",z:"overlay",fixed:true,wide:true,tall:true},props,{"class":props.class?["vui-overlay",props.class]:"vui-overlay"}),children)}exports.default={render:render}},{"./Base":305,"vdux/element":345}],330:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _element=require("vdux/element");var _element2=_interopRequireDefault(_element);var _Block=require("./Block");var _Block2=_interopRequireDefault(_Block);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _objectWithoutProperties(obj,keys){var target={};for(var i in obj){if(keys.indexOf(i)>=0)continue;if(!Object.prototype.hasOwnProperty.call(obj,i))continue;target[i]=obj[i]}return target}function render(_ref){var props=_ref.props;var _props$progress=props.progress;var progress=_props$progress===undefined?0:_props$progress;var _props$barProps=props.barProps;var barProps=_props$barProps===undefined?{}:_props$barProps;var rest=_objectWithoutProperties(props,["progress","barProps"]);return(0,_element2.default)(_Block2.default,_extends({overflow:"hidden",h:20,mb:"1em",bgColor:"rgba(black, 0.05)",relative:true},rest),(0,_element2.default)(_Block2.default,_extends({tall:true,bgColor:"primary",absolute:"top 0px left 0px",transition:"width .6s ease"},barProps,{w:Math.round(progress)+"%"})))}exports.default={render:render}},{"./Block":306,"vdux/element":345}],331:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{
value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _element=require("vdux/element");var _element2=_interopRequireDefault(_element);var _util=require("../util");var _Block=require("./Block");var _Block2=_interopRequireDefault(_Block);var _Flex=require("./Flex");var _Flex2=_interopRequireDefault(_Flex);var _Icon=require("./Icon");var _Icon2=_interopRequireDefault(_Icon);var _Base=require("./Base");var _Base2=_interopRequireDefault(_Base);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _objectWithoutProperties(obj,keys){var target={};for(var i in obj){if(keys.indexOf(i)>=0)continue;if(!Object.prototype.hasOwnProperty.call(obj,i))continue;target[i]=obj[i]}return target}function render(_ref){var props=_ref.props;var children=_ref.children;var name=props.name;var _props$label=props.label;var label=_props$label===undefined?children:_props$label;var checked=props.checked;var disabled=props.disabled;var value=props.value;var onChange=props.onChange;var rest=_objectWithoutProperties(props,["name","label","checked","disabled","value","onChange"]);var _props$btn=props.btn;var Btn=_props$btn===undefined?RadioUi:_props$btn;var _props$uiProps=props.uiProps;var uiProps=_props$uiProps===undefined?{}:_props$uiProps;return(0,_element2.default)(_Flex2.default,_extends({tag:"label"},rest,{align:"start center"}),(0,_element2.default)(_Base2.default,{tag:"input",type:"radio",hide:true,name:name,value:value,checked:checked,disabled:disabled,onChange:onChange}),(0,_element2.default)(Btn,_extends({checked:checked,label:label},uiProps)))}function RadioUi(_ref2){var props=_ref2.props;var checked=props.checked;var label=props.label;return(0,_element2.default)(_Flex2.default,{align:"start center"},(0,_element2.default)(_Flex2.default,{circle:true,align:"center center",sq:16,border:true,borderColor:checked?"green":"#bbb",bgColor:checked?"green":"white",mr:"s"}),label)}exports.default={render:render}},{"../util":342,"./Base":305,"./Block":306,"./Flex":317,"./Icon":319,"vdux/element":345}],332:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _element=require("vdux/element");var _element2=_interopRequireDefault(_element);var _util=require("../util");var _Base=require("./Base");var _Base2=_interopRequireDefault(_Base);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function render(_ref){var props=_ref.props;var children=_ref.children;return(0,_element2.default)(_Base2.default,_extends({tag:"table"},props,{"class":(0,_util.classes)(props.class,"vui-table")}),children)}exports.default={render:render}},{"../util":342,"./Base":305,"vdux/element":345}],333:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _element=require("vdux/element");var _element2=_interopRequireDefault(_element);var _util=require("../util");var _Base=require("./Base");var _Base2=_interopRequireDefault(_Base);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function render(_ref){var props=_ref.props;var children=_ref.children;return(0,_element2.default)(_Base2.default,_extends({tag:"td"},props,{"class":(0,_util.classes)(props.class,"vui-table-cell")}),children)}exports.default={render:render}},{"../util":342,"./Base":305,"vdux/element":345}],334:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _element=require("vdux/element");var _element2=_interopRequireDefault(_element);var _util=require("../util");var _Base=require("./Base");var _Base2=_interopRequireDefault(_Base);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function render(_ref){var props=_ref.props;var children=_ref.children;return(0,_element2.default)(_Base2.default,_extends({tag:"th"},props,{"class":(0,_util.classes)(props.class,"vui-table-header")}),children)}exports.default={render:render}},{"../util":342,"./Base":305,"vdux/element":345}],335:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _element=require("vdux/element");var _element2=_interopRequireDefault(_element);var _util=require("../util");var _Base=require("./Base");var _Base2=_interopRequireDefault(_Base);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function render(_ref){var props=_ref.props;var children=_ref.children;return(0,_element2.default)(_Base2.default,_extends({tag:"tr"},props,{"class":(0,_util.classes)(props.class,"vui-table-row")}),children)}exports.default={render:render}},{"../util":342,"./Base":305,"vdux/element":345}],336:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _element=require("vdux/element");var _element2=_interopRequireDefault(_element);var _util=require("../util");var _Base=require("./Base");var _Base2=_interopRequireDefault(_Base);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function render(_ref){var props=_ref.props;var children=_ref.children;return(0,_element2.default)(_Base2.default,_extends({tag:"span"},props,{"class":(0,_util.classes)(props.class,"vui-text")}),children)}exports.default={render:render}},{"../util":342,"./Base":305,"vdux/element":345}],337:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _element=require("vdux/element");var _element2=_interopRequireDefault(_element);var _ErrorTip=require("./ErrorTip");var _ErrorTip2=_interopRequireDefault(_ErrorTip);var _util=require("../util");var _Block=require("./Block");var _Block2=_interopRequireDefault(_Block);var _Icon=require("./Icon");var _Icon2=_interopRequireDefault(_Icon);var _Base=require("./Base");var _Base2=_interopRequireDefault(_Base);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _objectWithoutProperties(obj,keys){var target={};for(var i in obj){if(keys.indexOf(i)>=0)continue;if(!Object.prototype.hasOwnProperty.call(obj,i))continue;target[i]=obj[i]}return target}function render(_ref){var props=_ref.props;var children=_ref.children;var onBlur=props.onBlur;var onFocus=props.onFocus;var errorPlacement=props.errorPlacement;var message=props.message;var invalid=props.invalid;var label=props.label;var icon=props.icon;var rest=_objectWithoutProperties(props,["onBlur","onFocus","errorPlacement","message","invalid","label","icon"]);return(0,_element2.default)(_Block2.default,{tag:"label",overflow:"visible",onFocus:[onFocus,stopEvent],onBlur:[onBlur,stopEvent],"class":"vui-input-container"},(0,_element2.default)(_Base2.default,{tag:"span"},label||children),(0,_element2.default)(_Icon2.default,{name:icon,hide:!icon,fs:"s",lh:"inherit"}),(0,_element2.default)(_Base2.default,_extends({tag:"textarea",onBlur:handleEvent,onFocus:handleEvent,outline:"none",boxSizing:"border-box",fontFamily:"inherit",display:"block",wide:true,m:0,color:"inherit",fs:"inherit",type:"text"},rest,{"class":(0,_util.classes)(props.class,"vui-textarea")})),message&&(0,_element2.default)(_ErrorTip2.default,{placement:errorPlacement,show:invalid,message:message}))}function handleEvent(e){if(!e.bubbles){e.target.dispatchEvent(new FocusEvent(e.type,{bubbles:true}))}}function stopEvent(e){e.stopPropagation();e._rawEvent.stopPropagation()}exports.default={render:render}},{"../util":342,"./Base":305,"./Block":306,"./ErrorTip":315,"./Icon":319,"vdux/element":345}],338:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _element=require("vdux/element");var _element2=_interopRequireDefault(_element);var _Checkbox=require("./Checkbox");var _Checkbox2=_interopRequireDefault(_Checkbox);var _Block=require("./Block");var _Block2=_interopRequireDefault(_Block);var _Flex=require("./Flex");var _Flex2=_interopRequireDefault(_Flex);var _Base=require("./Base");var _Base2=_interopRequireDefault(_Base);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function render(_ref){var props=_ref.props;var children=_ref.children;return(0,_element2.default)(_Checkbox2.default,_extends({btn:ToggleUi},props))}function ToggleUi(_ref2){var props=_ref2.props;var checked=props.checked;var label=props.label;var _props$contWidth=props.contWidth;var contWidth=_props$contWidth===undefined?"15%":_props$contWidth;var _props$tWidth=props.tWidth;var tWidth=_props$tWidth===undefined?42:_props$tWidth;var squished=props.squished;var tHeight=tWidth*.55;var delta=5;return(0,_element2.default)(_Flex2.default,{align:"start center",wide:true},(0,_element2.default)(_Block2.default,{flex:contWidth},(0,_element2.default)(_Block2.default,{bg:checked?"green":"rgba(0,0,0,.2)",transition:"background-color .2s",w:tWidth,h:tHeight,relative:true,boxSizing:"content-box",border:"2px solid transparent",borderColor:checked&&"green",pill:true},(0,_element2.default)(_Block2.default,{boxShadow:"0px 1px 5px rgba(#000, .3)",w:squished?tHeight+delta:tHeight,transition:"all .2s",h:tHeight,absolute:true,bg:"white",pointer:true,circle:true,left:checked?squished?tWidth-tHeight-delta:tWidth-tHeight:0}))),label)}exports.default={render:render}},{"./Base":305,"./Block":306,"./Checkbox":310,"./Flex":317,"vdux/element":345}],339:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _vduxPosition=require("vdux-position");var _vduxPosition2=_interopRequireDefault(_vduxPosition);var _element=require("vdux/element");var _element2=_interopRequireDefault(_element);var _util=require("../util");var _Block=require("./Block");var _Block2=_interopRequireDefault(_Block);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _objectWithoutProperties(obj,keys){var target={};for(var i in obj){if(keys.indexOf(i)>=0)continue;if(!Object.prototype.hasOwnProperty.call(obj,i))continue;target[i]=obj[i]}return target}var width="6px";function render(_ref){var props=_ref.props;var children=_ref.children;var _props$placement=props.placement;var placement=_props$placement===undefined?"top":_props$placement;var _props$space=props.space;var space=_props$space===undefined?0:_props$space;var _props$color=props.color;var color=_props$color===undefined?"white":_props$color;var show=props.show;var _props$bgColor=props.bgColor;var bgColor=_props$bgColor===undefined?"black":_props$bgColor;var restProps=_objectWithoutProperties(props,["placement","space","color","show","bgColor"]);var margin={};if(placement==="top")margin.mt="-3px";else if(placement==="bottom")margin.mb="-3px";else if(placement==="right")margin.mr="-3px";else if(placement==="left")margin.ml="-3px";return(0,_element2.default)(_vduxPosition2.default,{placement:placement,space:space,disable:!show},(0,_element2.default)(_Block2.default,_extends({absolute:true,userSelect:"none"},margin,{py:width,top:"-10000px",opacity:show?1:0,transition:"opacity .15s linear",z:"tooltip","class":(0,_util.classes)(props.class,"vui-tooltip")}),(0,_element2.default)(_Block2.default,_extends({absolute:true,sq:0,borderColor:"transparent",borderStyle:"solid"},getArrowStyle(placement,bgColor),{"class":"vui-tooltip-arrow"})),(0,_element2.default)(_Block2.default,_extends({"class":"vui-tooltip-inner",fs:"xxs",py:6,px:9,maxWidth:200,rounded:true,bgColor:bgColor,whiteSpace:"nowrap",color:"white"},restProps),children)))}function getArrowStyle(placement,color){switch(placement){case"top":return{bottom:0,left:"50%",marginLeft:"-"+width,borderWidth:width+" "+width+" 0",borderTopColor:color,marginTop:"-3px"};case"bottom":return{top:0,left:"50%",marginLeft:"-"+width,borderWidth:"0 "+width+" "+width,borderBottomColor:color};case"right":return{top:"50%",right:"100%",marginTop:"-"+width,borderWidth:width+" "+width+" "+width+" 0",borderRightColor:color};case"left":return{top:"50%",left:"100%",marginTop:"-"+width,borderWidth:width+" 0 "+width+" "+width,borderLeftColor:color};default:throw new Error('Unknown tooltip placement: "'+placement+'"')}}exports.default={render:render}},{"../util":342,"./Block":306,"vdux-position":303,"vdux/element":345}],340:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var baseColors={black:"#111",white:"#fff",gray:"#ddd",midgray:"#888",blue:"#08e",red:"#f52",orange:"#f70",green:"#1c7"};exports.default={circularAvatars:true,colors:_extends({},baseColors,{primary:baseColors.blue,secondary:baseColors.midgray,"default":baseColors.black,info:baseColors.blue,success:baseColors.green,warning:baseColors.orange,error:baseColors.red,divider:baseColors.midgray,text:baseColors.black}),iconTag:"md-icon",iconClass:"material-icons",borderRadius:3,shadow:{card:"0 1px 2px 0 rgba(0, 0, 0, 0.2)",menu:"0 0 20px 0 rgba(52, 52, 52, 0.2), 0 0 0 1px rgba(52, 52, 52, 0.05)"},scale:{z:0,xs:4,s:8,m:16,l:32,xl:64},fontScale:{xxl:48,xl:32,l:24,m:20,s:16,xs:14,xxs:12},lineHeightScale:{xxl:"1.2em",xl:"1.2em",l:"1.2em",s:"1.4em",xs:"1.2em",xxs:"1.2em"},zIndexScale:{tooltip:99999,overlay:99999}}},{}],341:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.defaultTheme=exports.Textarea=exports.TableHeader=exports.TableCell=exports.TableRow=exports.Table=exports.Toggle=exports.Image=exports.ProgressBar=exports.ModalFooter=exports.ModalHeader=exports.ModalBody=exports.Modal=exports.Overlay=exports.ErrorTip=exports.Tooltip=exports.Divider=exports.DecoLine=exports.DropdownMenu=exports.Dropdown=exports.IconButton=exports.Button=exports.MenuItem=exports.Menu=exports.Icon=exports.Fixed=exports.Text=exports.Input=exports.Radio=exports.Checkbox=exports.Grid=exports.Flex=exports.Card=exports.Box=exports.Block=exports.Base=exports.Avatar=undefined;var _DropdownMenu=require("./components/DropdownMenu");var _DropdownMenu2=_interopRequireDefault(_DropdownMenu);var _ModalHeader=require("./components/ModalHeader");var _ModalHeader2=_interopRequireDefault(_ModalHeader);var _ModalFooter=require("./components/ModalFooter");var _ModalFooter2=_interopRequireDefault(_ModalFooter);var _ProgressBar=require("./components/ProgressBar");var _ProgressBar2=_interopRequireDefault(_ProgressBar);var _TableHeader=require("./components/TableHeader");var _TableHeader2=_interopRequireDefault(_TableHeader);var _IconButton=require("./components/IconButton");var _IconButton2=_interopRequireDefault(_IconButton);var _ModalBody=require("./components/ModalBody");var _ModalBody2=_interopRequireDefault(_ModalBody);var _TableCell=require("./components/TableCell");var _TableCell2=_interopRequireDefault(_TableCell);var _TableRow=require("./components/TableRow");var _TableRow2=_interopRequireDefault(_TableRow);var _DecoLine=require("./components/DecoLine");var _DecoLine2=_interopRequireDefault(_DecoLine);var _Dropdown=require("./components/Dropdown");var _Dropdown2=_interopRequireDefault(_Dropdown);var _MenuItem=require("./components/MenuItem");var _MenuItem2=_interopRequireDefault(_MenuItem);var _Checkbox=require("./components/Checkbox");var _Checkbox2=_interopRequireDefault(_Checkbox);var _ErrorTip=require("./components/ErrorTip");var _ErrorTip2=_interopRequireDefault(_ErrorTip);var _Textarea=require("./components/Textarea");var _Textarea2=_interopRequireDefault(_Textarea);var _Divider=require("./components/Divider");var _Divider2=_interopRequireDefault(_Divider);var _Overlay=require("./components/Overlay");var _Overlay2=_interopRequireDefault(_Overlay);var _Tooltip=require("./components/Tooltip");var _Tooltip2=_interopRequireDefault(_Tooltip);var _defaultTheme=require("./default-theme");var _defaultTheme2=_interopRequireDefault(_defaultTheme);var _Avatar=require("./components/Avatar");var _Avatar2=_interopRequireDefault(_Avatar);var _Button=require("./components/Button");var _Button2=_interopRequireDefault(_Button);var _Toggle=require("./components/Toggle");var _Toggle2=_interopRequireDefault(_Toggle);var _Table=require("./components/Table");var _Table2=_interopRequireDefault(_Table);var _Block=require("./components/Block");var _Block2=_interopRequireDefault(_Block);var _Fixed=require("./components/Fixed");var _Fixed2=_interopRequireDefault(_Fixed);var _Image=require("./components/Image");var _Image2=_interopRequireDefault(_Image);var _Input=require("./components/Input");var _Input2=_interopRequireDefault(_Input);var _Modal=require("./components/Modal");var _Modal2=_interopRequireDefault(_Modal);var _Radio=require("./components/Radio");var _Radio2=_interopRequireDefault(_Radio);var _Base=require("./components/Base");var _Base2=_interopRequireDefault(_Base);var _Card=require("./components/Card");var _Card2=_interopRequireDefault(_Card);var _Flex=require("./components/Flex");var _Flex2=_interopRequireDefault(_Flex);var _Grid=require("./components/Grid");var _Grid2=_interopRequireDefault(_Grid);var _Icon=require("./components/Icon");var _Icon2=_interopRequireDefault(_Icon);var _Menu=require("./components/Menu");var _Menu2=_interopRequireDefault(_Menu);var _Text=require("./components/Text");var _Text2=_interopRequireDefault(_Text);var _Box=require("./components/Box");var _Box2=_interopRequireDefault(_Box);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}exports.Avatar=_Avatar2.default;exports.Base=_Base2.default;exports.Block=_Block2.default;exports.Box=_Box2.default;exports.Card=_Card2.default;exports.Flex=_Flex2.default;exports.Grid=_Grid2.default;exports.Checkbox=_Checkbox2.default;exports.Radio=_Radio2.default;exports.Input=_Input2.default;exports.Text=_Text2.default;exports.Fixed=_Fixed2.default;exports.Icon=_Icon2.default;exports.Menu=_Menu2.default;exports.MenuItem=_MenuItem2.default;exports.Button=_Button2.default;exports.IconButton=_IconButton2.default;exports.Dropdown=_Dropdown2.default;exports.DropdownMenu=_DropdownMenu2.default;exports.DecoLine=_DecoLine2.default;exports.Divider=_Divider2.default;exports.Tooltip=_Tooltip2.default;exports.ErrorTip=_ErrorTip2.default;exports.Overlay=_Overlay2.default;exports.Modal=_Modal2.default;exports.ModalBody=_ModalBody2.default;exports.ModalHeader=_ModalHeader2.default;exports.ModalFooter=_ModalFooter2.default;exports.ProgressBar=_ProgressBar2.default;exports.Image=_Image2.default;exports.Toggle=_Toggle2.default;exports.Table=_Table2.default;exports.TableRow=_TableRow2.default;exports.TableCell=_TableCell2.default;exports.TableHeader=_TableHeader2.default;exports.Textarea=_Textarea2.default;exports.defaultTheme=_defaultTheme2.default},{"./components/Avatar":304,"./components/Base":305,"./components/Block":306,"./components/Box":307,"./components/Button":308,"./components/Card":309,"./components/Checkbox":310,"./components/DecoLine":311,"./components/Divider":312,"./components/Dropdown":313,"./components/DropdownMenu":314,"./components/ErrorTip":315,"./components/Fixed":316,"./components/Flex":317,"./components/Grid":318,"./components/Icon":319,"./components/IconButton":320,"./components/Image":321,"./components/Input":322,"./components/Menu":323,"./components/MenuItem":324,"./components/Modal":325,"./components/ModalBody":326,"./components/ModalFooter":327,"./components/ModalHeader":328,"./components/Overlay":329,"./components/ProgressBar":330,"./components/Radio":331,"./components/Table":332,"./components/TableCell":333,"./components/TableHeader":334,"./components/TableRow":335,"./components/Text":336,"./components/Textarea":337,"./components/Toggle":338,"./components/Tooltip":339,"./default-theme":340}],342:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.rgbaify=exports.classes=exports.mergeTheme=exports.getThemeProps=exports.highlight=exports.flexify=exports.setScaled=exports.borderSetter=exports.boolSetter=exports.positionSetter=exports.scaleSetter=undefined;var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"])_i["return"]()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr)){return arr}else if(Symbol.iterator in Object(arr)){return sliceIterator(arr,i)}else{throw new TypeError("Invalid attempt to destructure non-iterable instance")}}}();var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol?"symbol":typeof obj};var _defaultTheme=require("./default-theme");var _defaultTheme2=_interopRequireDefault(_defaultTheme);var _extend=require("@f/extend");var _extend2=_interopRequireDefault(_extend);var _pick=require("@f/pick");var _pick2=_interopRequireDefault(_pick);var _color=require("color");var _color2=_interopRequireDefault(_color);var _has=require("@f/has");var _has2=_interopRequireDefault(_has);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function scaleSetter(styleKey){var themeScaleKey=arguments.length<=1||arguments[1]===undefined?"scale":arguments[1];var defaultValue=arguments.length<=2||arguments[2]===undefined?"m":arguments[2];if(Array.isArray(styleKey)){return function(style,val,theme){var scale=theme[themeScaleKey];if(val===true){val=defaultValue}for(var i=0;i<styleKey.length;++i){setScaled(style,styleKey[i],val,theme[themeScaleKey])}}}else{return function(style,val,theme){return setScaled(style,styleKey,val===true?defaultValue:val,theme[themeScaleKey])}}}function boolSetter(styleKey,value){return function(style,val){return val&&(style[styleKey]=value)}}function borderSetter(borderKey){var colorKey=borderKey+"Color";var styleKey=borderKey+"Style";var widthKey=borderKey+"Width";return function(style,val,_ref,_ref2){var colors=_ref.colors;var _ref2$borderWidth=_ref2.borderWidth;var borderWidth=_ref2$borderWidth===undefined?"1px":_ref2$borderWidth;if(val){if(typeof val==="string"){if(/^[^\(]*\s/.test(val)){var parts=val.split(" ");for(var i=0;i<parts.length;i++){var part=parts[i];if((0,_has2.default)(part,colors)){parts[i]=colors[part]}}style[borderKey]=parts.join(" ");return}else{setScaled(style,colorKey,val,colors)}}style[styleKey]="solid";style[widthKey]=borderWidth}}}var posRe=/^(top|bottom)(?:\s(\d+[a-zA-Z]+))?\s(left|right)(?:\s(\d+[a-zA-Z]+))?$/;function positionSetter(styleKey){return function(style,val,_ref3){var scale=_ref3.scale;style.position=styleKey;if(typeof val==="string"){var parts=posRe.exec(val);setScaled(style,parts[1],parts[2]||0,scale);setScaled(style,parts[3],parts[4]||0,scale)}else if((typeof val==="undefined"?"undefined":_typeof(val))==="object"){setScaled(style,"top",val.top,scale);setScaled(style,"left",val.left,scale);setScaled(style,"right",val.right,scale);setScaled(style,"bottom",val.bottom,scale)}}}function setScaled(obj,key,val,scale){if(typeof val!=="undefined"){obj[key]=scale&&(0,_has2.default)(val,scale)?scale[val]:val}}function posString(pos,n){switch(pos){case"top":return n+"px 0 0 0";case"right":return"0 "+n+"px 0 0";case"bottom":return"0 0 "+n+"px 0";case"left":return"0 0 0 "+n+"px"}}function highlight(color){var amount=arguments.length<=1||arguments[1]===undefined?.1:arguments[1];if(color==="transparent")return color;var clr=(0,_color2.default)(color);return clr.light()?clr.darken(amount).rgbaString():clr.lighten(amount).rgbaString()}function getThemeProps(themeProps){return function(props){var context=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];var _context$uiTheme=context.uiTheme;var uiTheme=_context$uiTheme===undefined?{}:_context$uiTheme;props.$theme=(0,_pick2.default)(themeProps,uiTheme,_defaultTheme2.default);return props}}var lastCtxTheme=null;var lastMergedTheme=null;function mergeTheme(ctxTheme){if(lastCtxTheme===ctxTheme&&lastMergedTheme)return lastMergedTheme;lastCtxTheme=ctxTheme;lastMergedTheme=(0,_extend2.default)({},_defaultTheme2.default,ctxTheme);return lastMergedTheme}function classes(a,b){return a&&b?Array.isArray(a)?a.concat(b):[a,b]:a?a:b}function flexify(str){return str==="start"||str==="end"?"flex-"+str:str}var rgbaRe=/rgba\(([^,]+),([^,]+)\)/g;function rgbaify(str,colors){var parts=rgbaRe.exec(str);while(parts){var _parts=parts;var _parts2=_slicedToArray(_parts,3);var replace=_parts2[0];var color=_parts2[1];var alpha=_parts2[2];if((0,_has2.default)(color,colors)){color=colors[color]}var newStr=(0,_color2.default)(color).alpha(Number(alpha)).rgbaString();str=str.replace(replace,newStr);parts=rgbaRe.exec(str)}return str}exports.scaleSetter=scaleSetter;exports.positionSetter=positionSetter;exports.boolSetter=boolSetter;exports.borderSetter=borderSetter;exports.setScaled=setScaled;exports.flexify=flexify;exports.highlight=highlight;exports.getThemeProps=getThemeProps;exports.mergeTheme=mergeTheme;exports.classes=classes;exports.rgbaify=rgbaify},{"./default-theme":340,"@f/extend":29,"@f/has":44,"@f/pick":82,color:214}],343:[function(require,module,exports){module.exports=require("./lib/global-listener").default(typeof document==="undefined"?{}:document)},{"./lib/global-listener":347}],344:[function(require,module,exports){module.exports=require("./lib/dom")},{"./lib/dom":346}],345:[function(require,module,exports){exports=module.exports=require("virtex-element")},{"virtex-element":354}],346:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.findDOMNode=undefined;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _applyMiddleware=require("redux/lib/applyMiddleware");var _applyMiddleware2=_interopRequireDefault(_applyMiddleware);var _delegant=require("delegant");var _delegant2=_interopRequireDefault(_delegant);var _createStore=require("redux/lib/createStore");var _createStore2=_interopRequireDefault(_createStore);var _virtexDom=require("virtex-dom");var _virtexDom2=_interopRequireDefault(_virtexDom);var _isDomLoaded=require("@f/is-dom-loaded");var _isDomLoaded2=_interopRequireDefault(_isDomLoaded);var _virtex2=require("virtex");var _virtex3=_interopRequireDefault(_virtex2);var _virtexLocal=require("virtex-local");var _virtexLocal2=_interopRequireDefault(_virtexLocal);var _virtexComponent=require("virtex-component");var _virtexComponent2=_interopRequireDefault(_virtexComponent);var _emptyElement=require("@f/empty-element");var _emptyElement2=_interopRequireDefault(_emptyElement);var _isObject=require("@f/is-object");var _isObject2=_interopRequireDefault(_isObject);var _queue=require("@f/queue");var _queue2=_interopRequireDefault(_queue);var _debounce=require("@f/debounce");var _debounce2=_interopRequireDefault(_debounce);var _foreach=require("@f/foreach");var _foreach2=_interopRequireDefault(_foreach);var _reduxMulti=require("redux-multi");var _reduxMulti2=_interopRequireDefault(_reduxMulti);var _reduxFalsy=require("redux-falsy");var _reduxFalsy2=_interopRequireDefault(_reduxFalsy);var _reduxThunk=require("redux-thunk");var _reduxThunk2=_interopRequireDefault(_reduxThunk);var _equal=require("@f/equal");var _equal2=_interopRequireDefault(_equal);var _map=require("@f/map");var _map2=_interopRequireDefault(_map);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}else{return Array.from(arr)}}function vdux(){var opts=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];var _opts$middleware=opts.middleware;var middleware=_opts$middleware===undefined?[]:_opts$middleware;var _opts$reducer=opts.reducer;var reducer=_opts$reducer===undefined?function(state){return state}:_opts$reducer;var _opts$initialState=opts.initialState;var initialState=_opts$initialState===undefined?{}:_opts$initialState;var node=opts.node;var prerendered=opts.prerendered;var prevTree=void 0;var context={};var forceUpdate=false;var rendering=false;var delegated=false;var dirty={};var components={};var postRenderQueue=(0,_queue2.default)();var store=_applyMiddleware2.default.apply(undefined,[_reduxFalsy2.default,_reduxMulti2.default,_virtexDom2.default,(0,_virtexLocal2.default)("ui",dirty),(0,_virtexComponent2.default)({components:components,postRender:postRenderQueue.add,getContext:function getContext(){return context},ignoreShouldUpdate:function ignoreShouldUpdate(){return forceUpdate}}),_reduxThunk2.default].concat(_toConsumableArray(middleware)))(_createStore2.default)((0,_virtexLocal.mount)("ui",reducer),initialState);var _virtex=(0,_virtex3.default)(store.dispatch);var create=_virtex.create;var update=_virtex.update;var updatePaths=_virtex.updatePaths;return{replaceReducer:function replaceReducer(_reducer){reducer=_reducer;store.replaceReducer((0,_virtexLocal.mount)("ui",reducer))},dispatch:function dispatch(action){store.dispatch(action)},getState:function getState(){return store.getState()},subscribe:function subscribe(fn){if(!(0,_isDomLoaded2.default)()){throw new Error("vdux: Please wait until the document (i.e. DOMContentLoaded) is ready before calling subscribe")}var debouncedFn=(0,_debounce2.default)(function(){rendering?debouncedFn():fn(store.getState())});var stop=[];stop.push(store.subscribe(debouncedFn));if(!delegated){stop.push((0,_delegant2.default)(document,store.dispatch));stop.push((0,_delegant.delegateGlobal)(window,store.dispatch));delegated=true}debouncedFn();return function(){return stop.forEach(function(fn){return fn()})}},render:function render(tree){var _context=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];

var force=arguments[2];if(!(0,_equal2.default)(context,_context)){context=_context;force=true}forceUpdate=force;rendering=true;prevTree?updateDom(prevTree,tree):createDom(tree);prevTree=tree;forceUpdate=false;var nextTicks=postRenderQueue.flush();setTimeout(function(){(0,_foreach2.default)(function run(fn){if("function"===typeof fn)fn();if(Array.isArray(fn))(0,_foreach2.default)(run,fn)},nextTicks);rendering=false});return node.firstChild}};function createDom(tree){node=node||document.body;if(!prerendered){(0,_emptyElement2.default)(node);node.appendChild(create(tree).element)}else{create(tree,"a",node.firstChild)}return node.firstChild}function updateDom(oldTree,newTree){update(oldTree,newTree);updateDirty();return node.firstChild}function updateDirty(){(0,_foreach2.default)(function(path){if(dirty[path]){var _component=components[path];if(_component){var prev=_extends({},_component);_component.vnode=null;update(prev,_component,path)}}},Object.keys(dirty).sort(function(a,b){return a.length-b.length}))}}exports.default=vdux;exports.findDOMNode=_virtex2.findDOMNode},{"@f/debounce":19,"@f/empty-element":24,"@f/equal":27,"@f/foreach":36,"@f/is-dom-loaded":54,"@f/is-object":60,"@f/map":75,"@f/queue":85,delegant:220,"redux-falsy":256,"redux-multi":258,"redux-thunk":259,"redux/lib/applyMiddleware":260,"redux/lib/createStore":264,virtex:359,"virtex-component":348,"virtex-dom":350,"virtex-local":355}],347:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _eventHandler=require("@f/event-handler");var _eventHandler2=_interopRequireDefault(_eventHandler);var _virtexElement=require("virtex-element");var _virtexElement2=_interopRequireDefault(_virtexElement);var _foreach=require("@f/foreach");var _foreach2=_interopRequireDefault(_foreach);var _evStore=require("ev-store");var _evStore2=_interopRequireDefault(_evStore);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function globalListener(){var node=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];var store=void 0;function onCreate(_ref){var path=_ref.path;var props=_ref.props;store=store||(0,_evStore2.default)("function"===typeof node?node():node);listen(path,props)}function render(_ref2){var props=_ref2.props;var children=_ref2.children;var path=_ref2.path;if(children.length>1){throw new Error("Window component may have only 1 child")}return children[0]||(0,_virtexElement2.default)("span",{"class":"global-listener"})}function onUpdate(prev,next){clear(prev.path);listen(next.path,next.props)}function onRemove(_ref3){var path=_ref3.path;clear(path)}function clear(path){(0,_foreach2.default)(function(name){delete store[name][path]},store[path]);delete store[path]}function listen(path,props){store[path]=[];(0,_foreach2.default)(function(fn,key){var name=key.slice(2).toLowerCase();store[path].push(name);store[name]=store[name]||{};store[name][path]=(0,_eventHandler2.default)(fn)},props)}return{onCreate:onCreate,render:render,onUpdate:onUpdate,onRemove:onRemove}}exports.default=globalListener},{"@f/event-handler":28,"@f/foreach":36,"ev-store":225,"virtex-element":354}],348:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _defaults=require("@f/defaults");var _defaults2=_interopRequireDefault(_defaults);var _identity=require("@f/identity");var _identity2=_interopRequireDefault(_identity);var _equalArray=require("@f/equal-array");var _equalArray2=_interopRequireDefault(_equalArray);var _equalObj=require("@f/equal-obj");var _equalObj2=_interopRequireDefault(_equalObj);var _virtex=require("virtex");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _actions$types=_virtex.actions.types;var CREATE_THUNK=_actions$types.CREATE_THUNK;var UPDATE_THUNK=_actions$types.UPDATE_THUNK;var DESTROY_THUNK=_actions$types.DESTROY_THUNK;function middleware(){var config=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];var _config$components=config.components;var components=_config$components===undefined?{}:_config$components;var _config$postRender=config.postRender;var postRender=_config$postRender===undefined?function(){}:_config$postRender;var _config$ignoreShouldU=config.ignoreShouldUpdate;var ignoreShouldUpdate=_config$ignoreShouldU===undefined?function(){return false}:_config$ignoreShouldU;var _config$getContext=config.getContext;var getContext=_config$getContext===undefined?function(){return{}}:_config$getContext;return function(_ref){var dispatch=_ref.dispatch;var maybeDispatch=function maybeDispatch(action){return action&&dispatch(action)};return function(next){return function(action){switch(action.type){case CREATE_THUNK:components[action.vnode.path]=action.vnode;return create(action.vnode);case UPDATE_THUNK:if(action.prev){components[action.vnode.path]=action.vnode}return update(action.vnode,action.prev);case DESTROY_THUNK:delete components[action.vnode.path];return destroy(action.vnode);default:return next(action)}}};function create(thunk){var component=thunk.type;var onCreate=component.onCreate;var afterRender=component.afterRender;var _component$getProps=component.getProps;var getProps=_component$getProps===undefined?_identity2.default:_component$getProps;thunk.props=getProps(thunk.props||{},getContext());if(onCreate)maybeDispatch(onCreate(thunk));if(afterRender)postRender(function(){return maybeDispatch(afterRender(thunk,(0,_virtex.findDOMNode)(thunk)))});return thunk.vnode=render(component,thunk)}function update(thunk,prev){if(thunk.vnode)return thunk.vnode;var component=thunk.type;var onUpdate=component.onUpdate;var afterRender=component.afterRender;var _component$getProps2=component.getProps;var getProps=_component$getProps2===undefined?_identity2.default:_component$getProps2;thunk.props=getProps(thunk.props||{},getContext());(0,_defaults2.default)(thunk,prev);if(ignoreShouldUpdate()||shouldUpdate(prev,thunk)){if(onUpdate)maybeDispatch(onUpdate(prev,thunk));if(afterRender)postRender(function(){return maybeDispatch(afterRender(thunk,(0,_virtex.findDOMNode)(thunk)))});return thunk.vnode=render(component,thunk)}return thunk.vnode=prev.vnode}function destroy(thunk){var _thunk$type=thunk.type;var onRemove=_thunk$type.onRemove;var _thunk$type$getProps=_thunk$type.getProps;var getProps=_thunk$type$getProps===undefined?_identity2.default:_thunk$type$getProps;thunk.props=getProps(thunk.props||{},getContext());onRemove&&maybeDispatch(onRemove(thunk))}}}function render(component,thunk){return typeof component==="function"?component(thunk):component.render(thunk)}function shouldUpdate(prev,next){return(next.type.shouldUpdate||defaultShouldUpdate)(prev,next)}function defaultShouldUpdate(prev,next){return!(0,_equalArray2.default)(prev.children,next.children)||!(0,_equalObj2.default)(prev.props,next.props)}exports.default=middleware},{"@f/defaults":20,"@f/equal-array":25,"@f/equal-obj":26,"@f/identity":48,virtex:359}],349:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createElement=require("@f/create-element");var _createElement2=_interopRequireDefault(_createElement);var _setAttribute=require("./setAttribute");var _setAttribute2=_interopRequireDefault(_setAttribute);var _foreach=require("@f/foreach");var _foreach2=_interopRequireDefault(_foreach);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function createNode(vnode,children,element){var type=vnode.type;var node=void 0;if(!element){if(type==="#text"){vnode.element=document.createTextNode(vnode.props.nodeValue);return vnode}node=vnode.element=(0,_createElement2.default)(type)}else{node=vnode.element=element}(0,_foreach2.default)(function(child){return node.appendChild(child.element)},children);(0,_foreach2.default)(function(value,name){return(0,_setAttribute2.default)(node,name,value)},vnode.props);return vnode}exports.default=createNode},{"./setAttribute":352,"@f/create-element":15,"@f/foreach":36}],350:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _replaceElement=require("@f/replace-element");var _replaceElement2=_interopRequireDefault(_replaceElement);var _insertElement=require("@f/insert-element");var _insertElement2=_interopRequireDefault(_insertElement);var _removeElement=require("@f/remove-element");var _removeElement2=_interopRequireDefault(_removeElement);var _updateNode=require("./updateNode");var _updateNode2=_interopRequireDefault(_updateNode);var _createNode=require("./createNode");var _createNode2=_interopRequireDefault(_createNode);var _foreach=require("@f/foreach");var _foreach2=_interopRequireDefault(_foreach);var _virtex=require("virtex");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _actions$types=_virtex.actions.types;var CREATE_NODE=_actions$types.CREATE_NODE;var UPDATE_NODE=_actions$types.UPDATE_NODE;var REMOVE_NODE=_actions$types.REMOVE_NODE;var REPLACE_NODE=_actions$types.REPLACE_NODE;var INSERT_NODE=_actions$types.INSERT_NODE;function dom(){return function(next){return function(action){switch(action.type){case CREATE_NODE:return(0,_createNode2.default)(action.vnode,action.children,action.element);case UPDATE_NODE:return(0,_updateNode2.default)(action.prev,action.vnode);case REMOVE_NODE:(0,_removeElement2.default)(action.vnode.element);return action.vnode;case REPLACE_NODE:(0,_replaceElement2.default)(action.vnode.element,action.prev.element);return action.vnode;case INSERT_NODE:(0,_insertElement2.default)(action.vnode.element,action.newVnode.element,action.pos);return action.vnode}return next(action)}}}exports.default=dom},{"./createNode":349,"./updateNode":353,"@f/foreach":36,"@f/insert-element":51,"@f/remove-element":89,"@f/replace-element":90,virtex:359}],351:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _setValue=require("@f/set-value");var _setValue2=_interopRequireDefault(_setValue);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function removeAttribute(node,name,prevValue){if(typeof prevValue==="function"){prevValue(node,name,true);return}switch(name){case"checked":case"disabled":case"selected":node[name]=false;break;case"innerHTML":node.innerHTML="";break;case"value":(0,_setValue2.default)(node,null);break;default:node.removeAttribute(name);break}}exports.default=removeAttribute},{"@f/set-value":94}],352:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _removeAttribute=require("./removeAttribute");var _removeAttribute2=_interopRequireDefault(_removeAttribute);var _isValidAttr=require("@f/is-valid-attr");var _isValidAttr2=_interopRequireDefault(_isValidAttr);var _applyStyles=require("@f/apply-styles");var _applyStyles2=_interopRequireDefault(_applyStyles);var _setAttribute=require("@f/set-attribute");var _setAttribute2=_interopRequireDefault(_setAttribute);var _focusElement=require("@f/focus-element");var _focusElement2=_interopRequireDefault(_focusElement);var _setValue=require("@f/set-value");var _setValue2=_interopRequireDefault(_setValue);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function setAttribute(node,name,value,prevValue){if(typeof value==="function"){value(node,name);return}if(name==="style"){(0,_applyStyles2.default)(node,value,prevValue)}else if((0,_isValidAttr2.default)(value)){switch(name){case"autofocus":if(value&&value!==prevValue){setTimeout(function(){return(0,_focusElement2.default)(node)})}break;case"nodeValue":case"checked":case"disabled":case"selected":case"innerHTML":case"textContent":case"defaultValue":case"defaultChecked":node[name]=value;break;case"value":(0,_setValue2.default)(node,value);break;default:(0,_setAttribute2.default)(node,name,value);break}}else{(0,_removeAttribute2.default)(node,name,prevValue)}}exports.default=setAttribute},{"./removeAttribute":351,"@f/apply-styles":1,"@f/focus-element":33,"@f/is-valid-attr":65,"@f/set-attribute":92,"@f/set-value":94}],353:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _removeAttribute=require("./removeAttribute");var _removeAttribute2=_interopRequireDefault(_removeAttribute);var _setAttribute=require("./setAttribute");var _setAttribute2=_interopRequireDefault(_setAttribute);var _isUndefined=require("@f/is-undefined");var _isUndefined2=_interopRequireDefault(_isUndefined);var _foreach=require("@f/foreach");var _foreach2=_interopRequireDefault(_foreach);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function updateElement(prev,next){var node=next.element=prev.element;var pattrs=prev.props;var nattrs=next.props;(0,_foreach2.default)(function(val,key){if(!nattrs||(0,_isUndefined2.default)(nattrs[key])){(0,_removeAttribute2.default)(node,key,pattrs[key])}},pattrs);(0,_foreach2.default)(function(val,key){if(!pattrs)(0,_setAttribute2.default)(node,key,val);else if(val!==pattrs[key])(0,_setAttribute2.default)(node,key,val,pattrs[key])},nattrs);return next}exports.default=updateElement},{"./removeAttribute":351,"./setAttribute":352,"@f/foreach":36,"@f/is-undefined":64}],354:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _eventHandler=require("@f/event-handler");var _eventHandler2=_interopRequireDefault(_eventHandler);var _virtex=require("virtex");var _capitalize=require("@f/capitalize");var _capitalize2=_interopRequireDefault(_capitalize);var _classnames=require("classnames");var _classnames2=_interopRequireDefault(_classnames);var _isObject=require("@f/is-object");var _isObject2=_interopRequireDefault(_isObject);var _keychord=require("@f/keychord");var _keychord2=_interopRequireDefault(_keychord);var _domEvents=require("@f/dom-events");var _domEvents2=_interopRequireDefault(_domEvents);var _evStore=require("ev-store");var _evStore2=_interopRequireDefault(_evStore);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var eventRegex=new RegExp("^on(?:"+_domEvents2.default.join("|")+")$","i");function element(tag,attrs){if(typeof tag==="string"&&attrs){for(var key in attrs){attrs[key]=sugar(attrs[key],key)}}return _virtex.element.apply(null,arguments)}function sugar(value,name){switch(name){case"class":return(0,_classnames2.default)(value);default:return eventRegex.test(name)?bindEvent(name.slice(2).toLowerCase(),value):value}}function bindEvent(name,fn){return function(node,_name,removing){return removing?(0,_evStore2.default)(node)[name]=null:(0,_evStore2.default)(node)[name]=(0,_eventHandler2.default)(fn)}}exports.default=element},{"@f/capitalize":6,"@f/dom-events":21,"@f/event-handler":28,"@f/is-object":60,"@f/keychord":67,classnames:209,"ev-store":225,virtex:359}],355:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.mount=undefined;var _reduxEphemeral=require("redux-ephemeral");var _reduxEphemeral2=_interopRequireDefault(_reduxEphemeral);var _objectEqual=require("@f/object-equal");var _objectEqual2=_interopRequireDefault(_objectEqual);var _arrayEqual=require("@f/array-equal");var _arrayEqual2=_interopRequireDefault(_arrayEqual);var _getProp=require("@f/get-prop");var _getProp2=_interopRequireDefault(_getProp);var _virtex=require("virtex");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _actions$types=_virtex.actions.types;var CREATE_THUNK=_actions$types.CREATE_THUNK;var UPDATE_THUNK=_actions$types.UPDATE_THUNK;var DESTROY_THUNK=_actions$types.DESTROY_THUNK;function local(prop){var dirty=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];return function(_ref){var getState=_ref.getState;var dispatch=_ref.dispatch;var state=function state(){return(0,_getProp2.default)(prop,getState())};return function(next){return function(action){switch(action.type){case CREATE_THUNK:delete dirty[action.vnode.path];create(state,dispatch,action.vnode);break;case UPDATE_THUNK:if(!action.vnode.vnode){delete dirty[action.vnode.path];update(state,action.vnode,action.prev)}break;case DESTROY_THUNK:delete dirty[action.vnode.path];destroy(dispatch,action.vnode);break}if((0,_reduxEphemeral.isEphemeral)(action)){var prevState=getState();var result=next(action);var nextState=getState();if(prevState!==nextState){dirty[action.meta.ephemeral.key]=true}return result}return next(action)}}}}function create(getState,dispatch,thunk){var component=thunk.type;var _component$initialSta=component.initialState;var initialState=_component$initialSta===undefined?function(){return{}}:_component$initialSta;var priorState=(0,_reduxEphemeral.lookup)(getState(),thunk.path);prepare(thunk,priorState||initialState);if(component.reducer&&!priorState){dispatch((0,_reduxEphemeral.createEphemeral)(thunk.path,thunk.state))}}function update(getState,thunk,prev){prepare(thunk,(0,_reduxEphemeral.lookup)(getState(),thunk.path))}function destroy(dispatch,thunk){thunk.type.reducer&&dispatch((0,_reduxEphemeral.destroyEphemeral)(thunk.path))}function shouldUpdate(prev,next){return prev.state!==next.state||!(0,_arrayEqual2.default)(prev.children,next.children)||!(0,_objectEqual2.default)(prev.props,next.props)}function prepare(thunk,state){thunk.type.shouldUpdate=thunk.type.shouldUpdate||shouldUpdate;thunk.local=function(fn){for(var _len=arguments.length,outerArgs=Array(_len>1?_len-1:0),_key=1;_key<_len;_key++){outerArgs[_key-1]=arguments[_key]}if(typeof fn!=="function")throw new Error("virtex-local: non-function passed to `local()`. Did you pass the wrong handler?");return function(){for(var _len2=arguments.length,innerArgs=Array(_len2),_key2=0;_key2<_len2;_key2++){innerArgs[_key2]=arguments[_key2]}return(0,_reduxEphemeral.toEphemeral)(thunk.path,thunk.type.reducer,fn.apply(thunk,outerArgs.concat(innerArgs)))}};thunk.state=typeof state==="function"?state(thunk):state}exports.default=local;exports.mount=_reduxEphemeral2.default},{"@f/array-equal":2,"@f/get-prop":41,"@f/object-equal":79,"redux-ephemeral":255,virtex:359}],356:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var types={CREATE_NODE:"CREATE_NODE",UPDATE_NODE:"UPDATE_NODE",REPLACE_NODE:"REPLACE_NODE",REMOVE_NODE:"REMOVE_NODE",INSERT_NODE:"INSERT_NODE",CREATE_THUNK:"CREATE_THUNK",UPDATE_THUNK:"UPDATE_THUNK",DESTROY_THUNK:"DESTROY_THUNK"};function vnodeAction(type){return function(vnode,prev){return{type:type,vnode:vnode,prev:prev}}}var createThunk=vnodeAction(types.CREATE_THUNK);var updateThunk=vnodeAction(types.UPDATE_THUNK);var destroyThunk=vnodeAction(types.DESTROY_THUNK);var replaceNode=vnodeAction(types.REPLACE_NODE);var removeNode=vnodeAction(types.REMOVE_NODE);function createNode(vnode,children,element){return{type:types.CREATE_NODE,vnode:vnode,children:children,element:element}}function updateNode(vnode,prev,children){return{type:types.UPDATE_NODE,vnode:vnode,prev:prev,children:children}}function insertNode(vnode,newVnode,pos){return{type:types.INSERT_NODE,vnode:vnode,newVnode:newVnode,pos:pos}}exports.createNode=createNode;exports.insertNode=insertNode;exports.updateNode=updateNode;exports.replaceNode=replaceNode;exports.removeNode=removeNode;exports.createThunk=createThunk;exports.updateThunk=updateThunk;exports.destroyThunk=destroyThunk;exports.types=types},{}],357:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _mapArray=require("@f/map-array");var _mapArray2=_interopRequireDefault(_mapArray);var _util=require("./util");var _actions=require("./actions");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function create(effect){return function(vnode){var path=arguments.length<=1||arguments[1]===undefined?"a":arguments[1];var element=arguments[2];return createRecursive(vnode,path,element)};function createRecursive(vnode,path,element){vnode.path=path;if((0,_util.isThunk)(vnode)){var next=effect((0,_actions.createThunk)(vnode));if(!next){throw new Error("Component returned null/undefined. Components must return valid virtual nodes.")}return createRecursive(next,(0,_util.createPath)(next,path,0),element)}return effect((0,_actions.createNode)(vnode,(0,_mapArray2.default)(createChild(path,element),vnode.children),element))}function createChild(path,element){return element?function(child,i){return createRecursive(child,(0,_util.createPath)(child,path,i),element.childNodes[i])}:function(child,i){return createRecursive(child,(0,_util.createPath)(child,path,i))}}}exports.default=create},{"./actions":356,"./util":361,"@f/map-array":71}],358:[function(require,module,exports){"use strict";var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol?"symbol":typeof obj};Object.defineProperty(exports,"__esModule",{value:true});var _isUndefined=require("@f/is-undefined");var _isUndefined2=_interopRequireDefault(_isUndefined);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function element(type,props){if(!type)throw new Error("Virtex error: Invalid component. Did you import a component that doesn't exist?");var len=arguments.length;var children=[];for(var i=2,j=0;i<len;++i){j+=filterFlatten(arguments[i],children,j)}var key=void 0;if(props&&!(0,_isUndefined2.default)(props.key)){key=props.key;if(Object.keys(props).length===1){props=undefined}else{props.key=undefined}}return{key:key,type:type,props:props,children:children}}function filterFlatten(item,arr,arrStart){var added=0;switch(type(item)){case"array":var len=item.length;for(var i=0;i<len;++i){added+=filterFlatten(item[i],arr,arrStart+added)}return added;case"boolean":case"null":case"undefined":return 0;case"string":case"number":arr[arrStart]=element("#text",{nodeValue:item});break;default:arr[arrStart]=item;break}return 1}function type(val){if(Array.isArray(val))return"array";if(val===null)return"null";return typeof val==="undefined"?"undefined":_typeof(val)}exports.default=element},{"@f/is-undefined":64}],359:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.findDOMNode=exports.actions=exports.element=undefined;var _actions=require("./actions");var actions=_interopRequireWildcard(_actions);var _util=require("./util");var _element=require("./element");var _element2=_interopRequireDefault(_element);var _update=require("./update");var _update2=_interopRequireDefault(_update);var _create=require("./create");var _create2=_interopRequireDefault(_create);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key]}}newObj.default=obj;return newObj}}function virtex(effect){return{create:(0,_create2.default)(effect),update:(0,_update2.default)(effect)}}exports.default=virtex;exports.element=_element2.default;exports.actions=actions;exports.findDOMNode=_util.findDOMNode},{"./actions":356,"./create":357,"./element":358,"./update":360,"./util":361}],360:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _actions=require("./actions");var _util=require("./util");var _dift=require("dift");var _dift2=_interopRequireDefault(_dift);var _foreach=require("@f/foreach");var _foreach2=_interopRequireDefault(_foreach);var _create2=require("./create");var _create3=_interopRequireDefault(_create2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function update(effect){var create=(0,_create3.default)(effect);return function(prev,next){var path=arguments.length<=2||arguments[2]===undefined?"a":arguments[2];return updateRecursive(prev,next,path)};function updateRecursive(prev,next,path){next.path=path;if(!(0,_util.isSameNode)(prev,next)){unrenderThunks(prev);while((0,_util.isThunk)(prev)){prev=effect((0,_actions.updateThunk)(prev))}next=create(next,path);effect((0,_actions.replaceNode)(next,prev))}else if((0,_util.isThunk)(next)){next=effect((0,_actions.updateThunk)(next,prev));prev=effect((0,_actions.updateThunk)(prev));if(!next){throw new Error("Component returned null/undefined. Components must return valid virtual nodes.")}return updateRecursive(prev,next,(0,_util.createPath)(next,path,0))}else if(prev!==next){(function(){var children=new Array(next.children.length);(0,_dift2.default)(prev.children,next.children,function(type,pItem,nItem,pos){switch(type){case _dift.UPDATE:children[pos]=updateRecursive(pItem,nItem,(0,_util.createPath)(nItem,path,pos));return;case _dift.CREATE:children[pos]=create(nItem,(0,_util.createPath)(nItem,path,pos));return effect((0,_actions.insertNode)(prev,children[pos],pos));case _dift.MOVE:children[pos]=updateRecursive(pItem,nItem,(0,_util.createPath)(nItem,path,pos));return effect((0,_actions.insertNode)(prev,children[pos],pos));case _dift.REMOVE:return effect((0,_actions.removeNode)(unrenderThunks(pItem)))}},_util.getKey);effect((0,_actions.updateNode)(next,prev,children))})()}return next}function unrenderThunks(vnode){while((0,_util.isThunk)(vnode)){effect((0,_actions.destroyThunk)(vnode));vnode=effect((0,_actions.updateThunk)(vnode))}(0,_foreach2.default)(unrenderThunks,vnode.children);return vnode}}exports.default=update},{"./actions":356,"./create":357,"./util":361,"@f/foreach":36,dift:222}],361:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getKey=exports.findDOMNode=exports.createPath=exports.isSameNode=exports.isThunk=undefined;var _isString=require("@f/is-string");var _isString2=_interopRequireDefault(_isString);var _isUndefined=require("@f/is-undefined");var _isUndefined2=_interopRequireDefault(_isUndefined);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function isThunk(a){return!(0,_isString2.default)(a.type)}function isSameNode(a,b){return a.type===b.type&&a.key===b.key}function getKey(a){return a.key}function createPath(vnode,path,pos){var key=getKey(vnode);var part=(0,_isUndefined2.default)(key)?pos:key;return path+"."+part}function findDOMNode(vnode){var p=vnode;while(isThunk(p)){p=p.vnode}return p.element}exports.isThunk=isThunk;exports.isSameNode=isSameNode;exports.createPath=createPath;exports.findDOMNode=findDOMNode;exports.getKey=getKey},{"@f/is-string":62,"@f/is-undefined":64}],362:[function(require,module,exports){module.exports=extend;var hasOwnProperty=Object.prototype.hasOwnProperty;function extend(){var target={};for(var i=0;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target}},{}],363:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.setUserId=exports.resetTimer=exports.setTimerId=exports.initializeApp=exports.createGame=exports.submitForm=exports.SET_UID=exports.SET_ID=exports.RESET_TIMER=exports.SET_TIMER_ID=exports.SUBMIT_FORM=exports.URL_DID_CHANGE=undefined;var _extends2=require("babel-runtime/helpers/extends");var _extends3=_interopRequireDefault(_extends2);var _hashids=require("hashids");var _hashids2=_interopRequireDefault(_hashids);var _reduxEffectsLocation=require("redux-effects-location");var _createAction=require("@f/create-action");var _createAction2=_interopRequireDefault(_createAction);var _vduxFire=require("vdux-fire");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var hashids=new _hashids2.default("the saltiest ocean",4,"abcdefghijklmnopqrstuvwxyz");var URL_DID_CHANGE="URL_DID_CHANGE";var SUBMIT_FORM="SUBMIT_FORM";var SET_TIMER_ID="SET_TIMER_ID";var RESET_TIMER="RESET_TIMER";var SET_ID="SET_ID";var SET_UID="SET_UID";var setTimerId=(0,_createAction2.default)(SET_TIMER_ID);var resetTimer=(0,_createAction2.default)(RESET_TIMER);var setUserId=(0,_createAction2.default)(SET_UID);var palette=["#77AAD8","#FED479","#F48E8D","#A9AAA9","#F9A36A","#D5ADD1","#77AAD8","#7BCED2","#A7D4A9"];function initializeApp(){return(0,_reduxEffectsLocation.bindUrl)(urlChange)}function submitForm(rules){return[(0,_vduxFire.firebaseSet)({ref:"gameTypes/"+rules.name,value:(0,_extends3.default)({},rules,{color:palette[Math.floor(Math.random()*palette.length)]})}),(0,_reduxEffectsLocation.setUrl)("/")]}function createGame(rules,uid){var id=hashids.encode(Math.floor(Math.random()*1e3)+1);return[(0,_reduxEffectsLocation.setUrl)("/game/"+id),{type:"SET_ID",payload:id},(0,_vduxFire.firebaseSet)({ref:"games/"+id,value:(0,_extends3.default)({id:id,creatorId:uid},rules)})]}function urlChange(url){return{type:URL_DID_CHANGE,payload:url}}exports.URL_DID_CHANGE=URL_DID_CHANGE;exports.SUBMIT_FORM=SUBMIT_FORM;exports.SET_TIMER_ID=SET_TIMER_ID;exports.RESET_TIMER=RESET_TIMER;exports.SET_ID=SET_ID;exports.SET_UID=SET_UID;exports.submitForm=submitForm;exports.createGame=createGame;exports.initializeApp=initializeApp;exports.setTimerId=setTimerId;exports.resetTimer=resetTimer;exports.setUserId=setUserId},{"@f/create-action":14,"babel-runtime/helpers/extends":130,hashids:230,"redux-effects-location":252,"vdux-fire":299}],364:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _router=require("./router");var _router2=_interopRequireDefault(_router);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function render(props){var url=props.url;return(0,_router2.default)(url||"/",props)}exports.default=render},{"./router":394}],365:[function(require,module,exports){"use strict";var _domready=require("@f/domready");var _domready2=_interopRequireDefault(_domready);var _dom=require("vdux/dom");var _dom2=_interopRequireDefault(_dom);var _reducer=require("./reducer");var _reducer2=_interopRequireDefault(_reducer);var _reduxEffectsLocation=require("redux-effects-location");var _reduxEffectsLocation2=_interopRequireDefault(_reduxEffectsLocation);var _theme=require("./theme");var _theme2=_interopRequireDefault(_theme);var _reduxEffectsTimeout=require("redux-effects-timeout");var _reduxEffectsTimeout2=_interopRequireDefault(_reduxEffectsTimeout);var _reduxEffects=require("redux-effects");var _reduxEffects2=_interopRequireDefault(_reduxEffects);var _reduxFlo=require("redux-flo");var _reduxFlo2=_interopRequireDefault(_reduxFlo);var _timer=require("./middleware/timer");var _timer2=_interopRequireDefault(_timer);var _auth=require("./middleware/auth");var _auth2=_interopRequireDefault(_auth);var _deviceGame=require("./middleware/deviceGame");var _deviceGame2=_interopRequireDefault(_deviceGame);var _vduxFire=require("vdux-fire");var fire=_interopRequireWildcard(_vduxFire);var _audio=require("./middleware/audio");var _audio2=_interopRequireDefault(_audio);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key]}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var app=require("./app").default;var initialState={url:"/",running:false,elapsedTime:0,uid:""};var config={apiKey:"AIzaSyA1Ib5i5HZPCxnKp4ITiUoy5VEKaLMdsDY",authDomain:"play-ev3.firebaseapp.com",databaseURL:"https://play-ev3.firebaseio.com",storageBucket:"play-ev3.appspot.com"};var _vdux=(0,_dom2.default)({reducer:_reducer2.default,initialState:initialState,middleware:[(0,_reduxFlo2.default)(),_reduxEffects2.default,(0,_reduxEffectsTimeout2.default)(),fire.middleware(config),_auth2.default,_deviceGame2.default,(0,_reduxEffectsLocation2.default)(),(0,_timer2.default)(),_audio2.default]
});var subscribe=_vdux.subscribe;var render=_vdux.render;var replaceReducer=_vdux.replaceReducer;(0,_domready2.default)(function(){subscribe(function(state){render(app(state),{uiTheme:_theme2.default})})});if(module.hot){module.hot.accept(["./app","./reducer"],function(){replaceReducer(require("./reducer").default);app=require("./app").default})}},{"./app":364,"./middleware/audio":385,"./middleware/auth":386,"./middleware/deviceGame":387,"./middleware/timer":388,"./reducer":393,"./theme":395,"@f/domready":22,"redux-effects":254,"redux-effects-location":252,"redux-effects-timeout":253,"redux-flo":257,"vdux-fire":299,"vdux/dom":344}],366:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _element=require("vdux/element");var _element2=_interopRequireDefault(_element);var _vduxUi=require("vdux-ui");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function render(_ref){var props=_ref.props;var children=_ref.children;var header=props.header;var footer=props.footer;return(0,_element2.default)(_vduxUi.Modal,{overlayProps:{fixed:true,left:"0",top:"0"}},(0,_element2.default)(_vduxUi.ModalHeader,{pt:"32px",fs:"l"},header),(0,_element2.default)(_vduxUi.ModalBody,null,children),(0,_element2.default)(_vduxUi.ModalFooter,null,footer))}exports.default={render:render}},{"vdux-ui":341,"vdux/element":345}],367:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _element=require("vdux/element");var _element2=_interopRequireDefault(_element);var _vduxUi=require("vdux-ui");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function render(_ref){var props=_ref.props;var state=_ref.state;var local=_ref.local;var children=_ref.children;var active=children.findIndex(function(child,i){return child.props.active});var width=100/children.length;var left=width*active;return(0,_element2.default)(_vduxUi.Block,props,(0,_element2.default)(_vduxUi.Block,{tall:true,pointer:true,absolute:true,w:"400px"},(0,_element2.default)(_vduxUi.Flex,{tall:true},children.map(function(child){child.props.w=width+"%";return child}),(0,_element2.default)(_vduxUi.Block,{absolute:true,w:width+"%",bottom:"0",left:left+"%",borderBottom:"2px solid "+props.color,transition:"left .3s ease-in-out"}))))}exports.default={render:render}},{"vdux-ui":341,"vdux/element":345}],368:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _element=require("vdux/element");var _element2=_interopRequireDefault(_element);var _vduxContainers=require("vdux-containers");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function render(_ref){var props=_ref.props;var children=_ref.children;var state=_ref.state;var name=props.name;var description=props.description;var onClick=props.onClick;var h=props.h;var w=props.w;var _props$titleSize=props.titleSize;var titleSize=_props$titleSize===undefined?"45%":_props$titleSize;var _props$childrenSize=props.childrenSize;var childrenSize=_props$childrenSize===undefined?"55%":_props$childrenSize;var _props$p=props.p;var p=_props$p===undefined?"0 20px":_props$p;var button=props.button;var show=props.show;var bgColor=props.bgColor;return(0,_element2.default)(_vduxContainers.Card,{hoverProps:{highlight:true},bgColor:bgColor,cursor:"pointer",onClick:onClick,m:"15px",w:w,h:h,relative:true,minWidth:"300px",maxWidth:"500px",transition:"background .3s ease-in-out"},(0,_element2.default)(_vduxContainers.Block,{textAlign:"center",color:"white",h:titleSize,p:p,align:"center center",column:true},(0,_element2.default)(_vduxContainers.Block,{mb:"8px"},(0,_element2.default)(_vduxContainers.Text,{fs:"30px",weight:"200"},name)),(0,_element2.default)(_vduxContainers.Block,null,(0,_element2.default)(_vduxContainers.Text,{fs:"18px",lh:"22px",weight:"600"},description))),(0,_element2.default)(_vduxContainers.Block,{absolute:true,top:"10px",right:"10px",opacity:show?1:0,transition:"opacity 0.3s ease-in-out"},button&&button),children.length>0&&(0,_element2.default)(_vduxContainers.Block,{bgColor:"white",column:true,h:childrenSize,wide:true,overflowY:"auto"},children))}exports.default=(0,_vduxContainers.wrap)(_vduxContainers.CSSContainer,{lingerProps:{show:true}})({render:render})},{"vdux-containers":293,"vdux/element":345}],369:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _element=require("vdux/element");var _element2=_interopRequireDefault(_element);var _vduxUi=require("vdux-ui");var _vduxContainers=require("vdux-containers");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function render(_ref){var props=_ref.props;var increments=props.increments;var onClick=props.onClick;var mine=props.mine;return(0,_element2.default)(_vduxUi.Block,{h:"10%",borderBottom:"1px solid #e5e5e5"},(0,_element2.default)(_vduxUi.Flex,{tall:true,flex:"1",align:"center center"},mine&&increments.map(function(inc,i){return(0,_element2.default)(_vduxUi.Box,{tall:true,wide:true},(0,_element2.default)(_vduxContainers.Button,{wide:true,tall:true,fs:"18px",bgColor:"white",color:"#666",weight:"600",borderRight:i<increments.length-1?"1px solid #e5e5e5":"0",outline:"none",focusProps:{},transition:"background .3s ease-in-out",textTransform:"uppercase",disabled:!mine,onClick:onClick({description:inc.name,points:inc.points})},inc.name))})))}exports.default={render:render}},{"vdux-containers":293,"vdux-ui":341,"vdux/element":345}],370:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _timer=require("./timer");var _timer2=_interopRequireDefault(_timer);var _element=require("vdux/element");var _element2=_interopRequireDefault(_element);var _actions=require("../actions");var _reduxEffectsTimeout=require("redux-effects-timeout");var _vduxUi=require("vdux-ui");var _vduxFire=require("vdux-fire");var _vduxContainers=require("vdux-containers");var _reduxEffects=require("redux-effects");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function render(_ref){var props=_ref.props;var timer=props.timer;var running=props.running;var timerId=props.timerId;var _props$elapsedTime=props.elapsedTime;var elapsedTime=_props$elapsedTime===undefined?0:_props$elapsedTime;var gameId=props.gameId;var mine=props.mine;var done=timer&&timer-elapsedTime===0;return(0,_element2.default)(_vduxUi.Card,{h:"20vh",column:true,align:"flex-start center",transition:"background .3s ease-in-out",relative:true,bgColor:"white",mr:"15px",w:"400px"},(0,_element2.default)(_timer2.default,{wide:true,h:done?"100%":"60%",color:"#333",targetTime:timer,timeLeft:(timer||0)-elapsedTime,transition:"height .3s ease-in-out"}),mine&&!done&&(0,_element2.default)(_vduxUi.Flex,{absolute:true,bottom:"0",h:"40%",wide:true},(0,_element2.default)(_vduxContainers.Button,{tall:true,wide:true,onClick:handleClick,outline:"none",bgColor:"white",fs:"20px",color:"#333",disabled:timer&&elapsedTime===timer,transition:"background .3s ease-in-out",borderRight:"2px solid rgba(236, 236, 236, 0.4)",borderTop:"2px solid rgba(236, 236, 236, 0.4)"},running?"Stop":"Start")));function handleClick(){if(!running){return[(0,_vduxFire.firebaseSet)({ref:"games/"+gameId+"/running",value:true}),(0,_reduxEffects.bind)((0,_reduxEffectsTimeout.interval)(function(){return(0,_vduxFire.firebaseSet)({ref:"games/"+gameId+"/elapsedTime",value:function value(currTime){return currTime+1},method:"transaction"})},1e3),function(id){return(0,_actions.setTimerId)(id)})]}else{return[(0,_vduxFire.firebaseSet)({ref:"games/"+gameId+"/running",value:false}),(0,_reduxEffectsTimeout.cancelInterval)(timerId)]}}}exports.default={render:render}},{"../actions":363,"./timer":378,"redux-effects":254,"redux-effects-timeout":253,"vdux-containers":293,"vdux-fire":299,"vdux-ui":341,"vdux/element":345}],371:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _element=require("vdux/element");var _element2=_interopRequireDefault(_element);var _vduxContainers=require("vdux-containers");var _card=require("./card");var _card2=_interopRequireDefault(_card);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function render(_ref){var props=_ref.props;var bgColor=props.bgColor;var name=props.name;var description=props.description;var increments=props.increments;var onClick=props.onClick;return(0,_element2.default)(_card2.default,{w:"30vw",h:"500px",bgColor:bgColor,name:name,description:description,onClick:onClick},increments.map(function(inc,i){return(0,_element2.default)(_vduxContainers.Flex,{wide:true,h:"26.66%",weight:"300",align:"space-between",py:"10px",bgColor:i%2===0?"#f5f5f5":"#fff"},(0,_element2.default)(_vduxContainers.Box,{align:"center center",w:"30%"},inc.name),(0,_element2.default)(_vduxContainers.Box,{align:"start center",w:"40%",mx:"10px"},inc.description),(0,_element2.default)(_vduxContainers.Box,{align:"center center",w:"30%"},inc.points))}))}exports.default={render:render}},{"./card":368,"vdux-containers":293,"vdux/element":345}],372:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends2=require("babel-runtime/helpers/extends");var _extends3=_interopRequireDefault(_extends2);var _element=require("vdux/element");var _element2=_interopRequireDefault(_element);var _vduxUi=require("vdux-ui");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function render(_ref){var props=_ref.props;var _props$bgColor=props.bgColor;var bgColor=_props$bgColor===undefined?"green":_props$bgColor;return(0,_element2.default)(_vduxUi.Block,(0,_extends3.default)({wide:true,h:"2px",absolute:true,top:"0",left:"0",transition:"all .5s ease-in-out",bgColor:"lightgray",overflow:"hidden"},props),(0,_element2.default)(_vduxUi.Block,{w:"100%",tall:true,"class":"progress-bar",bgColor:bgColor}))}exports.default={render:render}},{"babel-runtime/helpers/extends":130,"vdux-ui":341,"vdux/element":345}],373:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _keys=require("babel-runtime/core-js/object/keys");var _keys2=_interopRequireDefault(_keys);var _element=require("vdux/element");var _element2=_interopRequireDefault(_element);var _vduxFire=require("vdux-fire");var _vduxFire2=_interopRequireDefault(_vduxFire);var _reduce=require("@f/reduce");var _reduce2=_interopRequireDefault(_reduce);var _vduxUi=require("vdux-ui");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function render(_ref){var props=_ref.props;var value=[];var messages=props.messages;var maxHeight=props.maxHeight;var loading=messages.loading;if(!loading){value=messages.value||{};var isMessages=(0,_keys2.default)(value).length>0}return(0,_element2.default)(_vduxUi.Block,{p:isMessages&&"10px",maxHeight:maxHeight,overflowX:"hidden",overflowY:"auto"},isMessages&&(0,_reduce2.default)(function(arr,_ref2){var description=_ref2.description;var points=_ref2.points;arr.push((0,_element2.default)(_vduxUi.Flex,{fs:"18px",weight:"300",p:"2px 15px"},(0,_element2.default)(_vduxUi.Box,{wide:true},(0,_element2.default)(_vduxUi.Text,null,description)),(0,_element2.default)(_vduxUi.Box,null,(0,_element2.default)(_vduxUi.Text,null,points))));return arr},[],value).reverse())}exports.default=(0,_vduxFire2.default)(function(props){return{messages:"games/"+props.gameId+"/teams/"+props.team+"/messages"}})({render:render})},{"@f/reduce":88,"babel-runtime/core-js/object/keys":128,"vdux-fire":299,"vdux-ui":341,"vdux/element":345}],374:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _element=require("vdux/element");var _element2=_interopRequireDefault(_element);var _vduxUi=require("vdux-ui");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function render(_ref){var props=_ref.props;var id=props.id;return(0,_element2.default)(_vduxUi.Card,{tall:true,wide:true},(0,_element2.default)(_vduxUi.Flex,{p:"40px",tall:true,wide:true,column:true,align:"start center"},(0,_element2.default)(_vduxUi.Text,{block:true,fs:"40px"}," Waiting For Teams To Join "),(0,_element2.default)(_vduxUi.Flex,{block:true,fs:"25px",column:true,align:"center center"},(0,_element2.default)(_vduxUi.Text,null,"Game ID:"),(0,_element2.default)(_vduxUi.Text,{mt:"40px",fs:"125px",color:"red"},id))))}exports.default={render:render}},{"vdux-ui":341,"vdux/element":345}],375:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _element=require("vdux/element");var _element2=_interopRequireDefault(_element);var _vduxUi=require("vdux-ui");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function render(_ref){var props=_ref.props;var _props$points=props.points;var points=_props$points===undefined?0:_props$points;var _props$color=props.color;var color=_props$color===undefined?"green":_props$color;var commands=props.commands;return(0,_element2.default)(_vduxUi.Flex,{column:true,h:"40%",color:"white",align:"center center",bgColor:color},(0,_element2.default)(_vduxUi.Box,null,(0,_element2.default)(_vduxUi.Text,{fs:"6em",weight:"600"},points)),(0,_element2.default)(_vduxUi.Box,null,(0,_element2.default)(_vduxUi.Text,{fs:"1.5em"},isNaN(commands)?0:commands)))}exports.default={render:render}},{"vdux-ui":341,"vdux/element":345}],376:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _element=require("vdux/element");var _element2=_interopRequireDefault(_element);var _pointsBox=require("./pointsBox");var _pointsBox2=_interopRequireDefault(_pointsBox);var _cardButtons=require("./cardButtons");var _cardButtons2=_interopRequireDefault(_cardButtons);var _log=require("./log");var _log2=_interopRequireDefault(_log);var _vduxFire=require("vdux-fire");var _vduxUi=require("vdux-ui");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function render(_ref){var props=_ref.props;var local=_ref.local;var state=_ref.state;var rule=props.rule;var _props$commands=props.commands;var commands=_props$commands===undefined?0:_props$commands;var increments=props.increments;var name=props.name;var color=props.color;var _props$points=props.points;var points=_props$points===undefined?0:_props$points;var gameId=props.gameId;var mine=props.mine;return(0,_element2.default)(_vduxUi.Card,{minHeight:"450px",h:"100%",w:"400px",m:"0 10px"},(0,_element2.default)(_vduxUi.Text,{absolute:true,m:"12px",fs:"25px",color:"white"},name),(0,_element2.default)(_pointsBox2.default,{color:color,rule:rule,points:Number(points),commands:Number(commands)}),mine&&(0,_element2.default)(_cardButtons2.default,{mine:mine,onClick:function onClick(p){return addMessage(p)},increments:increments}),(0,_element2.default)(_log2.default,{maxHeight:mine?"50%":"60%",gameId:gameId,team:name}));function addMessage(p){return[function(){return(0,_vduxFire.firebaseSet)({value:Number(points)+p.points,ref:"games/"+gameId+"/teams/"+name+"/points"})},function(){return(0,_vduxFire.firebaseSet)({method:"push",value:{description:p.description,points:p.points},ref:"games/"+gameId+"/teams/"+name+"/messages"})}]}}exports.default={render:render}},{"./cardButtons":369,"./log":373,"./pointsBox":375,"vdux-fire":299,"vdux-ui":341,"vdux/element":345}],377:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _element=require("vdux/element");var _element2=_interopRequireDefault(_element);var _vduxContainers=require("vdux-containers");var _vduxUi=require("vdux-ui");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function render(_ref){var props=_ref.props;var children=_ref.children;var title=props.title;var erase=props.erase;var onErase=props.onErase;return(0,_element2.default)(_vduxUi.Block,null,(0,_element2.default)(_vduxUi.Block,{p:"0 5px"},(0,_element2.default)(_vduxUi.Flex,{align:"space-between center"},(0,_element2.default)(_vduxUi.Text,{mb:"10px",fs:"24px",weight:"300",display:"block"},title),erase&&(0,_element2.default)(_vduxContainers.Button,{transition:"color .3s ease-in-out",hoverProps:{highlight:false,color:"#444"},onClick:onErase,outline:"none",bgColor:"white",p:"0",color:"rgb(17, 17, 17)"},(0,_element2.default)(_vduxUi.Icon,{name:"delete"}))),children),(0,_element2.default)(_vduxUi.Divider,{border:"0px solid transparent",h:"1px",color:"#e5e5e5",m:"1em 5px"}))}exports.default={render:render}},{"vdux-containers":293,"vdux-ui":341,"vdux/element":345}],378:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _element=require("vdux/element");var _element2=_interopRequireDefault(_element);var _vduxUi=require("vdux-ui");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function render(_ref){var props=_ref.props;var w=props.w;var h=props.h;var color=props.color;var timeLeft=props.timeLeft;var targetTime=props.targetTime;var timeUnits=getUnits(Math.abs(timeLeft));return(0,_element2.default)(_vduxUi.Block,{w:w,h:h,color:color},(0,_element2.default)(_vduxUi.Flex,{tall:true,align:"center center"},timeUnits.minutes>0&&(0,_element2.default)(_vduxUi.Flex,{mr:"10px",align:"center baseline"},(0,_element2.default)(_vduxUi.Text,{fs:"48px",weight:"300"},timeUnits.minutes),(0,_element2.default)(_vduxUi.Text,{fs:"16px",weight:"600"},"min")),(timeUnits.seconds>0||!targetTime)&&(0,_element2.default)(_vduxUi.Flex,{align:"center baseline"},(0,_element2.default)(_vduxUi.Text,{fs:"48px",weight:"300"},timeUnits.seconds),(0,_element2.default)(_vduxUi.Text,{fs:"16px",weight:"600"},"sec")),targetTime>0&&timeUnits.minutes===0&&timeUnits.seconds===0&&(0,_element2.default)(_vduxUi.Text,{fs:"48px",weight:"300"},"Game Over")))}function getUnits(time){return{minutes:Math.floor(time/60),seconds:time%60}}exports.default={render:render}},{"vdux-ui":341,"vdux/element":345}],379:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends2=require("babel-runtime/helpers/extends");var _extends3=_interopRequireDefault(_extends2);var _element=require("vdux/element");var _element2=_interopRequireDefault(_element);var _vduxUi=require("vdux-ui");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function render(_ref){var props=_ref.props;var children=_ref.children;var w=props.w;var name=props.name;var label=props.label;var labelClass=props.labelClass;var _props$bgColor=props.bgColor;var bgColor=_props$bgColor===undefined?"primary":_props$bgColor;var _props$labelProps=props.labelProps;var labelProps=_props$labelProps===undefined?{}:_props$labelProps;var active=props.active;return(0,_element2.default)(_vduxUi.Block,{w:w,minWidth:"100px",relative:true,cursor:"pointer",onFocus:[props.onFocus,stopEvent],onBlur:[props.onBlur,stopEvent],onClick:[props.onClick,stopEvent]},(0,_element2.default)(_vduxUi.Input,{absolute:true,wide:true,tall:true,opacity:"0",pointerEvents:"none",name:name,value:active,type:"checkbox"}),(0,_element2.default)(_vduxUi.Flex,{cursor:"pointer",align:"start"},(0,_element2.default)(_vduxUi.Block,(0,_extends3.default)({tag:"label",align:"start center",w:"calc(100% - 38px)",relative:true,overflow:"visible",cursor:"pointer"},labelProps,{"class":["vui-toggle-label",labelClass]}),label),(0,_element2.default)(_vduxUi.Block,{relative:true,p:"4px 0px 4px 2px",w:"36px"},(0,_element2.default)(_vduxUi.Block,{wide:true,pill:"30px",h:"14px",opacity:"0.5",transition:"background .3s ease-in-out",pointerEvents:"none",bgColor:active?bgColor:"darkgrey"}),(0,_element2.default)(_vduxUi.Block,{absolute:true,circle:true,top:"1px",lh:"24px",sq:"20px",highlight:active,ml:active?"18px":"0px",bgColor:active?bgColor:"lightgray",transition:"all .3s ease-in-out",pointerEvents:"none",boxShadow:"rgba(0, 0, 0, 0.117647) 0px 1px 6px, rgba(0, 0, 0, 0.117647) 0px 1px 4px"}))))}function stopEvent(e){e.stopPropagation();e._rawEvent.stopPropagation()}exports.default={render:render}},{"babel-runtime/helpers/extends":130,"vdux-ui":341,"vdux/element":345}],380:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _defineProperty2=require("babel-runtime/helpers/defineProperty");var _defineProperty3=_interopRequireDefault(_defineProperty2);var _extends2=require("babel-runtime/helpers/extends");var _extends3=_interopRequireDefault(_extends2);var _element=require("vdux/element");var _element2=_interopRequireDefault(_element);var _toggle=require("./toggle");var _toggle2=_interopRequireDefault(_toggle);var _handleActions2=require("@f/handle-actions");var _handleActions3=_interopRequireDefault(_handleActions2);var _createAction=require("@f/create-action");var _createAction2=_interopRequireDefault(_createAction);var _omit=require("@f/omit");var _omit2=_interopRequireDefault(_omit);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function initialState(){return{active:false}}function render(_ref){var props=_ref.props;var children=_ref.children;var state=_ref.state;var local=_ref.local;var _props$ui=props.ui;var Ui=_props$ui===undefined?_toggle2.default:_props$ui;var onClick=props.onClick;var active=state.active;return(0,_element2.default)(Ui,(0,_extends3.default)({zIndex:"999",cursor:"pointer",onClick:[onClick,local(setActive)],active:active},(0,_omit2.default)("onClick",props)))}var setActive=(0,_createAction2.default)("<Toggle/>: setActive");var reducer=(0,_handleActions3.default)((0,_defineProperty3.default)({},setActive,function(state,active){return(0,_extends3.default)({},state,{active:!state.active})}));exports.default={initialState:initialState,render:render,reducer:reducer}},{"./toggle":379,"@f/create-action":14,"@f/handle-actions":43,"@f/omit":81,"babel-runtime/helpers/defineProperty":129,"babel-runtime/helpers/extends":130,"vdux/element":345}],381:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _regenerator=require("babel-runtime/regenerator");var _regenerator2=_interopRequireDefault(_regenerator);exports.default=function(_ref,dispatch){var device=_ref.device;var game=_ref.game;var team=_ref.team;var points=_ref.points;var _marked=[handlePush,updatePoints].map(_regenerator2.default.mark);var _lightGame=(0,_lightGame3.default)(device);var runner=_lightGame.runner;var getActive=_lightGame.getActive;dispatch([(0,_audio.createSound)({name:"collect",opts:{urls:["/sounds/collect.wav"]}}),(0,_audio.createSound)({name:"win",opts:{urls:["/sounds/win.wav"]}})]);var subscription=_lightGame2.source.subscribe(function(port){port=Number(port);runner(handlePush(port))});function handlePush(port){var time;return _regenerator2.default.wrap(function handlePush$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return updatePoints(points[port]);case 2:_context.next=4;return(0,_lightGame2.deactivateLight)(getActive(),port);case 4:dispatch((0,_audio.playSound)("collect"));if(!(getActive().length===0)){_context.next=17;break}_context.next=8;return(0,_lightGame2.set)({ref:game+"/running",value:false});case 8:_context.next=10;return _firebase2.default.database().ref(game+"/elapsedTime").once("value");case 10:time=_context.sent;_context.next=13;return updatePoints({points:1e3-time.val(),description:"Finished the game"});case 13:_context.next=15;return(0,_lightGame2.set)({ref:device+"/presses",value:""});case 15:dispatch((0,_audio.playSound)("win"));subscription.dispose();case 17:case"end":return _context.stop()}}},_marked[0],this)}function updatePoints(points){return _regenerator2.default.wrap(function updatePoints$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return(0,_lightGame2.set)({method:"transaction",ref:game+"/teams/"+team+"/points",value:function value(curPoints){return curPoints+points.points}});case 2:_context2.next=4;return(0,_lightGame2.set)({method:"push",ref:game+"/teams/"+team+"/messages",value:{points:points.points,description:points.description}});case 4:case"end":return _context2.stop()}}},_marked[1],this)}};var _lightGame2=require("light-game");var _lightGame3=_interopRequireDefault(_lightGame2);var _audio=require("../middleware/audio");var _firebase=require("firebase");var _firebase2=_interopRequireDefault(_firebase);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}},{"../middleware/audio":385,"babel-runtime/regenerator":204,firebase:226,"light-game":241}],382:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.towerDefense=exports.blackout=undefined;var _blackout=require("./blackout");var _blackout2=_interopRequireDefault(_blackout);var _towerDefense=require("./towerDefense");var _towerDefense2=_interopRequireDefault(_towerDefense);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}exports.blackout=_blackout2.default;exports.towerDefense=_towerDefense2.default},{"./blackout":381,"./towerDefense":383}],383:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _regenerator=require("babel-runtime/regenerator");var _regenerator2=_interopRequireDefault(_regenerator);exports.default=function(_ref,dispatch){var device=_ref.device;var game=_ref.game;var team=_ref.team;var points=_ref.points;var _marked=[handlePush,updatePoints].map(_regenerator2.default.mark);var _lightGame=(0,_lightGame3.default)(device);var runner=_lightGame.runner;var getActive=_lightGame.getActive;dispatch([(0,_audio.createSound)({name:"crumble",opts:{urls:["/sounds/crumbling.mp3"]}}),(0,_audio.createSound)({name:"explode",opts:{urls:["/sounds/explode.mp3"],onplay:function onplay(){setTimeout(function(){dispatch((0,_audio.playSound)({name:"crumble"}))},1e3)}}}),(0,_audio.createSound)({name:"win",opts:{urls:["/sounds/win.wav"]}})]);var subscription=_lightGame2.source.subscribe(function(port){runner(handlePush(Number(port)))},function(err){console.warn(err)});function handlePush(port){var time;return _regenerator2.default.wrap(function handlePush$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return updatePoints(points[port]);case 2:_context.next=4;return(0,_lightGame2.deactivateLight)(getActive(),port);case 4:dispatch((0,_audio.playSound)("explode"));if(!(getActive().length===0)){_context.next=17;break}_context.next=8;return(0,_lightGame2.set)({ref:game+"/running",value:false});case 8:_context.next=10;return _firebase2.default.database().ref(game+"/elapsedTime").once("value");case 10:time=_context.sent;_context.next=13;return updatePoints({points:time.val(),description:"Finished the game"});case 13:_context.next=15;return(0,_lightGame2.set)({ref:device+"/presses",value:""});case 15:dispatch((0,_audio.playSound)({name:"win"}));subscription.dispose();case 17:case"end":return _context.stop()}}},_marked[0],this)}function updatePoints(points){return _regenerator2.default.wrap(function updatePoints$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return(0,_lightGame2.set)({method:"transaction",ref:game+"/teams/"+team+"/points",value:function value(curPoints){return curPoints+points.points}});case 2:_context2.next=4;return(0,_lightGame2.set)({method:"push",ref:game+"/teams/"+team+"/messages",value:{points:points.points,description:points.description}});case 4:case"end":return _context2.stop()}}},_marked[1],this)}};var _lightGame2=require("light-game");var _lightGame3=_interopRequireDefault(_lightGame2);var _audio=require("../middleware/audio");var _firebase=require("firebase");var _firebase2=_interopRequireDefault(_firebase);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}},{"../middleware/audio":385,"babel-runtime/regenerator":204,firebase:226,"light-game":241}],384:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _element=require("vdux/element");var _element2=_interopRequireDefault(_element);var _vduxUi=require("vdux-ui");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function render(_ref){var props=_ref.props;var children=_ref.children;var header=props.header;return(0,_element2.default)(_vduxUi.Flex,{column:true,align:"center center",relative:true,wide:true,tall:true},header?header:null,(0,_element2.default)(_vduxUi.Block,{m:"20px",auto:true},children))}exports.default={render:render}},{"vdux-ui":341,"vdux/element":345}],385:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.playSound=exports.createSound=undefined;var _howler=require("howler");var _createAction=require("@f/create-action");var _createAction2=_interopRequireDefault(_createAction);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var createSound=(0,_createAction2.default)("CREATE_SOUND");var playSound=(0,_createAction2.default)("PLAY_SOUND");var sounds={};exports.default=function(_ref){var getState=_ref.getState;var dispatch=_ref.dispatch;return function(next){return function(action){switch(action.type){case createSound.type:sounds[action.payload.name]=new _howler.Howl(action.payload.opts);break;case playSound.type:var _action$payload=action.payload;var name=_action$payload.name;var _action$payload$sprit=_action$payload.sprite;var sprite=_action$payload$sprit===undefined?"":_action$payload$sprit;return sounds[name||action.payload].play(sprite)}return next(action)}}};exports.createSound=createSound;exports.playSound=playSound},{"@f/create-action":14,howler:231}],386:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _firebase=require("firebase");var _firebase2=_interopRequireDefault(_firebase);var _actions=require("../actions");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}exports.default=function(_ref){var getState=_ref.getState;var dispatch=_ref.dispatch;_firebase2.default.auth().onAuthStateChanged(function(user){if(!user){return _firebase2.default.auth().signInAnonymously()}return dispatch((0,_actions.setUserId)(user.uid))});return function(next){return function(action){return next(action)}}}},{"../actions":363,firebase:226}],387:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _firebase=require("firebase");var _firebase2=_interopRequireDefault(_firebase);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}exports.default=function(_ref){var dispatch=_ref.dispatch;var getState=_ref.getState;return function(next){return function(action){if(action.type==="SET_ID"){(function(){var gameRef=_firebase2.default.database().ref("/games/"+action.payload);gameRef.once("value",function(snap){var _snap$val=snap.val();var deviceGame=_snap$val.deviceGame;if(deviceGame){var teamsRef=_firebase2.default.database().ref("/games/"+action.payload+"/teams");teamsRef.once("child_added",function(team){gameRef.once("value",function(gameSnap){var _gameSnap$val=gameSnap.val();var deviceName=_gameSnap$val.deviceName;var increments=_gameSnap$val.increments;var runGame=require("../games/index")[deviceGame];var gamePoints=increments.reduce(function(obj,inc){obj[inc.name]={points:inc.points,description:inc.description};return obj},{});runGame({device:"devices/"+deviceName,game:"games/"+action.payload,team:team.key,points:gamePoints},dispatch)})})}})})()}return next(action)}}}},{"../games/index":382,firebase:226}],388:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{
value:true});var _actions=require("../actions");var _reduxEffectsTimeout=require("redux-effects-timeout");var _vduxFire=require("vdux-fire");var _firebase=require("firebase");var _firebase2=_interopRequireDefault(_firebase);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}exports.default=function(){return function(_ref){var dispatch=_ref.dispatch;var getState=_ref.getState;var timer=void 0;var running=void 0;var gameId=void 0;return function(next){return function(action){if(action.type===_actions.SET_TIMER_ID){gameId=getState().url.split("/")[2];_firebase2.default.database().ref("games/"+gameId+"/timer").once("value",function(snap){if(snap.exists()){var _snap$val=snap.val();var minutes=_snap$val.minutes;var seconds=_snap$val.seconds;timer=minutes*60+seconds}});_firebase2.default.database().ref("games/"+gameId+"/running").on("value",function(snap){running=snap.val();if(!running){stopGame(getState().timerId)}});_firebase2.default.database().ref("games/"+gameId+"/elapsedTime").on("value",function(snap){var elapsedTime=snap.val();if(elapsedTime){var _getState=getState();var timerId=_getState.timerId;if(elapsedTime===timer){stopGame(timerId)}}})}if(action.type===_actions.URL_DID_CHANGE){var _getState2=getState();var timerId=_getState2.timerId;if(running){stopGame(timerId)}}function stopGame(id){dispatch([(0,_reduxEffectsTimeout.cancelInterval)(id),(0,_vduxFire.firebaseSet)({ref:"games/"+gameId+"/running",value:false})])}return next(action)}}}}},{"../actions":363,firebase:226,"redux-effects-timeout":253,"vdux-fire":299}],389:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _defineProperty2=require("babel-runtime/helpers/defineProperty");var _defineProperty3=_interopRequireDefault(_defineProperty2);var _toConsumableArray2=require("babel-runtime/helpers/toConsumableArray");var _toConsumableArray3=_interopRequireDefault(_toConsumableArray2);var _extends2=require("babel-runtime/helpers/extends");var _extends3=_interopRequireDefault(_extends2);var _keys=require("babel-runtime/core-js/object/keys");var _keys2=_interopRequireDefault(_keys);var _handleActions;var _element=require("vdux/element");var _element2=_interopRequireDefault(_element);var _handleActions2=require("@f/handle-actions");var _handleActions3=_interopRequireDefault(_handleActions2);var _createAction=require("@f/create-action");var _createAction2=_interopRequireDefault(_createAction);var _splice=require("@f/splice");var _splice2=_interopRequireDefault(_splice);var _gameValidator=require("../utils/gameValidator");var _gameValidator2=_interopRequireDefault(_gameValidator);var _index=require("../games/index");var games=_interopRequireWildcard(_index);var _vduxForm=require("vdux-form");var _vduxForm2=_interopRequireDefault(_vduxForm);var _textFields=require("../components/textFields");var _textFields2=_interopRequireDefault(_textFields);var _toggleLogic=require("../components/toggleLogic");var _toggleLogic2=_interopRequireDefault(_toggleLogic);var _vduxContainers=require("vdux-containers");var _vduxUi=require("vdux-ui");var _actions=require("../actions");function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key]}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var ADD_INCREMENT="ADD_INCREMENT";var RM_INCREMENT="RM_INCREMENT";var TOGGLE_TIME="TOGGLE_TIME";var TOGGLE_DEVICE="TOGGLE_DEVICE";var toggleTime=(0,_createAction2.default)(TOGGLE_TIME);var rmIncrement=(0,_createAction2.default)(RM_INCREMENT);var addIncrement=(0,_createAction2.default)(ADD_INCREMENT);var toggleDevice=(0,_createAction2.default)(TOGGLE_DEVICE);var setDevice=(0,_createAction2.default)("SET_DEVICE");function initialState(){return{timer:false,device:false,deviceType:"",increment:[{description:"",points:""}]}}function render(_ref){var state=_ref.state;var local=_ref.local;var props=_ref.props;var increment=state.increment;var timer=state.timer;var device=state.device;var deviceType=state.deviceType;return(0,_element2.default)(_vduxForm2.default,{cast:cast,validate:validate,onSubmit:_actions.submitForm},(0,_element2.default)(_vduxUi.Card,{p:"20px"},(0,_element2.default)(_vduxUi.Flex,{column:true,align:"space-between"},(0,_element2.default)(_textFields2.default,{title:"Game"},(0,_element2.default)(_vduxContainers.Input,{name:"name",placeholder:"name"}),(0,_element2.default)(_vduxContainers.Input,{wide:true,name:"rule",placeholder:"points expression"}),(0,_element2.default)(_vduxContainers.Input,{name:"description",placeholder:"description"})),(0,_element2.default)(_textFields2.default,{title:"Options"},(0,_element2.default)(_vduxUi.Block,{relative:true,mb:"20px"},(0,_element2.default)(_vduxUi.Block,{w:"25%",mb:"5px"},(0,_element2.default)(_toggleLogic2.default,{w:"100px",mb:"0",weight:"300",onClick:local(toggleTime),name:"timerToggle",label:"Timer"})),(0,_element2.default)(_vduxUi.Flex,null,(0,_element2.default)(_vduxContainers.Input,{w:"213px",mb:"0",disabled:!timer,placeholder:"min",name:"minutes"}),(0,_element2.default)(_vduxContainers.Input,{w:"213px",mb:"0",ml:"10px",disabled:!timer,placeholder:"sec",name:"seconds"}))),(0,_element2.default)(_vduxUi.Block,{mt:"5px",relative:true},(0,_element2.default)(_vduxUi.Block,{w:"25%",mb:"10px"},(0,_element2.default)(_toggleLogic2.default,{w:"100px",mb:"0",weight:"300",onClick:local(toggleDevice),name:"deviceToggle",label:"Device"})),(0,_element2.default)(_vduxUi.Block,{display:"inline-block",w:"213px"},(0,_element2.default)(_vduxContainers.Dropdown,{wide:true,btn:(0,_element2.default)(_vduxContainers.Button,{wide:true,bgColor:"grey",align:"center center",transition:"opacity .3s ease-in-out",disabled:!device,fs:"inherit",p:"9px"},deviceType||"Select a game",(0,_element2.default)(_vduxUi.Icon,{name:"keyboard_arrow_down"}))},(0,_keys2.default)(games).map(function(game){return(0,_element2.default)(_vduxContainers.MenuItem,{onClick:local(function(){return setDevice(game)})},game)}))),(0,_element2.default)(_vduxUi.Block,{w:"213px",display:"inline-block"},(0,_element2.default)(_vduxContainers.Input,{display:"none",value:deviceType,name:"deviceGame"})))),increment.map(function(inc,i){var id=i+1;return(0,_element2.default)(_textFields2.default,{onErase:removeInc(i),erase:id>1&&id===increment.length,title:"Goal #"+id},(0,_element2.default)(_vduxUi.Flex,null,(0,_element2.default)(_vduxContainers.Input,{mr:"10px",name:"increments."+i+".name",placeholder:"Goal"}),(0,_element2.default)(_vduxContainers.Input,{name:"increments."+i+".points",placeholder:"Points"})),(0,_element2.default)(_vduxContainers.Input,{name:"increments."+i+".description",placeholder:"Description"}))}),(0,_element2.default)(_vduxUi.Block,{p:"0 5px"},(0,_element2.default)(_vduxContainers.Button,{transition:"background .3s ease-in-out",outline:"none",weight:"600",fs:"1em",w:"100%",padding:"10px",focusProps:{},mb:"8px",onClick:local(addIncrement)},"Add points category"),(0,_element2.default)(_vduxContainers.Input,{focusProps:{},hoverProps:{bgColor:"#d5d5d5"},type:"submit"})))));function removeInc(id){return local(rmIncrement.bind(this,id))}}function cast(model){var rule=model.rule;var name=model.name;var description=model.description;var minutes=model.minutes;var seconds=model.seconds;var deviceGame=model.deviceGame;var increments=[];minutes=Number(minutes)||0;seconds=Number(seconds)||0;for(var field in model){var match=field.match(/\d/gi);var num=match?match[0]:undefined;var word=field.split(".")[2];if(!isNaN(num)){if(!increments[num]){increments[num]={}}increments[num][word]=isNaN(model[field])?model[field]:Number(model[field])}}return{description:description,name:name,rule:rule,increments:increments,deviceGame:deviceGame,timer:{minutes:minutes,seconds:seconds}}}function validate(fields){return(0,_gameValidator2.default)(fields)}var reducer=(0,_handleActions3.default)((_handleActions={},(0,_defineProperty3.default)(_handleActions,addIncrement,function(state){return(0,_extends3.default)({},state,{increment:[].concat((0,_toConsumableArray3.default)(state.increment),[{}])})}),(0,_defineProperty3.default)(_handleActions,rmIncrement,function(state,payload){return(0,_extends3.default)({},state,{increment:(0,_splice2.default)(state.increment,payload,1)})}),(0,_defineProperty3.default)(_handleActions,toggleTime,function(state){return(0,_extends3.default)({},state,{timer:!state.timer})}),(0,_defineProperty3.default)(_handleActions,toggleDevice,function(state){return(0,_extends3.default)({},state,{device:!state.device})}),(0,_defineProperty3.default)(_handleActions,setDevice,function(state,payload){return(0,_extends3.default)({},state,{deviceType:payload})}),_handleActions));exports.default={initialState:initialState,reducer:reducer,render:render}},{"../actions":363,"../components/textFields":377,"../components/toggleLogic":380,"../games/index":382,"../utils/gameValidator":396,"@f/create-action":14,"@f/handle-actions":43,"@f/splice":96,"babel-runtime/core-js/object/keys":128,"babel-runtime/helpers/defineProperty":129,"babel-runtime/helpers/extends":130,"babel-runtime/helpers/toConsumableArray":133,"vdux-containers":293,"vdux-form":302,"vdux-ui":341,"vdux/element":345}],390:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends2=require("babel-runtime/helpers/extends");var _extends3=_interopRequireDefault(_extends2);var _keys=require("babel-runtime/core-js/object/keys");var _keys2=_interopRequireDefault(_keys);var _element=require("vdux/element");var _element2=_interopRequireDefault(_element);var _team=require("../components/team");var _team2=_interopRequireDefault(_team);var _noTeams=require("../components/noTeams");var _noTeams2=_interopRequireDefault(_noTeams);var _map=require("@f/map");var _map2=_interopRequireDefault(_map);var _reduce=require("@f/reduce");var _reduce2=_interopRequireDefault(_reduce);var _getScore=require("../utils/getScore");var _getScore2=_interopRequireDefault(_getScore);var _vduxFire=require("vdux-fire");var _vduxFire2=_interopRequireDefault(_vduxFire);var _controlPanel=require("../components/controlPanel");var _controlPanel2=_interopRequireDefault(_controlPanel);var _indeterminateProgress=require("../components/indeterminateProgress");var _indeterminateProgress2=_interopRequireDefault(_indeterminateProgress);var _vduxUi=require("vdux-ui");var _vduxContainers=require("vdux-containers");var _Modal=require("../components/Modal");var _Modal2=_interopRequireDefault(_Modal);var _createAction=require("@f/create-action");var _createAction2=_interopRequireDefault(_createAction);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var updateText=(0,_createAction2.default)("UPDATE_TEXT");function initialState(){return{text:""}}function render(_ref){var props=_ref.props;var state=_ref.state;var local=_ref.local;var game=props.game;var id=props.id;var timerId=props.timerId;var uid=props.uid;var value=game.value;var loading=game.loading;var text=state.text;if(loading){return(0,_element2.default)(_indeterminateProgress2.default,{absolute:true,left:"0",top:"60px"})}var _value$rule=value.rule;var rule=_value$rule===undefined?"{points} / {commands}":_value$rule;var _value$teams=value.teams;var teams=_value$teams===undefined?{}:_value$teams;var elapsedTime=value.elapsedTime;var increments=value.increments;var deviceName=value.deviceName;var _value$deviceGame=value.deviceGame;var deviceGame=_value$deviceGame===undefined?"":_value$deviceGame;var creatorId=value.creatorId;var running=value.running;var timer=value.timer;var minutes=timer.minutes;var seconds=timer.seconds;var mine=uid===creatorId;var targetTime=Number(minutes)*60+Number(seconds);var points=(0,_map2.default)(function(team){return(0,_getScore2.default)(team.commands,team.points,rule)},teams);var items=(0,_keys2.default)(teams).length<1?(0,_element2.default)(_noTeams2.default,{id:id}):getTeams();return(0,_element2.default)(_vduxUi.Flex,{h:"80vh",column:true,align:"space-between"},deviceGame&&!deviceName&&(0,_element2.default)(_Modal2.default,{header:"Input device name",footer:(0,_element2.default)(_vduxContainers.Button,{fs:"m",px:"18px",onClick:function onClick(){return setDeviceName(text)}},"Save")},(0,_element2.default)(_vduxContainers.Input,{onKeyUp:local(updateText)})),(0,_element2.default)(_vduxUi.Flex,{h:"100%"},(0,_keys2.default)(teams).length>0&&(0,_element2.default)(_controlPanel2.default,{points:points,timerId:timerId,gameId:id,timer:targetTime,elapsedTime:elapsedTime,running:running,mine:mine}),items));function getTeams(){return(0,_reduce2.default)(function(arr,team){arr.push((0,_element2.default)(_team2.default,{name:team.name,color:team.color||"blue",commands:team.commands,mine:mine&&deviceGame.length===0,increments:increments,points:points[team.name],gameId:id}));return arr},[],teams)}function setDeviceName(name){return(0,_vduxFire.firebaseSet)({method:"update",ref:"games/"+props.id,value:{deviceName:name}})}}function reducer(state,action){switch(action.type){case updateText.type:return(0,_extends3.default)({},state,{text:action.payload.target.value})}return state}exports.default=(0,_vduxFire2.default)(function(props){return{game:"games/"+props.id}})({render:render,reducer:reducer,initialState:initialState})},{"../components/Modal":366,"../components/controlPanel":370,"../components/indeterminateProgress":372,"../components/noTeams":374,"../components/team":376,"../utils/getScore":397,"@f/create-action":14,"@f/map":75,"@f/reduce":88,"babel-runtime/core-js/object/keys":128,"babel-runtime/helpers/extends":130,"vdux-containers":293,"vdux-fire":299,"vdux-ui":341,"vdux/element":345}],391:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _keys=require("babel-runtime/core-js/object/keys");var _keys2=_interopRequireDefault(_keys);var _indeterminateProgress=require("../components/indeterminateProgress");var _indeterminateProgress2=_interopRequireDefault(_indeterminateProgress);var _reduxEffectsLocation=require("redux-effects-location");var _vduxFire=require("vdux-fire");var _vduxFire2=_interopRequireDefault(_vduxFire);var _card=require("../components/card");var _card2=_interopRequireDefault(_card);var _vduxContainers=require("vdux-containers");var _element=require("vdux/element");var _element2=_interopRequireDefault(_element);var _vduxUi=require("vdux-ui");var _reduce=require("@f/reduce");var _reduce2=_interopRequireDefault(_reduce);var _filter=require("@f/filter");var _filter2=_interopRequireDefault(_filter);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function createDeleteButton(gameId){return(0,_element2.default)(_vduxContainers.Button,{transition:"color .3s ease-in-out",hoverProps:{highlight:false,color:"#444"},onClick:deleteGame,outline:"none",bgColor:"transparent",p:"0",color:"white"},(0,_element2.default)(_vduxUi.Icon,{name:"delete"}));function deleteGame(e){e.stopImmediatePropagation();return(0,_vduxFire.firebaseSet)({value:null,ref:"games/"+gameId})}}function render(_ref){var props=_ref.props;var games=props.games;var uid=props.uid;var value=games.value;var loading=games.loading;if(loading){return(0,_element2.default)(_indeterminateProgress2.default,{absolute:true,left:"0",top:"60px"})}var myGames=(0,_filter2.default)(function(game){return uid===game.creatorId},value);return(0,_element2.default)(_vduxUi.Block,null,(0,_element2.default)(_vduxContainers.Grid,{columnAlign:"start start",itemsPerRow:4},(0,_reduce2.default)(function(arr,game){arr.push((0,_element2.default)(_card2.default,{onClick:function onClick(){return(0,_reduxEffectsLocation.setUrl)("/game/"+game.id)},name:game.name,w:"20vw",h:"auto",p:"20px",bgColor:game.color,button:createDeleteButton(game.id),titleSize:game.teams?"45%":"100%",childrenSize:"auto",description:"ID: "+game.id},game.teams&&(0,_keys2.default)(game.teams).map(function(name,i){return(0,_element2.default)(_vduxUi.Flex,{wide:true,weight:"300",align:"space-between",py:"10px",bgColor:i%2===0?"#f5f5f5":"#fff"},(0,_element2.default)(_vduxUi.Box,{p:"10px 15px"},name))})));return arr},[],myGames)))}exports.default=(0,_vduxFire2.default)(function(props){return{games:"games"}})({render:render})},{"../components/card":368,"../components/indeterminateProgress":372,"@f/filter":32,"@f/reduce":88,"babel-runtime/core-js/object/keys":128,"redux-effects-location":252,"vdux-containers":293,"vdux-fire":299,"vdux-ui":341,"vdux/element":345}],392:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends2=require("babel-runtime/helpers/extends");var _extends3=_interopRequireDefault(_extends2);var _indeterminateProgress=require("../components/indeterminateProgress");var _indeterminateProgress2=_interopRequireDefault(_indeterminateProgress);var _vduxContainers=require("vdux-containers");var _gameCard=require("../components/gameCard");var _gameCard2=_interopRequireDefault(_gameCard);var _reduxEffectsLocation=require("redux-effects-location");var _actions=require("../actions");var _reduceObj=require("@f/reduce-obj");var _reduceObj2=_interopRequireDefault(_reduceObj);var _element=require("vdux/element");var _element2=_interopRequireDefault(_element);var _vduxFire=require("vdux-fire");var _vduxFire2=_interopRequireDefault(_vduxFire);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function onCreate(){return(0,_actions.initializeApp)()}function render(_ref){var props=_ref.props;var state=_ref.state;var local=_ref.local;var gameTypes=props.gameTypes;var uid=props.uid;var value=gameTypes.value;var loading=gameTypes.loading;if(loading){return(0,_element2.default)(_indeterminateProgress2.default,{absolute:true,left:"0",top:"60px"})}return(0,_element2.default)(_vduxContainers.Block,null,(0,_element2.default)(_vduxContainers.Grid,{columnAlign:"start start",itemsPerRow:3},getItems(value)),(0,_element2.default)(_vduxContainers.Button,{fixed:true,circle:true,sq:"60px",bottom:"30px",right:"30px",outline:"none",align:"center center",color:"#333",fs:"40px",bgColor:"#7BCED2",onClick:function onClick(){return(0,_reduxEffectsLocation.setUrl)("/form")},transition:"all .3s ease-in-out",boxShadow:"0 1px 2px 0 rgba(0,0,0,0.2)",tooltip:"Create new game",hoverProps:{highlight:true}},(0,_element2.default)(_vduxContainers.Icon,{fs:"40px",name:"add",color:"#fff"})));function getItems(types){return(0,_reduceObj2.default)(function(acc,val,key){acc.push((0,_element2.default)(_gameCard2.default,(0,_extends3.default)({name:key,uid:uid,bgColor:val.color,onClick:function onClick(){return(0,_actions.createGame)((0,_extends3.default)({},val),uid)}},val)));return acc},[],types)}}exports.default=(0,_vduxFire2.default)(function(props){return{gameTypes:"gameTypes"}})({render:render,onCreate:onCreate})},{"../actions":363,"../components/gameCard":371,"../components/indeterminateProgress":372,"@f/reduce-obj":87,"babel-runtime/helpers/extends":130,"redux-effects-location":252,"vdux-containers":293,"vdux-fire":299,"vdux/element":345}],393:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends2=require("babel-runtime/helpers/extends");var _extends3=_interopRequireDefault(_extends2);var _actions=require("./actions");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function reducer(state,action){switch(action.type){case _actions.URL_DID_CHANGE:return(0,_extends3.default)({},state,{url:action.payload});case _actions.SET_TIMER_ID:return(0,_extends3.default)({},state,{timerId:action.payload});case _actions.SET_ID:return(0,_extends3.default)({},state,{id:action.payload});case _actions.SET_UID:return(0,_extends3.default)({},state,{uid:action.payload})}return state}exports.default=reducer},{"./actions":363,"babel-runtime/helpers/extends":130}],394:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends2=require("babel-runtime/helpers/extends");var _extends3=_interopRequireDefault(_extends2);var _home=require("./pages/home");var _home2=_interopRequireDefault(_home);var _form=require("./pages/form");var _form2=_interopRequireDefault(_form);var _game=require("./pages/game");var _game2=_interopRequireDefault(_game);var _games=require("./pages/games");var _games2=_interopRequireDefault(_games);var _Tabs=require("./components/Tabs");var _Tabs2=_interopRequireDefault(_Tabs);var _centered=require("./layouts/centered");var _centered2=_interopRequireDefault(_centered);var _element=require("vdux/element");var _element2=_interopRequireDefault(_element);var _enroute=require("enroute");var _enroute2=_interopRequireDefault(_enroute);var _vduxUi=require("vdux-ui");var _reduxEffectsLocation=require("redux-effects-location");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var router=(0,_enroute2.default)({"/":home,"/home":home,"/browse":browse,"/form":form,"/game/:id":game});function home(params,props){var header=(0,_element2.default)(_Tabs2.default,{relative:true,tall:true,bgColor:"white",color:"#333",h:"60px",wide:true},(0,_element2.default)(_vduxUi.MenuItem,{align:"center center",tall:true,active:true,onClick:function onClick(){return(0,_reduxEffectsLocation.setUrl)("/")},transition:"background .3s ease-in-out"},"Create a Game"),(0,_element2.default)(_vduxUi.MenuItem,{align:"center center",tall:true,onClick:function onClick(){return(0,_reduxEffectsLocation.setUrl)("/browse")},transition:"background .3s ease-in-out"},"My Games"));return(0,_element2.default)(_centered2.default,{header:header},(0,_element2.default)(_home2.default,props))}function browse(params,props){var header=(0,_element2.default)(_Tabs2.default,{relative:true,tall:true,bgColor:"white",color:"#333",h:"60px",wide:true},(0,_element2.default)(_vduxUi.MenuItem,{align:"center center",tall:true,onClick:function onClick(){return(0,_reduxEffectsLocation.setUrl)("/")},transition:"background .3s ease-in-out"},"Create a Game"),(0,_element2.default)(_vduxUi.MenuItem,{align:"center center",tall:true,active:true,onClick:function onClick(){return(0,_reduxEffectsLocation.setUrl)("/browse")},transition:"background .3s ease-in-out"},"My Games"));return(0,_element2.default)(_centered2.default,{header:header},(0,_element2.default)("div",{style:{display:"none"}},"browse"),(0,_element2.default)(_games2.default,props))}function form(params,props){return(0,_element2.default)(_centered2.default,null,(0,_element2.default)("div",{style:{display:"none"}},"form"),(0,_element2.default)("div",{style:{display:"none"}},"form"),(0,_element2.default)(_form2.default,props))}function game(params,props){return(0,_element2.default)(_centered2.default,null,(0,_element2.default)("div",{style:{display:"none"}},"game"),(0,_element2.default)("div",{style:{display:"none"}},"game"),(0,_element2.default)("div",{style:{display:"none"}},"game"),(0,_element2.default)(_game2.default,(0,_extends3.default)({},props,{id:params.id})))}exports.default=router},{"./components/Tabs":367,"./layouts/centered":384,"./pages/form":389,"./pages/game":390,"./pages/games":391,"./pages/home":392,"babel-runtime/helpers/extends":130,enroute:223,"redux-effects-location":252,"vdux-ui":341,"vdux/element":345}],395:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends2=require("babel-runtime/helpers/extends");var _extends3=_interopRequireDefault(_extends2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var baseColors={black:"#111",white:"#fff",gray:"#ddd",midgray:"#888",lightgray:"#f5f5f5",blue:"rgb(66, 152, 245)",red:"#f52",orange:"#f70",green:"#1c7",darkgrey:"#b5b5b5"};exports.default={colors:(0,_extends3.default)({},baseColors,{primary:baseColors.blue,secondary:baseColors.midgray,"default":baseColors.black,info:baseColors.blue,success:baseColors.green,warning:baseColors.orange,error:baseColors.red,divider:baseColors.lightgray,text:baseColors.black,disabled:baseColors.lightgray}),spinnerAnimation:"change me"}},{"babel-runtime/helpers/extends":130}],396:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _schema=require("@weo-edu/schema");var _schema2=_interopRequireDefault(_schema);var _validate=require("@weo-edu/validate");var _validate2=_interopRequireDefault(_validate);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var name=(0,_schema2.default)("string").min(1).max(16).pattern(/[a-zA-Z0-9]+/);var rule=(0,_schema2.default)("string").pattern(/(\{points\})(.*\{commands\})|(\{commands\})(.*\{points\})/gi);var description=(0,_schema2.default)("string").min(1);var number=(0,_schema2.default)("number");var incrementor=(0,_schema2.default)().prop("name",[name,number]).prop("description",description).prop("points",number).required(["name","description","points"]);var increments=(0,_schema2.default)("array").items(incrementor);var timer=(0,_schema2.default)().prop("minutes",number).prop("seconds",number);var game=(0,_schema2.default)().prop("name",name).prop("rule",rule).prop("timer",timer).prop("description",description).prop("increments",increments).required(["name","rule","description"]);exports.default=(0,_validate2.default)(game)},{"@weo-edu/schema":109,"@weo-edu/validate":118}],397:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _stringTemplate=require("string-template");var _stringTemplate2=_interopRequireDefault(_stringTemplate);var _bigeval=require("bigeval");var _bigeval2=_interopRequireDefault(_bigeval);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var expEval=new _bigeval2.default;exports.default=function(commands,points,rule){if(isNaN(commands)||commands===0){return points}else{var exp=(0,_stringTemplate2.default)(rule,{points:points,commands:commands});return Math.floor(expEval.exec(exp))||0}}},{bigeval:205,"string-template":276}]},{},[365]);